!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){t.exports=function(){"use strict";function t(t,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(0, 0, 0, 0)";return Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),"hex"==o?e(t):"rgb"==o?n(t,i):"hsl"==o?r(t):t}function e(t){Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]});var e=t.r.toString(16);t.r<16&&(e="0"+e);var n=t.g.toString(16);t.g<16&&(n="0"+n);var r=t.b.toString(16);t.b<16&&(r="0"+r);var o="";if(t.a<1){var i=Math.floor(255*t.a);o=i.toString(16),i<16&&(o="0"+o)}return"#"+e+n+r+o}function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(0, 0, 0, 0)";if(Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),void 0!==t)return 1==t.a||void 0===t.a?isNaN(t.r)?e:"rgb("+t.r+","+t.g+","+t.b+")":"rgba("+t.r+","+t.g+","+t.b+","+t.a+")"}function r(t){return Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),1==t.a||void 0===t.a?"hsl("+t.h+","+t.s+"%,"+t.l+"%)":"hsla("+t.h+","+t.s+"%,"+t.l+"%,"+t.a+")"}var o={format:t,rgb:n,hsl:r,hex:e};function i(t,e){return e=void 0===e?1:e,Math.round(t*e)/e}function a(t){return t*Math.PI/180}function u(t){var e=180*t/Math.PI;return e<0&&(e=360+e),e}function c(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n+e*Math.cos(a(t))}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n+e*Math.sin(a(t))}function s(t,e){return u(Math.atan2(e,t))}var f={round:i,radianToDegree:u,degreeToRadian:a,getXInCircle:c,getYInCircle:l,caculateAngle:s},h={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb(0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb(95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(237, 20, 61)",cyan:"rgb(0, 255, 255)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgrey:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb(0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb(75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgreen:"rgb(144, 238, 144)",lightgray:"rgb(211, 211, 211)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb(0, 255, 0)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",rebeccapurple:"rgb(102, 51, 153)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb(65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb(0, 255, 127)",steelblue:"rgb(70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb(0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb(64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)",transparent:"rgba(0, 0, 0, 0)"},p={isColorName:function(t){return!!h[t]},getColorByName:function(t){return h[t]}};function v(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function d(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.l}var o,a,u;if(t/=360,n/=100,0==(e/=100))o=a=u=n;else{var c=n<.5?n*(1+e):n+e-n*e,l=2*n-c;o=v(l,c,t+1/3),a=v(l,c,t),u=v(l,c,t-1/3)}return{r:i(255*o),g:i(255*a),b:i(255*u)}}var y={HUEtoRGB:v,HSLtoHSV:function(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.l}var o=d(t,e,n);return D(o.r,o.g,o.b)},HSLtoRGB:d},g=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},b=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},O=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},$=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},x=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},C=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},j=/(#(?:[\da-f]{3}){1,2}|#(?:[\da-f]{8})|rgb\((?:\s*\d{1,3},\s*){2}\d{1,3}\s*\)|rgba\((?:\s*\d{1,3},\s*){3}\d*\.?\d+\s*\)|hsl\(\s*\d{1,3}(?:,\s*\d{1,3}%){2}\s*\)|hsla\(\s*\d{1,3}(?:,\s*\d{1,3}%){2},\s*\d*\.?\d+\s*\)|([\w_\-]+))/gi;function S(t){var e=t.match(j),n=[];if(!e)return n;for(var r=0,o=e.length;r<o;r++)if(e[r].indexOf("#")>-1||e[r].indexOf("rgb")>-1||e[r].indexOf("hsl")>-1)n.push({color:e[r]});else{var i=p.getColorByName(e[r]);i&&n.push({color:e[r],nameColor:i})}var a={next:0};return n.forEach((function(e){var n=t.indexOf(e.color,a.next);e.startIndex=n,e.endIndex=n+e.color.length,a.next=e.endIndex})),n}function P(t){var e=S(t);return e.forEach((function(e,n){t=t.replace(e.color,"@"+n)})),{str:t,matches:e}}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=P(t);return n.str.split(e).map((function(t,e){return t=E(t),n.matches[e]&&(t=t.replace("@"+e,n.matches[e].color)),t}))}function R(t,e){return e.forEach((function(e,n){t=t.replace("@"+n,e.color)})),t}function E(t){return t.replace(/^\s+|\s+$/g,"")}function T(t){if("string"==typeof t){if(p.isColorName(t)&&(t=p.getColorByName(t)),t.indexOf("rgb(")>-1){for(var e=0,n=(o=t.replace("rgb(","").replace(")","").split(",")).length;e<n;e++)o[e]=parseInt(E(o[e]),10);var r={type:"rgb",r:o[0],g:o[1],b:o[2],a:1};return r=Object.assign(r,M(r))}if(t.indexOf("rgba(")>-1){for(e=0,n=(o=t.replace("rgba(","").replace(")","").split(",")).length;e<n;e++)o[e]=n-1==e?parseFloat(E(o[e])):parseInt(E(o[e]),10);return r={type:"rgb",r:o[0],g:o[1],b:o[2],a:o[3]},r=Object.assign(r,M(r))}if(t.indexOf("hsl(")>-1){for(e=0,n=(o=t.replace("hsl(","").replace(")","").split(",")).length;e<n;e++)o[e]=parseFloat(E(o[e]));return r={type:"hsl",h:o[0],s:o[1],l:o[2],a:1},r=Object.assign(r,d(r))}if(t.indexOf("hsla(")>-1){for(e=0,n=(o=t.replace("hsla(","").replace(")","").split(",")).length;e<n;e++)o[e]=n-1==e?parseFloat(E(o[e])):parseInt(E(o[e]),10);return r={type:"hsl",h:o[0],s:o[1],l:o[2],a:o[3]},r=Object.assign(r,d(r))}if(0==t.indexOf("#")){var o=[],i=1;if(3==(t=t.replace("#","")).length)for(e=0,n=t.length;e<n;e++){var a=t.substr(e,1);o.push(parseInt(a+a,16))}else if(8===t.length){for(e=0,n=t.length;e<n;e+=2)o.push(parseInt(t.substr(e,2),16));i=o.pop()/255}else for(e=0,n=t.length;e<n;e+=2)o.push(parseInt(t.substr(e,2),16));return r={type:"hex",r:o[0],g:o[1],b:o[2],a:i},r=Object.assign(r,M(r))}}else if("number"==typeof t){if(0<=t&&t<=16777215)return r={type:"hex",r:(16711680&t)>>16,g:(65280&t)>>8,b:(255&t)>>0,a:1},r=Object.assign(r,M(r));if(0<=t&&t<=4294967295)return r={type:"hex",r:(4278190080&t)>>24,g:(16711680&t)>>16,b:(65280&t)>>8,a:(255&t)/255},r=Object.assign(r,M(r))}return t}function I(t){"string"==typeof t&&(t=_(t));var e=(t=t.map((function(t){if("string"==typeof t){var e=P(t),n=E(e.str).split(" ");return n[1]?n[1].includes("%")?n[1]=parseFloat(n[1].replace(/%/,""))/100:n[1]=parseFloat(n[1]):n[1]="*",n[0]=R(n[0],e.matches),n}if(Array.isArray(t))return t[1]?"string"==typeof t[1]&&(t[1].includes("%")?t[1]=parseFloat(t[1].replace(/%/,""))/100:t[1]=+t[1]):t[1]="*",[].concat(C(t))}))).filter((function(t){return"*"===t[1]})).length;if(e>0){var n=(1-t.filter((function(t){return"*"!=t[1]&&1!=t[1]})).map((function(t){return t[1]})).reduce((function(t,e){return t+e}),0))/e;t.forEach((function(e,r){"*"==e[1]&&r>0&&(t.length-1==r||(e[1]=n))}))}return t}var B={matches:S,convertMatches:P,convertMatchesArray:_,reverseMatches:R,parse:T,parseGradient:I,trim:E,color_regexp:j,color_split:","};function D(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,a=n/255,u=Math.max(o,i,a),c=Math.min(o,i,a),l=u-c,s=0;return 0==l?s=0:u==o?s=(i-a)/l%6*60:u==i?s=60*((a-o)/l+2):u==a&&(s=60*((o-i)/l+4)),s<0&&(s=360+s),{h:s,s:0==u?0:l/u,v:u}}function M(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}t/=255,e/=255,n/=255;var o,a,u=Math.max(t,e,n),c=Math.min(t,e,n),l=(u+c)/2;if(u==c)o=a=0;else{var s=u-c;switch(a=l>.5?s/(2-u-c):s/(u+c),u){case t:o=(e-n)/s+(e<n?6:0);break;case e:o=(n-t)/s+2;break;case n:o=(t-e)/s+4}o/=6}return{h:i(360*o),s:i(100*a),l:i(100*l)}}function A(t){return{r:t,g:t,b:t}}function V(t,e,n){return Math.ceil(.2126*t+.7152*e+.0722*n)}function L(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=V(t,e,n),i=.564*(n-o),a=.713*(t-o);return{y:o,cr:a,cb:i}}function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.04045;return 100*(t>e?Math.pow((t+.055)/1.055,2.4):t/12.92)}function H(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,a=n/255,u=.4124*(o=U(o))+.3576*(i=U(i))+.1805*(a=U(a)),c=.2126*o+.7152*i+.0722*a,l=.0193*o+.1192*i+.9505*a;return{x:u,y:c,z:l}}var N={RGBtoCMYK:function(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,a=n/255,u=1-Math.max(o,i,a),c=(1-o-u)/(1-u),l=(1-i-u)/(1-u),s=(1-a-u)/(1-u);return{c:c,m:l,y:s,k:u}},RGBtoGray:function(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return A(L(t,e,n).y)},RGBtoHSL:M,RGBtoHSV:D,RGBtoLAB:function(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return XYZtoLAB(H(t,e,n))},RGBtoSimpleGray:function(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return A(Math.ceil((t+e+n)/3))},RGBtoXYZ:H,RGBtoYCrCb:L,c:function(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return A((t+e+n)/3>90?0:255)},brightness:V,gray:A},F={CMYKtoRGB:function(t,e,n,r){if(1==arguments.length){var o=arguments[0];t=o.c,e=o.m,n=o.y,r=o.k}var i=255*(1-t)*(1-r),a=255*(1-e)*(1-r),u=255*(1-n)*(1-r);return{r:i,g:a,b:u}}};function G(t){return Math.pow(t,3)>.008856?Math.pow(t,3):(t-16/116)/7.787}function z(t){return t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t}function X(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.x,e=r.y,n=r.z}var o=t/100,a=e/100,u=n/100,c=3.2406*o+-1.5372*a+-.4986*u,l=-.9689*o+1.8758*a+.0415*u,s=.0557*o+-.204*a+1.057*u;c=z(c),l=z(l),s=z(s);var f=i(255*c),h=i(255*l),p=i(255*s);return{r:f,g:h,b:p}}function Y(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.l,e=r.a,n=r.b}var o=(t+16)/116,i=e/500+o,a=o-n/200;o=G(o);var u=95.047*(i=G(i)),c=100*o,l=108.883*(a=G(a));return{x:u,y:c,z:l}}var W={XYZtoRGB:X,LABtoRGB:function(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.l,e=r.a,n=r.b}return X(Y(t,e,n))},LABtoXYZ:Y};function q(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.v}var o=t,a=e,u=n;o>=360&&(o=0);var c=a*u,l=c*(1-Math.abs(o/60%2-1)),s=u-c,f=[];return 0<=o&&o<60?f=[c,l,0]:60<=o&&o<120?f=[l,c,0]:120<=o&&o<180?f=[0,c,l]:180<=o&&o<240?f=[0,l,c]:240<=o&&o<300?f=[l,0,c]:300<=o&&o<360&&(f=[c,0,l]),{r:i(255*(f[0]+s)),g:i(255*(f[1]+s)),b:i(255*(f[2]+s))}}var K={HSVtoHSL:function(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.v}var o=q(t,e,n);return M(o.r,o.g,o.b)},HSVtoRGB:q},J={YCrCbtoRGB:function(t,e,n,r){if(1==arguments.length){var o=arguments[0];t=o.y,e=o.cr,n=o.cb,r=(r=o.bit)||0}var i=t+1.402*(e-r),a=t-.344*(n-r)-.714*(e-r),u=t+1.772*(n-r);return{r:Math.ceil(i),g:Math.ceil(a),b:Math.ceil(u)}}};function Z(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",a={r:i(e.r+(n.r-e.r)*r),g:i(e.g+(n.g-e.g)*r),b:i(e.b+(n.b-e.b)*r),a:i(e.a+(n.a-e.a)*r,100)};return t(a,a.a<1?"rgb":o)}function Q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(!t)return[];"string"==typeof t&&(t=_(t));for(var n=(t=t||[]).length,r=[],o=0;o<n-1;o++)for(var i=0;i<e;i++)r.push(tt(t[o],t[o+1],i/e));return r}function tt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",o=T(t),i=T(e);return Z(o,i,n,r)}function et(t){return t=T(t),(Math.round(299*t.r)+Math.round(587*t.g)+Math.round(114*t.b))/1e3}function nt(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,c=T(e),l=D(c),s=(a-i)*u/r,f=[],h=1;h<=r;h++)l[n]=Math.abs((u-s*h)/u),f.push(t(q(l),o));return f}Q.parula=function(t){return Q(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],t)},Q.jet=function(t){return Q(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],t)},Q.hsv=function(t){return Q(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],t)},Q.hot=function(t){return Q(["#0b0000","#ff0000","#ffff00","#ffffff"],t)},Q.pink=function(t){return Q(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],t)},Q.bone=function(t){return Q(["#000000","#4a4a68","#a6c6c6","#ffffff"],t)},Q.copper=function(t){return Q(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],t)};var rt={interpolateRGB:Z,blend:tt,mix:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex";return tt(t,e,n,r)},scale:Q,contrast:et,contrastColor:function(t){return et(t)>=128?"black":"white"},gradient:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=[],r=e-((t=I(t)).length-1),o=r,i=1,a=t.length;i<a;i++){var u=t[i-1][0],c=t[i][0],l=1==i?t[i][1]:t[i][1]-t[i-1][1],s=i==t.length-1?o:Math.floor(l*r);n=n.concat(Q([u,c],s),[c]),o-=s}return n},scaleHSV:nt,scaleH:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:360;return nt(t,"h",e,n,r,o,1)},scaleS:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return nt(t,"s",e,n,r,o,100)},scaleV:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return nt(t,"v",e,n,r,o,100)}};function ot(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;++n)if(t[n]!==e[n])return!1;return!0}var it={euclidean:function(t,e){for(var n=0,r=0,o=t.length;r<o;r++)n+=Math.pow(e[r]-t[r],2);return Math.sqrt(n)},manhattan:function(t,e){for(var n=0,r=0,o=t.length;r<o;r++)n+=Math.abs(e[r]-t[r]);return n},max:function(t,e){for(var n=0,r=0,o=t.length;r<o;r++)n=Math.max(n,Math.abs(e[r]-t[r]));return n}},at={linear:function(t,e){var n=[],r=Math.round(Math.random()*t),o=Math.floor(t/e);do{n.push(r),r=(r+o)%t}while(n.length<e);return n},shuffle:function(t,e){for(var n=[];n.length<e;){var r=Math.round(Math.random()*t);-1==n.indexOf(r)&&n.push(r)}return n}};function ut(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear",r=at[n](t.length,e);return r.map((function(e){return t[e]}))}function ct(t,e,n){var r=1/0,o=0;return e.forEach((function(e,i){var a=n(t,e);a<r&&(r=a,o=i)})),o}function lt(t){if(!t.length)return[];for(var e=new Array(t[0].length),n=0,r=e.length;n<r;n++)e[n]=0;var o=0;for(r=t.length;o<r;o++)for(var i=t[o],a=o+1,u=0,c=i.length;u<c;u++)e[u]+=(i[u]-e[u])/a;return e=e.map((function(t){return Math.floor(t)}))}function st(t,e,n,r){for(var o=new Array(t),i=0;i<t;i++)o[i]=[];for(var a=0,u=e.length;a<u;a++){var c=e[a];o[ct(c,n,r)].push(c)}return o}function ft(t,e,n,r,o,i){for(var a=0;a<t;a++){var u=n[a],c=r[a],l=new Array(c.length);l=u.length>0?lt(u):e[Math.floor(i()*e.length)],o=!ot(l,c),r[a]=l}return o}function ht(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"linear";t=t,e=e||Math.max(2,Math.ceil(Math.sqrt(t.length/2)));var i=n||"euclidean";"string"==typeof i&&(i=it[i]);for(var a=0,u=function(){return(a=(9301*a+49297)%233280)/233280},c=ut(t,e,o),l=!0,s=0;l;){var f=st(e,t,c,i);if(l=ft(e,t,f,c,!1,u),++s%r==0)break}return c}var pt={create:function(t,e){var n=document.createElement("canvas");return n.width=t||0,n.height=e||0,n},drawPixels:function(t){var e=this.create(t.width,t.height),n=e.getContext("2d"),r=n.getImageData(0,0,e.width,e.height);return r.data.set(t.pixels),n.putImageData(r,0,0),e},createHistogram:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{black:!0,red:!1,green:!1,blue:!1},i=this.create(t,e),a=i.getContext("2d");a.clearRect(0,0,t,e),a.fillStyle="white",a.fillRect(0,0,t,e),a.globalAlpha=.7;var u={black:!1};o.black?u.black=!1:u.black=!0,o.red?u.red=!1:u.red=!0,o.green?u.green=!1:u.green=!0,o.blue?u.blue=!1:u.blue=!0,Object.keys(n).forEach((function(r){if(!u[r]){var o=n[r],i=Math.max.apply(Math,o),c=t/o.length;a.fillStyle=r,o.forEach((function(t,n){var r=e*(t/i),o=n*c;a.fillRect(o,e-r,c,r)}))}})),"function"==typeof r&&r(i)},getHistogram:function(t){for(var e=new Array(256),n=new Array(256),r=new Array(256),o=new Array(256),i=0;i<256;i++)e[i]=0,n[i]=0,r[i]=0,o[i]=0;return function(t,e){!function(t,e){for(var n=0;n<t;n+=4)e(n)}(t.pixels.length,(function(n){e(t.pixels,n)}))}(t,(function(t,i){var a=Math.round(yt.brightness(t[i],t[i+1],t[i+2]));e[a]++,n[t[i]]++,r[t[i+1]]++,o[t[i+2]]++})),{black:e,red:n,green:r,blue:o}},getBitmap:function(t,e){var n=this.drawPixels(t);return{pixels:n.getContext("2d").getImageData(e.x||0,e.y||0,e.width||n.width,e.height||n.height).data,width:e.width,height:e.height}},putBitmap:function(t,e,n){var r=this.drawPixels(t),o=this.drawPixels(e),i=r.getContext("2d");return i.drawImage(o,n.x,n.y),t.pixels=i.getImageData(0,0,t.width,t.height).data,t}},vt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(this,t),this.isLoaded=!1,this.imageUrl=e,this.opt=n,this.initialize()}return b(t,[{key:"initialize",value:function(){this.canvas=this.createCanvas(),this.context=this.canvas.getContext("2d")}},{key:"createCanvas",value:function(){return document.createElement("canvas")}},{key:"load",value:function(t){this.loadImage(t)}},{key:"loadImage",value:function(t){var e=this,n=this.context;this.newImage=new Image;var r=this.newImage;r.onload=function(){var o=r.height/r.width;e.opt.canvasWidth&&e.opt.canvasHeight?(e.canvas.width=e.opt.canvasWidth,e.canvas.height=e.opt.canvasHeight):(e.canvas.width=e.opt.maxWidth?e.opt.maxWidth:r.width,e.canvas.height=e.canvas.width*o),n.drawImage(r,0,0,r.width,r.height,0,0,e.canvas.width,e.canvas.height),e.isLoaded=!0,t&&t()},this.getImageUrl((function(t){r.src=t}))}},{key:"load",value:function(t){var e=this;this.newImage=new Image;var n=this.newImage;n.onload=function(){e.isLoaded=!0,t&&t()},this.getImageUrl((function(t){n.src=t}))}},{key:"getImageUrl",value:function(t){if("string"==typeof this.imageUrl)return t(this.imageUrl);if(this.imageUrl instanceof Blob){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.readAsDataURL(this.imageUrl)}}},{key:"getRGBA",value:function(t,e,n,r){return[t,e,n,r]}},{key:"toArray",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),o=r.width,i=r.height,a=new Uint8ClampedArray(r.data),u={pixels:a,width:o,height:i};t||(t=function(t,e){e(t)}),t(u,(function(t){var r=pt.drawPixels(t);"canvas"==n.returnTo?e(r):e(r.toDataURL(n.outputFormat||"image/png"))}),n)}},{key:"toHistogram",value:function(t){var e=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),n=e.width,r=e.height,o={pixels:new Uint8ClampedArray(e.data),width:n,height:r};return pt.getHistogram(o)}},{key:"toRGB",value:function(){for(var t=this.context.getImageData(0,0,this.canvas.width,this.canvas.height).data,e=[],n=0,r=t.length;n<r;n+=4)e[e.length]=[t[n+0],t[n+1],t[n+2],t[n+3]];return e}}]),t}();function dt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{frameTimer:"full"},o=new vt(t);o.loadImage((function(){o.toArray(e,(function(t){"function"==typeof n&&n(t)}),r)}))}var yt=k({},o,f,rt,B,J,N,F,K,y,W,{palette:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";return e.length>n&&(e=ht(e,n)),e.map((function(e){return t(e,r)}))},ImageToCanvas:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{frameTimer:"full"};dt(t,e,n,Object.assign({returnTo:"canvas"},r))},ImageToHistogram:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{width:200,height:100},r=new vt(t);r.loadImage((function(){pt.createHistogram(n.width||200,n.height||100,r.toHistogram(n),(function(t){"function"==typeof e&&e(t.toDataURL("image/png"))}),n)}))},ImageToRGB:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if(n){if(n){var r;(r=new vt(t,e)).loadImage((function(){"function"==typeof n&&n(r.toRGB())}))}}else(r=new vt(t)).loadImage((function(){"function"==typeof e&&e(r.toRGB())}))},ImageToURL:dt,histogram:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vt(t);r.loadImage((function(){"function"==typeof e&&e(r.toHistogram(n))}))},histogramToPoints:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=[],r=0;r<t.length;r++){var o=t[r];if(0!=r)if(r!=t.length-1){var i=t[r-1],a=t[r+1],u=(a[1],i[1],a[0],i[0],[i[0]+(a[0]-i[0])*e,i[1]+(a[1]-i[1])*e]),c=[[].concat(C(i)),[].concat(u)],l=Math.sqrt(Math.pow(o[0]-i[0],2)+Math.pow(o[1]-i[1],2)),s=Math.sqrt(Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)),f=l/s,h=c[0][0]+(c[1][0]-c[0][0])*f,p=c[0][1]+(c[1][1]-c[0][1])*f;c[0][0]+=o[0]-h,c[0][1]+=o[1]-p,c[1][0]+=o[0]-h,c[1][1]+=o[1]-p,n[r]=c}else n[r]=[];else n[r]=[]}return n}});function gt(t){return null==t}function bt(t){return!1===gt(t)}function mt(t){return"string"==typeof t}function kt(t){return"function"==typeof t}function wt(t){return"number"==typeof t}var Ot=[{rgb:"#ff0000",start:0},{rgb:"#ffff00",start:.17},{rgb:"#00ff00",start:.33},{rgb:"#00ffff",start:.5},{rgb:"#0000ff",start:.67},{rgb:"#ff00ff",start:.83},{rgb:"#ff0000",start:1}];function $t(t){for(var e,n,r=0;r<Ot.length;r++)if(Ot[r].start>=t){e=Ot[r-1],n=Ot[r];break}return e&&n?yt.mix(e.rgb,n.rgb,(t-e.start)/(n.start-e.start)):Ot[0].rgb}!function(){for(var t=0,e=Ot.length;t<e;t++){var n=Ot[t],r=yt.parse(n.rgb);n.r=r.r,n.g=r.g,n.b=r.b}}();var xt={colors:Ot,checkHueColor:$t,getHueScale:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=arguments[2],r=gt(n)?t-e:e,o=gt(n)?t+scale:n,i=[],a=0;a<Ot.length;a++){var u=Ot[a];r<=u.start&&u.start<o?i.push({rgb:u.rgb,start:u.start}):Ot[a+1]&&u.start<r&&r<Ot[a+1].start?i.push({rgb:$t(r),start:r}):Ot[a-1]&&Ot[a-1].start<o&&o<u.start?i.push({rgb:$t(o),start:o}):u.start<r||u.start>o||i.push({rgb:u.rgb,start:u.start})}return i}},Ct={identity:function(){return[1,0,0,0,1,0,0,0,1]},stretching:function(t){return[t,0,0,0,1,0,0,0,1]},squeezing:function(t){return[t,0,0,0,1/t,0,0,0,1]},scale:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[t=t||0===t?t:1,0,0,0,e=e||0===e?e:1,0,0,0,1]},scaleX:function(t){return this.scale(t)},scaleY:function(t){return this.scale(1,t)},translate:function(t,e){return[1,0,t,0,1,e,0,0,1]},rotate:function(t){var e=this.radian(t);return[Math.cos(e),-Math.sin(e),0,Math.sin(e),Math.cos(e),0,0,0,1]},rotate90:function(){return[0,-1,0,1,0,0,0,0,1]},rotate180:function(){return[-1,0,0,0,-1,0,0,0,1]},rotate270:function(){return[0,1,0,-1,0,0,0,0,1]},radian:function(t){return t*Math.PI/180},skew:function(t,e){var n=this.radian(t),r=this.radian(e);return[1,Math.tan(n),0,Math.tan(r),1,0,0,0,1]},skewX:function(t){var e=this.radian(t);return[1,Math.tan(e),0,0,1,0,0,0,1]},skewY:function(t){var e=this.radian(t);return[1,0,0,Math.tan(e),1,0,0,0,1]},shear1:function(t){return[1,-Math.tan(this.radian(t)/2),0,0,1,0,0,0,1]},shear2:function(t){return[1,0,0,Math.sin(this.radian(t)),1,0,0,0,1]}},jt={CONSTANT:Ct,radian:function(t){return Ct.radian(t)},multiply:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]},identity:function(t){return this.multiply(Ct.identity(),t)},translate:function(t,e,n){return this.multiply(Ct.translate(t,e),n)},rotate:function(t,e){return this.multiply(Ct.rotate(t),e)},shear1:function(t,e){return this.multiply(Ct.shear1(t),e)},shear2:function(t,e){return this.multiply(Ct.shear2(t),e)},rotateShear:function(t,e){var n=e;return n=this.shear1(t,n),n=this.shear2(t,n),n=this.shear1(t,n)}};function St(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center";return function(r,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=ne(r.pixels.length,r.width,r.height),u=r.width,c=r.height;"center"==e&&(e=Math.floor(u/2)),"center"==n&&(n=Math.floor(c/2));var l=jt.CONSTANT.translate(-e,-n),s=jt.CONSTANT.translate(e,n),f=jt.CONSTANT.shear1(t),h=jt.CONSTANT.shear2(t);ye((function(t,e,n,o){var i=jt.multiply(l,[n,o,1]);i=jt.multiply(f,i).map(Math.round),i=jt.multiply(h,i).map(Math.round),i=jt.multiply(f,i).map(Math.round),i=jt.multiply(s,i);var a=x(i,2),p=a[0],v=a[1];p<0||v<0||p>u-1||v>c-1||me(t,v*u+p<<2,r.pixels,e)}))(a,(function(){o(a)}),i)}}function Pt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=ce(t),o=(e=ce(e))/100,i=n;return pe("\n        // refer to Color.brightness \n        const v = ($C * Math.ceil($r * 0.2126 + $g * 0.7152 + $b * 0.0722) ) >= $scale ? 255 : 0;\n\n        if ($hasColor) {\n\n            if (v == 0) {\n                $r = 0; \n                $g = 0; \n                $b = 0;\n            }\n            \n        } else {\n            const value = Math.round(v);\n            $r = value; \n            $g = value;\n            $b = value; \n        }\n        \n    ",{$C:o,$scale:r,$hasColor:i})}function _t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=(t=ce(t))/100;return Oe(Kt([1,2,1,2,4,2,1,2,1],1/16*e))}function Rt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=(t=ce(t))/100;return Oe(Kt([1,4,6,4,1,4,16,24,16,4,6,24,36,24,6,4,16,24,16,4,1,4,6,4,1],1/256*e))}function Et(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=ce(t),Oe([5,5,5,-3,0,-3,-3,-3,-3])}function Tt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=ce(t),Oe([5,-3,-3,5,0,-3,5,-3,-3])}function It(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Oe(Kt([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,24,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],(t=ce(t))/100))}function Bt(){return Oe(Kt([1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1],1/9))}function Dt(){return Oe(Kt([1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1],1/9))}function Mt(){return Oe(Kt([1,0,0,0,1,0,0,0,1,0,1,0,0,1,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0,1,0,0,0,1],1/9))}function At(){return Oe([-1,-2,-1,0,0,0,1,2,1])}function Vt(){return Oe([-1,0,1,-2,0,2,-1,0,1])}var Lt=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Ut=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Ht(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function Nt(t,e,n){return n?function(t,e,n,r){if(isNaN(r)||r<1)return t;r|=0;var o,i,a,u,c,l,s,f,h,p,v,d,y,g,b,m,k,w,O,$,x=t.pixels,C=t.width,j=t.height,S=r+r+1,P=C-1,_=j-1,R=r+1,E=R*(R+1)/2,T=new Ht,I=T;for(a=1;a<S;a++)if(I=I.next=new Ht,a==R)var B=I;I.next=T;var D=null,M=null;s=l=0;var A=Lt[r],V=Ut[r];for(i=0;i<j;i++){for(g=b=m=f=h=p=0,v=R*(k=x[l]),d=R*(w=x[l+1]),y=R*(O=x[l+2]),f+=E*k,h+=E*w,p+=E*O,I=T,a=0;a<R;a++)I.r=k,I.g=w,I.b=O,I=I.next;for(a=1;a<R;a++)u=l+((P<a?P:a)<<2),f+=(I.r=k=x[u])*($=R-a),h+=(I.g=w=x[u+1])*$,p+=(I.b=O=x[u+2])*$,g+=k,b+=w,m+=O,I=I.next;for(D=T,M=B,o=0;o<C;o++)x[l]=f*A>>V,x[l+1]=h*A>>V,x[l+2]=p*A>>V,f-=v,h-=d,p-=y,v-=D.r,d-=D.g,y-=D.b,u=s+((u=o+r+1)<P?u:P)<<2,g+=D.r=x[u],b+=D.g=x[u+1],m+=D.b=x[u+2],f+=g,h+=b,p+=m,D=D.next,v+=k=M.r,d+=w=M.g,y+=O=M.b,g-=k,b-=w,m-=O,M=M.next,l+=4;s+=C}for(o=0;o<C;o++){for(b=m=g=h=p=f=0,v=R*(k=x[l=o<<2]),d=R*(w=x[l+1]),y=R*(O=x[l+2]),f+=E*k,h+=E*w,p+=E*O,I=T,a=0;a<R;a++)I.r=k,I.g=w,I.b=O,I=I.next;for(c=C,a=1;a<=r;a++)l=c+o<<2,f+=(I.r=k=x[l])*($=R-a),h+=(I.g=w=x[l+1])*$,p+=(I.b=O=x[l+2])*$,g+=k,b+=w,m+=O,I=I.next,a<_&&(c+=C);for(l=o,D=T,M=B,i=0;i<j;i++)x[u=l<<2]=f*A>>V,x[u+1]=h*A>>V,x[u+2]=p*A>>V,f-=v,h-=d,p-=y,v-=D.r,d-=D.g,y-=D.b,u=o+((u=i+R)<_?u:_)*C<<2,f+=g+=D.r=x[u],h+=b+=D.g=x[u+1],p+=m+=D.b=x[u+2],D=D.next,v+=k=M.r,d+=w=M.g,y+=O=M.b,g-=k,b-=w,m-=O,M=M.next,l+=C}return t}(t,0,0,e):stackBlurCanvasRGB(t,0,0,e)}function Ft(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=ce(t),function(n,r){r(Nt(n,t,e))}}function Gt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256;return Oe(Kt([1,4,6,4,1,4,16,24,16,4,6,24,-476,24,6,4,16,24,16,4,1,4,6,4,1],-1/(t=ce(t))))}var zt,Xt=k({},{crop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=arguments[3],o=ne(n*r*4,n,r);return function(i,a){for(var u=e,c=0;u<r;u++,c++)for(var l=t,s=0;l<n;l++,s++)o.pixels[c*n*s]=i.pixels[u*n*l];a(o)}},resize:function(t,e){return function(n,r){var o=pt.drawPixels(n),i=o.getContext("2d");o.width=t,o.height=e,r({pixels:new Uint8ClampedArray(i.getImageData(0,0,t,e).data),width:t,height:e})}},flipH:function(){return function(t,e){for(var n=t.width,r=t.height,o=n%2==1?Math.floor(n/2):n/2,i=0;i<r;i++)for(var a=0;a<o;a++){var u=i*n+a<<2,c=i*n+(n-1-a)<<2;de(t.pixels,u,c)}e(t)}},flipV:function(){return function(t,e){for(var n=t.width,r=t.height,o=r%2==1?Math.floor(r/2):r/2,i=0;i<o;i++)for(var a=0;a<n;a++){var u=i*n+a<<2,c=(r-1-i)*n+a<<2;de(t.pixels,u,c)}e(t)}},rotate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t=ce(t),t%=360,function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0==t)return e;if(90==t||270==t)var o=ne(e.pixels.length,e.height,e.width);else{if(180!=t)return St(t)(e,n,r);o=ne(e.pixels.length,e.width,e.height)}ye((function(n,r,i,a){if(90==t)var u=i*o.width+(o.width-1-a)<<2;else 270==t?u=(o.height-1-i)*o.width+a<<2:180==t&&(u=(o.height-1-a)*o.width+(o.width-1-i)<<2);me(o.pixels,u,e.pixels,r)}))(e,(function(){n(o)}),r)}},rotateDegree:St,histogram:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"gray",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0;r<e.length-1;r++)for(var o=e[r],i=e[r+1],a=i[0]-o[0],u=i[1]-o[1],c=u/a,l=0,s=o[0];l<a;l++,s++)n[s]=o[1]+l*c;return n[255]=255,pe("red"===t?function(){$r=n[$r]}:"green"===t?function(){$g=n[$g]}:"blue"===t?function(){$b=n[$b]}:function(){var t=Color.RGBtoYCrCb($r,$g,$b),e=Color.YCrCbtoRGB(clamp(n[clamp(t.y)]),t.cr,t.cb,0);$r=e.r,$g=e.g,$b=e.b},{},{$realPoints:n})},"rotate-degree":St},{bitonal:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=yt.parse(t),o=yt.parse(e),i=n;return pe("        \n        const thresholdColor = ( $r + $g + $b ) <= $threshold ? $darkColor : $lightColor\n\n        $r = thresholdColor.r;\n        $g = thresholdColor.g;\n        $b = thresholdColor.b; \n    ",{$threshold:i},{$darkColor:r,$lightColor:o})},brightness:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t=ce(t);var e=Math.floor(t/100*255);return pe("\n        $r += $C;\n        $g += $C;\n        $b += $C;\n    ",{$C:e})},brownie:function(){return pe("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;        \n    ",{$matrix:[.5997023498159715,.34553243048391263,-.2708298674538042,0,-.037703249837783157,.8609577587992641,.15059552388459913,0,.24113635128153335,-.07441037908422492,.44972182064877153,0,0,0,0,1]})},clip:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t=ce(t);var e=2.55*Math.abs(t);return pe("\n\n        $r = ($r > 255 - $C) ? 255 : 0;\n        $g = ($g > 255 - $C) ? 255 : 0;\n        $b = ($b > 255 - $C) ? 255 : 0;\n\n    ",{$C:e})},contrast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t=ce(t);var e=Math.max((128+t)/128,0);return pe("\n        $r *= $C;\n        $g *= $C;\n        $b *= $C;\n    ",{$C:e})},gamma:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=ce(t);return pe("\n        $r = Math.pow($r / 255, $C) * 255;\n        $g = Math.pow($g / 255, $C) * 255;\n        $b = Math.pow($b / 255, $C) * 255;\n    ",{$C:e})},gradient:function(){var t=[].concat(Array.prototype.slice.call(arguments));1===t.length&&"string"==typeof t[0]&&(t=yt.convertMatchesArray(t[0]));var e=(t=t.map((function(t){return yt.matches(t).length?{type:"param",value:t}:{type:"scale",value:t}}))).filter((function(t){return"scale"==t.type}))[0];e=e?+e.value:256,t=t.filter((function(t){return"param"==t.type})).map((function(t){return t.value})).join(",");var n=yt.gradient(t,e).map((function(t){var e=yt.parse(t);return{r:e.r,g:e.g,b:e.b,a:e.a}}));return pe("\n        const colorIndex = clamp(Math.ceil($r * 0.2126 + $g * 0.7152 + $b * 0.0722));\n        const newColorIndex = clamp(Math.floor(colorIndex * ($scale / 256)));\n        const color = $colors[newColorIndex];\n\n        $r = color.r; \n        $g = color.g; \n        $b = color.b; \n        $a = clamp(Math.floor(color.a * 256));\n    ",{},{$colors:n,$scale:e})},grayscale:function(t){var e=(t=ce(t))/100;return e>1&&(e=1),pe("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;\n    ",{$matrix:[.2126+.7874*(1-e),.7152-.7152*(1-e),.0722-.0722*(1-e),0,.2126-.2126*(1-e),.7152+.2848*(1-e),.0722-.0722*(1-e),0,.2126-.2126*(1-e),.7152-.7152*(1-e),.0722+.9278*(1-e),0,0,0,0,1]})},hue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:360,e=ce(t);return pe("\n        var hsv = Color.RGBtoHSV($r, $g, $b);\n\n        // 0 ~ 360 \n        var h = hsv.h;\n        h += Math.abs($C);\n        h = h % 360;\n        hsv.h = h;\n\n        var rgb = Color.HSVtoRGB(hsv);\n\n        $r = rgb.r;\n        $g = rgb.g;\n        $b = rgb.b;\n    ",{$C:e})},invert:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=(t=ce(t))/100;return pe("\n        $r = (255 - $r) * $C;\n        $g = (255 - $g) * $C;\n        $b = (255 - $b) * $C;\n    ",{$C:e})},kodachrome:function(){return pe("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;\n    ",{$matrix:[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,0,0,0,1]})},matrix:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,s=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,f=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,h=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,p=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,v=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,d=arguments.length>15&&void 0!==arguments[15]?arguments[15]:0,y=[t,e,n,r,o,i,a,u,c,l,s,f,h,p,v,d];return pe("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;\n    ",{$matrix:y})},noise:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=ce(t);return pe("\n        const C = Math.abs($C) * 5;\n        const min = -C;\n        const max = C;\n        const noiseValue = Math.round(min + (Math.random() * (max - min)));\n\n        $r += noiseValue;\n        $g += noiseValue;\n        $b += noiseValue;\n    ",{$C:e})},opacity:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=(t=ce(t))/100;return pe("\n        $a *= $C; \n    ",{$C:e})},polaroid:function(){return pe("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;\n    ",{$matrix:[1.438,-.062,-.062,0,-.122,1.378,-.122,0,-.016,-.016,1.483,0,0,0,0,1]})},saturation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=(t=ce(t))/100,n=1-Math.abs(e),r=[n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,n];return pe("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;        \n    ",{$matrix:r})},sepia:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=ce(t);e>1&&(e=1);var n=[.393+.607*(1-e),.769-.769*(1-e),.189-.189*(1-e),0,.349-.349*(1-e),.686+.314*(1-e),.168-.168*(1-e),0,.272-.272*(1-e),.534-.534*(1-e),.131+.869*(1-e),0,0,0,0,1];return pe("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;        \n    ",{$matrix:n})},shade:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=ce(t),o=ce(e),i=ce(n);return pe("\n        $r *= $redValue;\n        $g *= $greenValue;\n        $b *= $blueValue;\n    ",{$redValue:r,$greenValue:o,$blueValue:i})},shift:function(){return pe("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;        \n    ",{$matrix:[1.438,-.062,-.062,0,-.122,1.378,-.122,0,-.016,-.016,1.483,0,0,0,0,1]})},solarize:function(t,e,n){return pe("\n        $r = ($r < $redValue) ? 255 - $r: $r;\n        $g = ($g < $greenValue) ? 255 - $g: $g;\n        $b = ($b < $blueValue) ? 255 - $b: $b;\n    ",{$redValue:ce(t),$greenValue:ce(e),$blueValue:ce(n)})},technicolor:function(){return pe("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;\n    ",{$matrix:[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-.231103377548616,-.7501899197440212,1.847597816108189,0,0,0,0,1]})},threshold:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Pt(t,e,!1)},"threshold-color":Pt,tint:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=ce(t),o=ce(e),i=ce(n);return pe("\n\n        $r += (255 - $r) * $redTint;\n        $g += (255 - $g) * $greenTint;\n        $b += (255 - $b) * $blueTint;\n\n    ",{$redTint:r,$greenTint:o,$blueTint:i})}},{blur:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return Oe(ge(t=ce(t)))},emboss:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return Oe([-2*(t=ce(t)),-t,0,-t,1,t,0,t,2*t])},gaussianBlur:_t,"gaussian-blur":_t,gaussianBlur5x:Rt,"gaussian-blur-5x":Rt,grayscale2:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Oe(Kt([.3,.3,.3,0,0,.59,.59,.59,0,0,.11,.11,.11,0,0,0,0,0,0,0,0,0,0,0,0],(t=ce(t))/100))},normal:function(){return Oe([0,0,0,0,1,0,0,0,0])},kirschHorizontal:Et,"kirsch-horizontal":Et,kirschVertical:Tt,"kirsch-vertical":Tt,laplacian:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Oe(Kt([-1,-1,-1,-1,8,-1,-1,-1,-1],(t=ce(t))/100))},laplacian5x:It,"laplacian-5x":It,motionBlur:Bt,"motion-blur":Bt,motionBlur2:Dt,"motion-blur-2":Dt,motionBlur3:Mt,"motion-blur-3":Mt,negative:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Oe(Kt([-1,0,0,0,0,0,-1,0,0,0,0,0,-1,0,0,0,0,0,1,0,1,1,1,1,1],(t=ce(t))/100))},sepia2:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Oe(Kt([.393,.349,.272,0,0,.769,.686,.534,0,0,.189,.168,.131,0,0,0,0,0,0,0,0,0,0,0,0],(t=ce(t))/100))},sharpen:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Oe(Kt([0,-1,0,-1,5,-1,0,-1,0],(t=ce(t))/100))},sobelHorizontal:At,"sobel-horizontal":At,sobelVertical:Vt,"sobel-vertical":Vt,stackBlur:Ft,"stack-blur":Ft,transparency:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Oe(Kt([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,.3,0,0,0,0,0,1],(t=ce(t))/100))},unsharpMasking:Gt,"unsharp-masking":Gt},{kirsch:function(){return je("kirsch-horizontal kirsch-vertical")},sobel:function(){return je("sobel-horizontal sobel-vertical")},vintage:function(){return je("brightness(15) saturation(-20) gamma(1.8)")}}),Yt=0,Wt=(m(zt={partial:Re,multi:Pe,merge:_e,weight:Kt,repeat:Jt,colorMatrix:function(t,e,n){var r=t[e],o=t[e+1],i=t[e+2],a=t[e+3];be(t,e,n[0]*r+n[1]*o+n[2]*i+n[3]*a,n[4]*r+n[5]*o+n[6]*i+n[7]*a,n[8]*r+n[9]*o+n[10]*i+n[11]*a,n[12]*r+n[13]*o+n[14]*i+n[15]*a)},each:te,eachXY:ee,createRandomCount:function(){return[9,16,25,36,49,64,81,100].sort((function(t,e){return.5-Math.random()}))[0]},createRandRange:function(t,e,n){for(var r=[],o=1;o<=n;o++){var i=Math.random()*(e-t)+t,a=Math.floor(10*Math.random())%2==0?-1:1;r.push(a*i)}r.sort();var u=Math.floor(n>>1),c=r[u];return r[u]=r[0],r[0]=c,r},createBitmap:ne,createBlurMatrix:ge,pack:function(t){return function(e,n){te(e.pixels.length,(function(n,r){t(e.pixels,n,r,e.pixels[n],e.pixels[n+1],e.pixels[n+2],e.pixels[n+3])}),(function(){n(e)}))}},packXY:ye,pixel:pe,getBitmap:ae,putBitmap:ue,radian:function(t){return jt.CONSTANT.radian(t)},convolution:Oe,parseParamNumber:ce,filter:je,clamp:Ce,fillColor:be,fillPixelColor:me},"multi",Pe),m(zt,"merge",_e),m(zt,"matches",$e),m(zt,"parseFilter",xe),m(zt,"partial",Re),zt),qt=Wt;function Kt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t.map((function(t){return t*e}))}function Jt(t,e){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n}function Zt(t){if("function"==typeof t)return t;"string"==typeof t&&(t=[t]);var e=(t=t.slice(0)).shift();if("function"==typeof e)return e;var n=t,r=Xt[e]||qt[e];if(!r)throw new Error(e+" is not filter. please check filter name.");return r.apply(r,n)}function Qt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments[3],o=arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e4,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"full",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:50,c=e,l=function(t){setTimeout(t,0)};function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=[].concat(C(Array(t))),n=e.map((function(t){return"cri = ri + i * s; if (cri >= mx) return {currentRunIndex: cri, i: null}; c(cri); i++;"})).join("\n"),r=new Function("ri","i","s","mx","c","\n            let cri = ri;\n            \n            "+n+"\n            \n            return {currentRunIndex: cri, i: i} \n        ");return r}function f(){for(var e=s(u),o=c,a={},l=0;l<i;){if(null==(a=e(c,l,n,t,r)).i){o=a.currentRunIndex;break}l=a.i,o=a.currentRunIndex}h(o)}function h(e){e?c=e:c+=n,c>=t?o():l?l(f):f()}"requestAnimationFrame"==a&&(l=requestAnimationFrame,i=1e3),"full"==a&&(l=null,i=t),f()}function te(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Qt(t,0,4,(function(t){e(t,t>>2)}),(function(){n()}),r.functionDumpCount,r.frameTimer,r.loopCount)}function ee(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Qt(t,0,4,(function(t){var r=t>>2;n(t,r%e,Math.floor(r/e))}),(function(){r()}),o.functionDumpCount,o.frameTimer,o.loopCount)}function ne(t,e,n){return{pixels:new Uint8ClampedArray(t),width:e,height:n}}function re(t,e,n,r){for(var o=e.pixels.length/4,i=0,a=0,u=0,c=0,l=0,s=0,f=0;f<o;f++)u=f%e.width,a=r+(c=Math.floor(f/e.width)),(i=n+u)>t.width||a>t.height||(l=c*e.width+u<<2,s=a*t.width+i<<2,t.pixels[s]=e.pixels[l],t.pixels[s+1]=e.pixels[l+1],t.pixels[s+2]=e.pixels[l+2],t.pixels[s+3]=e.pixels[l+3])}function oe(t,e,n,r){for(var o=e.pixels.length>>2,i=0,a=0,u=0,c=0,l=0,s=0,f=0;f<o;f++)u=f%e.width,a=r+(c=Math.floor(f/e.width)),(i=n+u)>t.width||a>t.height||(l=a*t.width+i<<2,s=c*e.width+u<<2,e.pixels[s]=t.pixels[l],e.pixels[s+1]=t.pixels[l+1],e.pixels[s+2]=t.pixels[l+2],e.pixels[s+3]=t.pixels[l+3])}function ie(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t.width+e,r=t.height+e,o={pixels:new Uint8ClampedArray(n*r*4),width:n,height:r};return o}function ae(t,e){return pt.getBitmap(t,e)}function ue(t,e,n){return pt.putBitmap(t,e,n)}function ce(t){return"string"==typeof t&&(t=(t=t.replace(/deg/,"")).replace(/px/,"")),+t}var le=/(([\w_\-]+)(\(([^\)]*)\))?)+/gi;function se(t){var e=t.map((function(t){return" \n            "+t.userFunction.$preContext+"\n\n            "+t.userFunction.$preCallbackString+"\n\n            $r = clamp($r); $g = clamp($g); $b = clamp($b); $a = clamp($a);\n        "})).join("\n\n"),n={clamp:Ce,Color:yt};t.forEach((function(t){Object.assign(n,t.userFunction.rootContextObject)}));var r="const "+Object.keys(n).map((function(t){return" "+t+" = $rc."+t+" "})).join(","),o=new Function("$p","$pi","$rc"," \n    let $r = $p[$pi], $g = $p[$pi+1], $b = $p[$pi+2], $a = $p[$pi+3];\n    \n    "+r+"\n\n    "+e+"\n    \n    $p[$pi] = $r; $p[$pi+1] = $g; $p[$pi+2] = $b; $p[$pi+3] = $a;\n    ");return function(t,e){o(t,e,n)}}function fe(t){var e={},n=t.map((function(t){var n=[];Object.keys(t.context).forEach((function(t,e){n[t]="n$"+Yt+++t+"$"})),Object.keys(t.rootContext).forEach((function(r,o){n[r]="r$"+Yt+++r+"$",e[n[r]]=t.rootContext[r]}));var r=Object.keys(t.context).filter((function(e){return"number"!=typeof t.context[e]&&"string"!=typeof t.context[e]&&(!Array.isArray(t.context[e])||"number"!=typeof t.context[e][0]&&"string"!=typeof t.context[e][0])})).map((function(e,r){return[n[e],JSON.stringify(t.context[e])].join(" = ")})),o=t.callback;return"function"==typeof t.callback&&((o=t.callback.toString().split("{")).shift(),(o=(o=o.join("{")).split("}")).pop(),o=o.join("}")),Object.keys(n).forEach((function(e){var r=n[e];"number"==typeof t.context[e]||"string"==typeof t.context[e]?o=o.replace(new RegExp("\\"+e,"g"),t.context[e]):!Array.isArray(t.context[e])||"number"!=typeof t.context[e][0]&&"string"!=typeof t.context[e][0]?o=o.replace(new RegExp("\\"+e,"g"),r):t.context[e].forEach((function(t,n){o=o.replace(new RegExp("\\"+e+"\\["+n+"\\]","g"),t)}))})),{preCallbackString:o,preContext:r}})),r=n.map((function(t,e){return t.preContext.length?"const "+t.preContext+";":""})).join("\n\n"),o=n.map((function(t){return t.preCallbackString})).join("\n\n"),i=new Function("$pixels","$pixelIndex","$clamp","$Color"," \n    let $r = $pixels[$pixelIndex], $g = $pixels[$pixelIndex+1], $b = $pixels[$pixelIndex+2], $a = $pixels[$pixelIndex+3];\n\n    "+r+"\n\n    "+o+"\n    \n    $pixels[$pixelIndex] = $r\n    $pixels[$pixelIndex+1] = $g \n    $pixels[$pixelIndex+2] = $b   \n    $pixels[$pixelIndex+3] = $a   \n    ");return i.$preCallbackString=o,i.$preContext=r,i.rootContextObject=e,i}function he(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fe([{callback:t,context:e,rootContext:n}])}function pe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=he(t,e,n),o=function(t,e){};return o.userFunction=r,o}var ve=[0,1,2,3];function de(t,e,n){ve.forEach((function(r){var o=t[e+r];t[e+r]=t[n+r],t[n+r]=o}))}function ye(t){return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ee(e.pixels.length,e.width,(function(n,r,o){t(e.pixels,n,r,o)}),(function(){n(e)}),r)}}function ge(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e=Math.pow(t,2),n=1/e;return Jt(n,e)}function be(t,e,n,r,o,i){if(3==arguments.length){var a=arguments[2];n=a.r,r=a.g,o=a.b,i=a.a}"number"==typeof n&&(t[e]=n),"number"==typeof r&&(t[e+1]=r),"number"==typeof o&&(t[e+2]=o),"number"==typeof i&&(t[e+3]=i)}function me(t,e,n,r){be(t,e,n[r],n[r+1],n[r+2],n[r+3])}function ke(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=[];return r=t.map((function(t,e){return[]})),t.forEach((function(t,o){if(0!=t){var i=r[o];for(o=e;o<=n;o++)i[o]=t*o}})),r}function we(t,e,n,r,o){var i=Math.round(Math.sqrt(t.length)),a=Math.floor(i/2),u=o?1:0,c="let r = 0, g = 0, b = 0, a = 0, scy = 0, scx =0, si = 0; ",l=[],s=[],f=[],h=[];t.forEach((function(t,e){var r=Math.floor(e/i)-a,o=e%i-a;0!=t&&(l.push("$t["+e+"][$sp[(($sy + ("+r+")) * "+n+" + ($sx + ("+o+"))) * 4]]"),s.push("$t["+e+"][$sp[(($sy + ("+r+")) * "+n+" + ($sx + ("+o+"))) * 4 + 1]]"),f.push("$t["+e+"][$sp[(($sy + ("+r+")) * "+n+" + ($sx + ("+o+"))) * 4 + 2]]"),h.push("$t["+e+"][$sp[(($sy + ("+r+")) * "+n+" + ($sx + ("+o+"))) * 4 + 3]]"))})),c+="r = "+l.join(" + ")+"; g = "+s.join(" + ")+"; b = "+f.join(" + ")+"; a = "+h.join(" + ")+";",c+="$dp[$di] = r; $dp[$di+1] = g;$dp[$di+2] = b;$dp[$di+3] = a + ("+u+")*(255-a); ";var p=new Function("$dp","$sp","$di","$sx","$sy","$t",c);return function(t,n,r,o,i){p(t,n,r,o,i,e)}}function Oe(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=ke(t);return function(r,o){var i=Math.round(Math.sqrt(t.length)),a=ie(r,2*i);re(a,r,i,i);for(var u=ne(a.pixels.length,a.width,a.height),c=ne(r.pixels.length,r.width,r.height),l=we(t,n,a.width,a.height,e),s=r.pixels.length/4,f=0;f<s;f++){var h=f,p=h%r.width+i,v=Math.floor(h/r.width)+i;l(u.pixels,a.pixels,4*(v*a.width+p),p,v)}oe(u,c,i,i),o(c)}}function $e(t){var e=yt.convertMatches(t),n=e.str.match(le),r=[];if(!n)return r;r=n.map((function(t){return{filter:t,origin:yt.reverseMatches(t,e.matches)}}));var o={next:0};return r=r.map((function(e){var n=t.indexOf(e.origin,o.next);return e.startIndex=n,e.endIndex=n+e.origin.length,e.arr=xe(e.origin),o.next=e.endIndex,e})).filter((function(t){return!!t.arr.length}))}function xe(t){var e=yt.convertMatches(t),n=e.str.match(le);if(!n[0])return[];var r=n[0].split("("),o=r.shift(),i=[];return r.length&&(i=r.shift().split(")")[0].split(",").map((function(t){return yt.reverseMatches(t,e.matches)}))),[o].concat(C(i)).map(yt.trim)}function Ce(t){return Math.min(255,t)}function je(t){return _e($e(t).map((function(t){return t.arr})))}function Se(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],n=[],r=0,o=t.length;r<o;r++){var i=t[r];i.userFunction?n.push(i):(n.length&&e.push([].concat(C(n))),e.push(i),n=[])}return n.length&&e.push([].concat(C(n))),e.forEach((function(t,n){var r;Array.isArray(t)&&(e[n]=(r=se(t),function(t,e){for(var n=0,o=t.pixels.length;n<o;n+=4)r(t.pixels,n);e(t)}))})),e}function Pe(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=(e=Se(e=e.map((function(t){return Zt(t)})).filter((function(t){return t})))).length;return function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t,a=0;function u(){e[a].call(null,i,(function(t){i=t,c()}),o)}function c(){++a>=r?n(i):u()}u()}}function _e(t){return Pe.apply(void 0,C(t))}function Re(t){for(var e=null,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return e=1==r.length&&"string"==typeof r[0]?je(r[0]):_e(r),function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e(ae(n,t),(function(e){r(ue(n,e,t))}),o)}}var Ee=k({},Xt,Wt),Te={Color:yt,HueColor:xt,ColorNames:p,ImageFilter:Ee,Canvas:pt,ImageLoader:vt},Ie=(yt.color,0),Be=[],De=function(){function t(e,n,r){if(g(this,t),"string"!=typeof e)this.el=e;else{var o=document.createElement(e);for(var i in this.uniqId=Ie++,n&&(o.className=n),r=r||{})o.setAttribute(i,r[i]);this.el=o}}return b(t,[{key:"attr",value:function(t,e){return 1==arguments.length?this.el.getAttribute(t):(this.el.setAttribute(t,e),this)}},{key:"closest",value:function(e){for(var n=this,r=!1;!(r=n.hasClass(e));){if(!n.el.parentNode)return null;n=new t(n.el.parentNode)}return r?n:null}},{key:"checked",value:function(){return this.el.checked}},{key:"removeClass",value:function(t){return this.el.className=(" "+this.el.className+" ").replace(" "+t+" "," ").trim(),this}},{key:"hasClass",value:function(t){return!!this.el.className&&(" "+this.el.className+" ").indexOf(" "+t+" ")>-1}},{key:"addClass",value:function(t){return this.hasClass(t)||(this.el.className=this.el.className+" "+t),this}},{key:"toggleClass",value:function(t){this.hasClass(t)?this.removeClass(t):this.addClass(t)}},{key:"html",value:function(t){try{"string"==typeof t?this.el.innerHTML=t:this.empty().append(t)}catch(e){console.log(t)}return this}},{key:"find",value:function(t){return this.el.querySelector(t)}},{key:"$",value:function(e){return new t(this.find(e))}},{key:"findAll",value:function(t){return this.el.querySelectorAll(t)}},{key:"$$",value:function(e){return[].concat(C(this.findAll(e))).map((function(e){return new t(e)}))}},{key:"empty",value:function(){return this.html("")}},{key:"append",value:function(t){return"string"==typeof t?this.el.appendChild(document.createTextNode(t)):this.el.appendChild(t.el||t),this}},{key:"appendTo",value:function(t){return(t.el?t.el:t).appendChild(this.el),this}},{key:"remove",value:function(){return this.el.parentNode&&this.el.parentNode.removeChild(this.el),this}},{key:"text",value:function(){return this.el.textContent}},{key:"css",value:function(t,e){var n=this;if(2==arguments.length)this.el.style[t]=e;else if(1==arguments.length){if("string"==typeof t)return getComputedStyle(this.el)[t];var r=t||{};Object.keys(r).forEach((function(t){n.el.style[t]=r[t]}))}return this}},{key:"cssFloat",value:function(t){return parseFloat(this.css(t))}},{key:"cssInt",value:function(t){return parseInt(this.css(t))}},{key:"px",value:function(t,e){return this.css(t,e+"px")}},{key:"offset",value:function(){var e=this.el.getBoundingClientRect();return{top:e.top+t.getScrollTop(),left:e.left+t.getScrollLeft()}}},{key:"rect",value:function(){return this.el.getBoundingClientRect()}},{key:"position",value:function(){return this.el.style.top?{top:parseFloat(this.css("top")),left:parseFloat(this.css("left"))}:this.el.getBoundingClientRect()}},{key:"size",value:function(){return[this.width(),this.height()]}},{key:"width",value:function(){return this.el.offsetWidth||this.el.getBoundingClientRect().width}},{key:"contentWidth",value:function(){return this.width()-this.cssFloat("padding-left")-this.cssFloat("padding-right")}},{key:"height",value:function(){return this.el.offsetHeight||this.el.getBoundingClientRect().height}},{key:"contentHeight",value:function(){return this.height()-this.cssFloat("padding-top")-this.cssFloat("padding-bottom")}},{key:"dataKey",value:function(t){return this.uniqId+"."+t}},{key:"data",value:function(t,e){if(2!=arguments.length){if(1==arguments.length)return Be[this.dataKey(t)];var n=Object.keys(Be),r=this.uniqId+".";return n.filter((function(t){return 0==t.indexOf(r)})).map((function(t){return Be[t]}))}return Be[this.dataKey(t)]=e,this}},{key:"val",value:function(t){return 0==arguments.length?this.el.value:(1==arguments.length&&(this.el.value=t),this)}},{key:"int",value:function(){return parseInt(this.val(),10)}},{key:"float",value:function(){return parseFloat(this.val())}},{key:"show",value:function(){return this.css("display","block")}},{key:"hide",value:function(){return this.css("display","none")}},{key:"toggle",value:function(){return"none"==this.css("display")?this.show():this.hide()}},{key:"scrollTop",value:function(){return this.el===document.body?t.getScrollTop():this.el.scrollTop}},{key:"scrollLeft",value:function(){return this.el===document.body?t.getScrollLeft():this.el.scrollLeft}},{key:"on",value:function(t,e,n,r){return this.el.addEventListener(t,e,n,r),this}},{key:"off",value:function(t,e){return this.el.removeEventListener(t,e),this}},{key:"getElement",value:function(){return this.el}},{key:"createChild",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new t(e,n,r);return i.css(o),this.append(i),i}},{key:"firstChild",value:function(){return new t(this.el.firstElementChild)}},{key:"replace",value:function(t,e){return this.el.replaceChild(e,t),this}}],[{key:"getScrollTop",value:function(){return Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}},{key:"getScrollLeft",value:function(){return Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft)}}]),t}(),Me=function(){function t(e){g(this,t),this.$store=e,this.initialize()}return b(t,[{key:"initialize",value:function(){var t=this;this.filterProps().forEach((function(e){t.$store.action(e,t)}))}},{key:"filterProps",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return Object.getOwnPropertyNames(this.__proto__).filter((function(e){return e.startsWith(t)}))}}]),t}(),Ae=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"initialize",value:function(){w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this),this.$store.colorSetsList=[{name:"Material",colors:["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B"],edit:!0},{name:"Custom",edit:!0,colors:[]},{name:"Color Scale",scale:["red","yellow","black"],count:5}],this.$store.currentColorSets={}}},{key:"/list",value:function(t){return Array.isArray(t.userList)&&t.userList.length?t.userList:t.colorSetsList}},{key:"/setUserPalette",value:function(t,e){t.userList=e,t.dispatch("/resetUserPalette"),t.dispatch("/setCurrentColorSets")}},{key:"/resetUserPalette",value:function(t){t.userList&&t.userList.length&&(t.userList=t.userList.map((function(e,n){if("function"==typeof e.colors){var r=e.colors;e.colors=r(t),e._colors=r}return Object.assign({name:"color-"+n,colors:[]},e)})),t.emit("changeUserList"))}},{key:"/setCurrentColorSets",value:function(t,e){var n=t.dispatch("/list");t.currentColorSets=void 0===e?n[0]:"number"==typeof e?n[e]:n.filter((function(t){return t.name==e}))[0],t.emit("changeCurrentColorSets")}},{key:"/getCurrentColorSets",value:function(t){return t.currentColorSets}},{key:"/addCurrentColor",value:function(t,e){Array.isArray(t.currentColorSets.colors)&&(t.currentColorSets.colors.push(e),t.emit("changeCurrentColorSets"),t.emit("addCurrentColor",e))}},{key:"/setCurrentColorAll",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.currentColorSets.colors=e,t.emit("changeCurrentColorSets")}},{key:"/removeCurrentColor",value:function(t,e){t.currentColorSets.colors[e]&&(t.currentColorSets.colors.splice(e,1),t.emit("changeCurrentColorSets"))}},{key:"/removeCurrentColorToTheRight",value:function(t,e){t.currentColorSets.colors[e]&&(t.currentColorSets.colors.splice(e,Number.MAX_VALUE),t.emit("changeCurrentColorSets"))}},{key:"/clearPalette",value:function(t){t.currentColorSets.colors&&(t.currentColorSets.colors=[],t.emit("changeCurrentColorSets"))}},{key:"/getCurrentColors",value:function(t){return t.dispatch("/getColors",t.currentColorSets)}},{key:"/getColors",value:function(t,e){return e.scale?yt.scale(e.scale,e.count):e.colors||[]}},{key:"/getColorSetsList",value:function(t){return t.dispatch("/list").map((function(e){return{name:e.name,edit:e.edit,colors:t.dispatch("/getColors",e)}}))}}]),e}(Me),Ve={addEvent:function(t,e,n,r){t&&t.addEventListener(e,n,r)},removeEvent:function(t,e,n){t&&t.removeEventListener(e,n)},pos:function(t){return t.touches&&t.touches[0]?t.touches[0]:t},posXY:function(t){var e=this.pos(t);return{x:e.pageX,y:e.pageY}}},Le=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(this,t),this.masterObj=e,this.settingObj=n}return b(t,[{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.settingObj[t]=e||n}},{key:"init",value:function(t){if(!this.has(t)||!this.settingObj[t]){var e=t.split("."),n=this.masterObj.refs[e[0]]||this.masterObj[e[0]]||this.masterObj,r=e.pop();if(n[r]){for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];var u=n[r].apply(n,i);this.set(t,u)}}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.init(t,e),this.settingObj[t]||e}},{key:"has",value:function(t){return!!this.settingObj[t]}}]),t}(),Ue=/^(click|mouse(down|up|move|enter|leave)|touch(start|move|end)|key(down|up|press)|contextmenu|change|input)/gi,He=/^load (.*)/gi,Ne=["Control","Shift","Alt","Meta"],Fe=function(){function t(){g(this,t),this.state=new Le(this),this.refs={},this.childComponents=this.components()}return b(t,[{key:"newChildComponents",value:function(){var t=this;Object.keys(this.childComponents).forEach((function(e){var n=t.childComponents[e];t[e]=new n(t)}))}},{key:"render",value:function(){this.$el=this.parseTemplate(this.template()),this.refs.$el=this.$el,this.parseTarget(),this.load(),this.afterRender()}},{key:"afterRender",value:function(){}},{key:"components",value:function(){return{}}},{key:"parseTemplate",value:function(t){var e=this,n=new De("div").html(t).firstChild(),r=n.findAll("[ref]");return[].concat(C(r)).forEach((function(t){var n=t.getAttribute("ref");e.refs[n]=new De(t)})),n}},{key:"parseTarget",value:function(){var t=this,e=this.$el.findAll("[target]");[].concat(C(e)).forEach((function(e){var n=e.getAttribute("target"),r=e.getAttribute("ref")||n,o=new(0,t.childComponents[n])(t);t[r]=o,t.refs[r]=o.$el,o&&(o.render(),new De(e.parentNode).replace(e,o.$el.el))}))}},{key:"load",value:function(){var t=this;this.filterProps(He).forEach((function(e){var n=e.split("load ")[1];t.refs[n]&&t.refs[n].html(t.parseTemplate(t[e].call(t)))}))}},{key:"template",value:function(){return"<div></div>"}},{key:"initialize",value:function(){}},{key:"initializeEvent",value:function(){var t=this;this.initializeEventMachin(),Object.keys(this.childComponents).forEach((function(e){t[e]&&t[e].initializeEvent()}))}},{key:"destroy",value:function(){var t=this;this.destroyEventMachin(),Object.keys(this.childComponents).forEach((function(e){t[e]&&t[e].destroy()}))}},{key:"destroyEventMachin",value:function(){this.removeEventAll()}},{key:"initializeEventMachin",value:function(){this.filterProps(Ue).forEach(this.parseEvent.bind(this))}},{key:"collectProps",value:function(){if(!this.collapsedProps){var t=this.__proto__,e=[];do{e.push.apply(e,C(Object.getOwnPropertyNames(t))),t=t.__proto__}while(t);this.collapsedProps=e}return this.collapsedProps}},{key:"filterProps",value:function(t){return this.collectProps().filter((function(e){return e.match(t)}))}},{key:"parseEvent",value:function(t){var e=t.split(" ");this.bindingEvent(e,this[t].bind(this))}},{key:"getDefaultDomElement",value:function(t){var e=void 0;return(e=t?this.refs[t]||this[t]||window[t]:this.el||this.$el||this.$root)instanceof De?e.getElement():e}},{key:"getDefaultEventObject",value:function(t){var e=this,n=t.split("."),r=n.shift(),o=n.includes("Control"),i=n.includes("Shift"),a=n.includes("Alt"),u=n.includes("Meta"),c=(n=n.filter((function(t){return!1===Ne.includes(t)}))).filter((function(t){return!!e[t]}));return{eventName:r,isControl:o,isShift:i,isAlt:a,isMeta:u,codes:n=n.filter((function(t){return!1===c.includes(t)})).map((function(t){return t.toLowerCase()})),checkMethodList:c}}},{key:"bindingEvent",value:function(t,e){var n,r=(n=t,Array.isArray(n)?n:Array.from(n)),o=r[0],i=r[1],a=r.slice(2);i=this.getDefaultDomElement(i);var u=this.getDefaultEventObject(o);u.dom=i,u.delegate=a.join(" "),this.addEvent(u,e)}},{key:"matchPath",value:function(t,e){return t?t.matches(e)?t:this.matchPath(t.parentElement,e):null}},{key:"getBindings",value:function(){return this._bindings||this.initBindings(),this._bindings}},{key:"addBinding",value:function(t){this.getBindings().push(t)}},{key:"initBindings",value:function(){this._bindings=[]}},{key:"checkEventType",value:function(t,e){var n=this,r=!e.isControl||t.ctrlKey,o=!e.isShift||t.shiftKey,i=!e.isAlt||t.altKey,a=!e.isMeta||t.metaKey,u=!0;e.codes.length&&(u=e.codes.includes(t.code.toLowerCase())||e.codes.includes(t.key.toLowerCase()));var c=!0;return e.checkMethodList.length&&(c=e.checkMethodList.every((function(e){return n[e].call(n,t)}))),r&&i&&o&&a&&u&&c}},{key:"makeCallback",value:function(t,e){var n=this;return t.delegate?function(r){if(r.xy=Ve.posXY(r),n.checkEventType(r,t)){var o=n.matchPath(r.target||r.srcElement,t.delegate);if(o)return r.delegateTarget=o,r.$delegateTarget=new De(o),e(r)}}:function(r){if(r.xy=Ve.posXY(r),n.checkEventType(r,t))return e(r)}}},{key:"addEvent",value:function(t,e){t.callback=this.makeCallback(t,e),this.addBinding(t);var n=!0;"touchstart"===t.eventName&&(n={passive:!0}),Ve.addEvent(t.dom,t.eventName,t.callback,n)}},{key:"removeEventAll",value:function(){var t=this;this.getBindings().forEach((function(e){t.removeEvent(e)})),this.initBindings()}},{key:"removeEvent",value:function(t){var e=t.eventName,n=t.dom,r=t.callback;Ve.removeEvent(n,e,r)}}]),t}(),Ge=/^@/,ze=function(t){function e(t){g(this,e);var n=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.opt=t||{},t&&t.$store&&(n.$store=t.$store),n.initialize(),n.initializeStoreEvent(),n}return O(e,t),b(e,[{key:"initializeStoreEvent",value:function(){var t=this;this.storeEvents={},this.filterProps(Ge).forEach((function(e){var n=e.split("@");n.shift();var r=n.join("@");t.storeEvents[r]=t[e].bind(t),t.$store.on(r,t.storeEvents[r])}))}},{key:"destoryStoreEvent",value:function(){var t=this;Object.keys(this.storeEvents).forEach((function(e){t.$store.off(e,t.storeEvents[e])}))}}]),e}(Fe),Xe=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"initialize",value:function(){w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this),this.$store.rgb={},this.$store.hsl={},this.$store.hsv={},this.$store.alpha=1,this.$store.format="hex"}},{key:"/changeFormat",value:function(t,e){t.format=e,t.emit("changeFormat")}},{key:"/initColor",value:function(t,e,n){t.dispatch("/changeColor",e,n,!0),t.emit("initColor")}},{key:"/changeColor",value:function(t,e,n,r){var o;"string"==typeof(e=e||"#FF0000")&&(e=yt.parse(e)),e.source=e.source||n,t.alpha=void 0===(o=e.a)||null==o?t.alpha:e.a,t.format="hsv"!=e.type&&e.type||t.format,"hsl"==e.type?(t.hsl=Object.assign(t.hsl,e),t.rgb=yt.HSLtoRGB(t.hsl),t.hsv=yt.HSLtoHSV(e)):"hex"==e.type||"rgb"==e.type?(t.rgb=Object.assign(t.rgb,e),t.hsl=yt.RGBtoHSL(t.rgb),t.hsv=yt.RGBtoHSV(e)):"hsv"==e.type&&(t.hsv=Object.assign(t.hsv,e),t.rgb=yt.HSVtoRGB(t.hsv),t.hsl=yt.HSVtoHSL(t.hsv)),r||t.emit("changeColor",e.source)}},{key:"/getHueColor",value:function(t){return xt.checkHueColor(t.hsv.h/360)}},{key:"/toString",value:function(t,e){var n=t[e=e||t.format]||t.rgb;return yt.format(k({},n,{a:t.alpha}),e)}},{key:"/toColor",value:function(t,e){return"rgb"==(e=e||t.format)?t.dispatch("/toRGB"):"hsl"==e?t.dispatch("/toHSL"):"hex"==e?t.dispatch("/toHEX"):t.dispatch("/toString",e)}},{key:"/toRGB",value:function(t){return t.dispatch("/toString","rgb")}},{key:"/toHSL",value:function(t){return t.dispatch("/toString","hsl")}},{key:"/toHEX",value:function(t){return t.dispatch("/toString","hex").toUpperCase()}}]),e}(Me),Ye=function(){function t(e){g(this,t),this.callbacks=[],this.actions=[],this.modules=e.modules||[],this.initialize()}return b(t,[{key:"initialize",value:function(){this.initializeModule()}},{key:"initializeModule",value:function(){var t=this;this.modules.forEach((function(e){new e(t)}))}},{key:"action",value:function(t,e){this.actions[t]={context:e,callback:e[t]}}},{key:"dispatch",value:function(t){var e=[].concat(Array.prototype.slice.call(arguments)),n=(t=e.shift(),this.actions[t]);if(n)return n.callback.apply(n.context,[this].concat(C(e)))}},{key:"module",value:function(t){}},{key:"on",value:function(t,e){this.callbacks.push({event:t,callback:e})}},{key:"off",value:function(t,e){0==arguments.length?this.callbacks=[]:1==arguments.length?this.callbacks=this.callbacks.filter((function(e){return e.event!=t})):2==arguments.length&&(this.callbacks=this.callbacks.filter((function(n){return n.event!=t&&n.callback!=e})))}},{key:"emit",value:function(){var t=[].concat(Array.prototype.slice.call(arguments)),e=t.shift();this.callbacks.filter((function(t){return t.event==e})).forEach((function(e){e&&"function"==typeof e.callback&&e.callback.apply(e,C(t))}))}}]),t}(),We=function(t){function e(t){g(this,e);var n=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.isColorPickerShow=!1,n.isShortCut=!1,n.hideDelay=+(void 0===n.opt.hideDeplay?2e3:n.opt.hideDelay),n.timerCloseColorPicker,n.autoHide=n.opt.autoHide||!0,n.outputFormat=n.opt.outputFormat,n.$checkColorPickerClass=n.checkColorPickerClass.bind(n),n}return O(e,t),b(e,[{key:"initialize",value:function(){var t=this;this.$body=null,this.$root=null,this.$store=new Ye({modules:[Xe,Ae]}),this.callbackChange=function(){t.callbackColorValue()},this.callbackLastUpdate=function(){t.callbackLastUpdateColorValue()},this.callbackAddCurrentColor=function(e){t.callbackAddCurrentColorValue(e)},this.colorpickerShowCallback=function(){},this.colorpickerHideCallback=function(){},this.colorpickerLastUpdateCallback=function(){},this.colorpickerAddCurrentColorCallback=function(){},this.$body=new De(this.getContainer()),this.$root=new De("div","easylogic-colorpicker",{tabIndex:-1}),"inline"==this.opt.position&&this.$body.append(this.$root),this.opt.type&&this.$root.addClass(this.opt.type),this.opt.hideInformation&&this.$root.addClass("hide-information"),this.opt.hideColorsets&&this.$root.addClass("hide-colorsets"),this.$arrow=new De("div","arrow"),this.$root.append(this.$arrow),this.opt.colorSets?this.$store.dispatch("/setUserPalette",this.opt.colorSet):kt(this.opt.onRetrievePreset)?this.$store.dispatch("/setUserPalette",this.opt.onRetrievePreset()):this.$store.dispatch("/setUserPalette",[]),this.render(),this.$root.append(this.$el),this.initColorWithoutChangeEvent(this.opt.color),this.initializeEvent()}},{key:"initColorWithoutChangeEvent",value:function(t){this.$store.dispatch("/initColor",t)}},{key:"show",value:function(t,e,n,r,o,i){this.colorpickerShowCallback=n,this.colorpickerHideCallback=r,this.colorpickerLastUpdateCallback=o,this.colorpickerAddCurrentColorCallback=i,this.$root.css(this.getInitalizePosition()).show(),this.isColorPickerShow=!0,this.isShortCut=t.isShortCut||!1,this.outputFormat=t.outputFormat,this.hideDelay=+(void 0===t.hideDelay?2e3:t.hideDelay),this.hideDelay>0&&this.setHideDelay(this.hideDelay),this.$root.appendTo(this.$body),this.definePosition(t),this.initColorWithoutChangeEvent(e)}},{key:"initColor",value:function(t,e){this.$store.dispatch("/changeColor",t,e)}},{key:"hide",value:function(){this.isColorPickerShow&&(this.$root.hide(),this.$root.remove(),this.isColorPickerShow=!1,this.callbackHideColorValue())}},{key:"setColorsInPalette",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.$store.dispatch("/setCurrentColorAll",t)}},{key:"setUserPalette",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.$store.dispatch("/setUserPalette",t)}},{key:"getOption",value:function(t){return this.opt[t]}},{key:"setOption",value:function(t,e){this.opt[t]=e}},{key:"isType",value:function(t){return this.getOption("type")==t}},{key:"isPaletteType",value:function(){return this.isType("palette")}},{key:"isSketchType",value:function(){return this.isType("sketch")}},{key:"getContainer",value:function(){return this.opt.container||document.body}},{key:"getColor",value:function(t){return this.$store.dispatch("/toColor",t)}},{key:"definePositionForArrow",value:function(t,e,n){}},{key:"definePosition",value:function(t){var e=this.$root.width(),n=this.$root.height(),r=t.left-this.$body.scrollLeft();e+r>window.innerWidth&&(r-=e+r-window.innerWidth),r<0&&(r=0);var o=t.top-this.$body.scrollTop();n+o>window.innerHeight&&(o-=n+o-window.innerHeight),o<0&&(o=0),this.$root.css({left:r+"px",top:o+"px"})}},{key:"getInitalizePosition",value:function(){return"inline"==this.opt.position?{position:"relative",left:"auto",top:"auto",display:"inline-block"}:{position:"fixed",left:"-10000px",top:"-10000px"}}},{key:"isAbsolute",value:function(){return"inline"!==this.opt.position}},{key:"mouseup.isAbsolute document",value:function(t){this.__isMouseDown=!1,this.checkInHtml(t.target)||(0==this.checkColorPickerClass(t.target)?this.hide():this.__isMouseIn||(clearTimeout(this.timerCloseColorPicker),this.timerCloseColorPicker=setTimeout(this.hide.bind(this),this.delayTime||this.hideDelay)))}},{key:"keyup.isAbsolute.escape $root",value:function(t){this.hide()}},{key:"mouseover.isAbsolute $root",value:function(t){clearTimeout(this.timerCloseColorPicker)}},{key:"mousemove.isAbsolute $root",value:function(t){clearTimeout(this.timerCloseColorPicker)}},{key:"mouseenter.isAbsolute $root",value:function(t){clearTimeout(this.timerCloseColorPicker),this.__isMouseIn=!0}},{key:"mouseleave.isAbsolute $root",value:function(t){this.__isMouseIn=!1,this.__isMouseDown||(clearTimeout(this.timerCloseColorPicker),this.timerCloseColorPicker=setTimeout(this.hide.bind(this),this.delayTime||this.hideDelay))}},{key:"mousedown.isAbsolute $root",value:function(t){this.__isMouseDown=!0}},{key:"setHideDelay",value:function(t){this.delayTime=t||0}},{key:"runHideDelay",value:function(){this.isColorPickerShow&&this.setHideDelay()}},{key:"callbackColorValue",value:function(t){t=t||this.getCurrentColor(),"function"==typeof this.opt.onChange&&this.opt.onChange.call(this,t),"function"==typeof this.colorpickerShowCallback&&this.colorpickerShowCallback(t)}},{key:"callbackLastUpdateColorValue",value:function(t){t=t||this.getCurrentColor(),"function"==typeof this.opt.onLastUpdate&&this.opt.onLastUpdate.call(this,t),"function"==typeof this.colorpickerLastUpdateCallback&&this.colorpickerLastUpdateCallback(t)}},{key:"callbackAddCurrentColorValue",value:function(t){"function"==typeof this.opt.onLastUpdate&&this.opt.onAddPreset.call(this,t),"function"==typeof this.colorpickerAddCurrentColorCallback&&this.colorpickerAddCurrentColorCallback(t)}},{key:"callbackHideColorValue",value:function(t){t=t||this.getCurrentColor(),"function"==typeof this.opt.onHide&&this.opt.onHide.call(this,t),"function"==typeof this.colorpickerHideCallback&&this.colorpickerHideCallback(t)}},{key:"getCurrentColor",value:function(){return this.$store.dispatch("/toColor",this.outputFormat)}},{key:"checkColorPickerClass",value:function(t){var e=new De(t).closest("codemirror-colorview"),n=new De(t).closest("easylogic-colorpicker"),r=new De(t).closest("CodeMirror");return t.nodeName,!!(n||e||r)}},{key:"checkInHtml",value:function(t){return"HTML"==t.nodeName}},{key:"initializeStoreEvent",value:function(){w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initializeStoreEvent",this).call(this),this.$store.on("changeColor",this.callbackChange),this.$store.on("lastUpdateColor",this.callbackLastUpdate),this.$store.on("changeFormat",this.callbackChange),this.$store.on("addCurrentColor",this.callbackAddCurrentColor)}},{key:"destroy",value:function(){w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.$store.off("changeColor",this.callbackChange),this.$store.off("lastUpdateColor",this.callbackLastUpdate),this.$store.off("changeFormat",this.callbackChange),this.$store.off("addCurrentColor",this.callbackAddCurrentColor),this.callbackChange=void 0,this.callbackLastUpdate=void 0,this.callbackAddCurrentColor=void 0,this.colorpickerShowCallback=void 0,this.colorpickerHideCallback=void 0}}]),e}(ze),qe=function(t){function e(t){g(this,e);var n=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.minValue=0,n.maxValue=1,n.source="base-slider",n}return O(e,t),b(e,[{key:"getMinMaxPosition",value:function(){var t=this.getMinPosition(),e=this.getMaxDist();return{min:t,max:t+e,width:e}}},{key:"getCurrent",value:function(t){return min+this.getMaxDist()*t}},{key:"getMinPosition",value:function(){return this.refs.$container.offset().left}},{key:"getMaxDist",value:function(){return this.state.get("$container.width")}},{key:"getDist",value:function(t){var e=this.getMinMaxPosition(),n=e.min,r=e.max;return t<n?0:t>r?100:(t-n)/(r-n)*100}},{key:"getCaculatedDist",value:function(t){var e=t?this.getMousePosition(t):this.getCurrent(this.getDefaultValue()/this.maxValue);return this.getDist(e)}},{key:"getDefaultValue",value:function(){return 0}},{key:"setMousePosition",value:function(t){this.refs.$bar.css({left:t+"px"})}},{key:"getMousePosition",value:function(t){return Ve.pos(t).pageX}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(t){if(t=t||this.getDefaultValue(),this.lastV===t)return!0;this.lastV=t,t<=this.minValue?this.refs.$bar.addClass("first").removeClass("last"):t>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first"),this.setMousePosition(this.getMaxDist()*((t||0)/this.maxValue))}}]),e}(function(t){function e(t){g(this,e);var n=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.source="base-box",n}return O(e,t),b(e,[{key:"refresh",value:function(){}},{key:"refreshColorUI",value:function(t){}},{key:"changeColor",value:function(t){this.$store.dispatch("/changeColor",Object.assign({source:this.source},t||{}))}},{key:"mouseup document",value:function(t){this.onDragEnd(t)}},{key:"mousemove document",value:function(t){this.onDragMove(t)}},{key:"mousedown $bar",value:function(t){t.preventDefault(),this.isDown=!0}},{key:"mousedown $container",value:function(t){this.isDown=!0,this.onDragStart(t)}},{key:"touchend document",value:function(t){this.onDragEnd(t)}},{key:"touchmove document",value:function(t){this.onDragMove(t)}},{key:"touchstart $bar",value:function(t){t.preventDefault(),this.isDown=!0}},{key:"touchstart $container",value:function(t){this.onDragStart(t)}},{key:"onDragStart",value:function(t){this.isDown=!0,this.refreshColorUI(t)}},{key:"onDragMove",value:function(t){this.isDown&&this.refreshColorUI(t)}},{key:"onDragEnd",value:function(t){this.isDown&&(this.$store.emit("lastUpdateColor"),this.isDown=!1)}},{key:"@changeColor",value:function(t){this.source!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(ze)),Ke=function(t){function e(t){g(this,e);var n=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.minValue=0,n.maxValue=1,n.source="value-control",n}return O(e,t),b(e,[{key:"template",value:function(){return'\n            <div class="value">\n                <div ref="$container" class="value-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"setBackgroundColor",value:function(){this.refs.$container.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"refresh",this).call(this),this.setBackgroundColor()}},{key:"getDefaultValue",value:function(){return this.$store.hsv.v}},{key:"refreshColorUI",value:function(t){var e=this.getCaculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({type:"hsv",v:e/100*this.maxValue})}}]),e}(qe),Je=function(t){function e(t){g(this,e);var n=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.minValue=0,n.maxValue=1,n.source="opacity-control",n}return O(e,t),b(e,[{key:"template",value:function(){return'\n        <div class="opacity">\n            <div ref="$container" class="opacity-container">\n                <div ref="$colorbar" class="color-bar"></div>\n                <div ref="$bar" class="drag-bar2"></div>\n            </div>\n        </div>\n        '}},{key:"refresh",value:function(){w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var t=Object.assign({},this.$store.rgb);t.a=0;var e=yt.format(t,"rgb");t.a=1;var n=yt.format(t,"rgb");this.setOpacityColorBarBackground(e,n)}},{key:"setOpacityColorBarBackground",value:function(t,e){this.refs.$colorbar.css("background","linear-gradient(to right, "+t+", "+e+")")}},{key:"getDefaultValue",value:function(){return this.$store.alpha}},{key:"refreshColorUI",value:function(t){var e=this.getCaculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({a:Math.floor(e)/100*this.maxValue})}}]),e}(qe),Ze=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"components",value:function(){return{Value:Ke,Opacity:Je}}},{key:"template",value:function(){return'\n        <div class="control">\n            <div target="Value" ></div>\n            <div target="Opacity" ></div>\n            <div ref="$controlPattern" class="empty"></div>\n            <div ref="$controlColor" class="color"></div>\n        </div>\n        '}},{key:"setBackgroundColor",value:function(){this.refs.$controlColor.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){this.setColorUI(),this.setBackgroundColor()}},{key:"setColorUI",value:function(){this.Value.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(t){"macos-control"!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(ze),Qe=function(t){function e(t){g(this,e);var n=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.width=214,n.height=214,n.thinkness=0,n.half_thinkness=0,n.source="colorwheel",n}return O(e,t),b(e,[{key:"template",value:function(){return'\n        <div class="wheel">\n            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>\n            <div class="wheel-canvas" ref="$valuewheel" ></div>\n            <div class="drag-pointer" ref="$drag_pointer"></div>\n        </div>\n        '}},{key:"refresh",value:function(t){this.setColorUI(t)}},{key:"setColorUI",value:function(t){this.renderCanvas(),this.renderValue(),this.setHueColor(null,t)}},{key:"renderValue",value:function(){var t=1-this.$store.hsv.v;this.refs.$valuewheel.css({"background-color":"rgba(0, 0, 0, "+t+")"})}},{key:"renderWheel",value:function(t,e){this.width&&!t&&(t=this.width),this.height&&!e&&(e=this.height);var n=new De("canvas"),r=n.el.getContext("2d");n.el.width=t,n.el.height=e,n.css({width:t+"px",height:e+"px"});for(var o=r.getImageData(0,0,t,e),i=o.data,a=Math.floor(t/2),u=Math.floor(e/2),c=t>e?u:a,l=a,f=u,h=0;h<e;h++)for(var p=0;p<t;p++){var v=p-l+1,d=h-f+1,y=v*v+d*d,g=s(v,d),b=yt.HSVtoRGB(g,Math.min(Math.sqrt(y)/c,1),1),m=4*(h*t+p);i[m]=b.r,i[m+1]=b.g,i[m+2]=b.b,i[m+3]=255}return r.putImageData(o,0,0),this.thinkness>0&&(r.globalCompositeOperation="destination-out",r.fillStyle="black",r.beginPath(),r.arc(l,f,c-this.thinkness,0,2*Math.PI),r.closePath(),r.fill()),n}},{key:"renderCanvas",value:function(){if(!this.$store.createdWheelCanvas){var t=this.refs.$colorwheel,e=t.el.getContext("2d"),n=t.size(),r=x(n,2),o=r[0],i=r[1];this.width&&!o&&(o=this.width),this.height&&!i&&(i=this.height),t.el.width=o,t.el.height=i,t.css({width:o+"px",height:i+"px"});var a=this.renderWheel(o,i);e.drawImage(a.el,0,0),this.$store.createdWheelCanvas=!0}}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"getDefaultSaturation",value:function(){return this.$store.hsv.s}},{key:"getCurrentXY",value:function(t,e,n,r,o){return t?Ve.posXY(t):function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:c(t,e,n),y:l(t,e,r)}}(e,n,r,o)}},{key:"getRectangle",value:function(){var t=this.state.get("$el.width"),e=this.state.get("$el.height"),n=this.state.get("$colorwheel.width")/2,r=this.refs.$el.offset().left,o=r+t/2,i=this.refs.$el.offset().top;return{minX:r,minY:i,width:t,height:e,radius:n,centerX:o,centerY:i+e/2}}},{key:"setHueColor",value:function(t,e){if(this.state.get("$el.width")){var n=this.getRectangle(),r=n.minX,o=n.minY,i=n.radius,a=n.centerX,u=n.centerY,c=this.getCurrentXY(t,this.getDefaultValue(),this.getDefaultSaturation()*i,a,u),l=(d=c.x)-a,f=(y=c.y)-u,h=l*l+f*f,p=s(l,f);if(h>i*i)var v=this.getCurrentXY(null,p,i,a,u),d=v.x,y=v.y;var g=Math.min(Math.sqrt(h)/i,1);this.refs.$drag_pointer.css({left:d-r+"px",top:y-o+"px"}),e||this.changeColor({type:"hsv",h:p,s:g})}}},{key:"changeColor",value:function(t){this.$store.dispatch("/changeColor",Object.assign({source:this.source},t||{}))}},{key:"@changeColor",value:function(t){this.source!=t&&this.refresh(!0)}},{key:"@initColor",value:function(){this.refresh(!0)}},{key:"mouseup document",value:function(t){this.isDown&&(this.isDown=!1,this.$store.emit("lastUpdateColor"))}},{key:"mousemove document",value:function(t){this.isDown&&this.setHueColor(t)}},{key:"mousedown $drag_pointer",value:function(t){t.preventDefault(),this.isDown=!0}},{key:"mousedown $el",value:function(t){this.isDown=!0,this.setHueColor(t)}},{key:"touchend document",value:function(t){this.isDown&&(this.isDown=!1,this.$store.emit("lastUpdateColor"))}},{key:"touchmove document",value:function(t){this.isDown&&this.setHueColor(t)}},{key:"touchstart $drag_pointer",value:function(t){t.preventDefault(),this.isDown=!0}},{key:"touchstart $el",value:function(t){t.preventDefault(),this.isDown=!0,this.setHueColor(t)}}]),e}(ze),tn="chromedevtool-information",en=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"template",value:function(){return'\n        <div class="information hex">\n            <div ref="$informationChange" class="information-change">\n                <button ref="$formatChangeButton" type="button" class="format-change-button arrow-button"></button>\n            </div>\n            <div class="information-item hex">\n                <div class="input-field hex">\n                    <input ref="$hexCode" class="input" type="text" />\n                    <div class="title">HEX</div>\n                </div>\n            </div>\n            <div class="information-item rgb">\n                <div class="input-field rgb-r">\n                    <input ref="$rgb_r" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">R</div>\n                </div>\n                <div class="input-field rgb-g">\n                    <input ref="$rgb_g" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">G</div>\n                </div>\n                <div class="input-field rgb-b">\n                    <input ref="$rgb_b" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">B</div>\n                </div>          \n                <div class="input-field rgb-a">\n                    <input ref="$rgb_a" class="input" type="number" step="0.01" min="0" max="1" />\n                    <div class="title">A</div>\n                </div>                                                            \n            </div>\n            <div class="information-item hsl">\n                <div class="input-field hsl-h">\n                    <input ref="$hsl_h" class="input" type="number" step="1" min="0" max="360" />\n                    <div class="title">H</div>\n                </div>\n                <div class="input-field hsl-s">\n                    <input ref="$hsl_s" class="input" type="number" step="1" min="0" max="100" />\n                    <div class="postfix">%</div>\n                    <div class="title">S</div>\n                </div>\n                <div class="input-field hsl-l">\n                    <input ref="$hsl_l" class="input" type="number" step="1" min="0" max="100" />\n                    <div class="postfix">%</div>                        \n                    <div class="title">L</div>\n                </div>\n                <div class="input-field hsl-a">\n                    <input ref="$hsl_a" class="input" type="number" step="0.01" min="0" max="1" />\n                    <div class="title">A</div>\n                </div>\n            </div>\n        </div>\n        '}},{key:"setCurrentFormat",value:function(t){this.format=t,this.initFormat()}},{key:"initFormat",value:function(){var t=this,e=this.format||"hex";["hex","rgb","hsl"].filter((function(t){return t!==e})).forEach((function(e){t.$el.removeClass(e)})),this.$el.addClass(e)}},{key:"nextFormat",value:function(){var t=this.format||"hex",e="hex";"hex"==t?e="rgb":"rgb"==t?e="hsl":"hsl"==t&&(e="hex"),this.format=e,this.initFormat(),this.$store.dispatch("/changeFormat",this.format),this.$store.emit("lastUpdateColor")}},{key:"goToFormat",value:function(t){this.format=t,"rgb"!==t&&"hsl"!==t||this.initFormat(),this.$store.dispatch("/changeFormat",this.format)}},{key:"getFormat",value:function(){return this.format||"hex"}},{key:"checkNumberKey",value:function(t){var e=t.which,n=!1;return 37!=e&&39!=e&&8!=e&&46!=e&&9!=e||(n=!0),!(!n&&(e<48||e>57))}},{key:"checkNotNumberKey",value:function(t){return!this.checkNumberKey(t)}},{key:"changeRgbColor",value:function(){this.$store.dispatch("/changeColor",{type:"rgb",r:this.refs.$rgb_r.int(),g:this.refs.$rgb_g.int(),b:this.refs.$rgb_b.int(),a:this.refs.$rgb_a.float(),source:tn}),this.$store.emit("lastUpdateColor")}},{key:"changeHslColor",value:function(){this.$store.dispatch("/changeColor",{type:"hsl",h:this.refs.$hsl_h.int(),s:this.refs.$hsl_s.int(),l:this.refs.$hsl_l.int(),a:this.refs.$hsl_a.float(),source:tn}),this.$store.emit("lastUpdateColor")}},{key:"@changeColor",value:function(t){tn!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}},{key:"input $rgb_r",value:function(t){this.changeRgbColor()}},{key:"input $rgb_g",value:function(t){this.changeRgbColor()}},{key:"input $rgb_b",value:function(t){this.changeRgbColor()}},{key:"input $rgb_a",value:function(t){this.changeRgbColor()}},{key:"input $hsl_h",value:function(t){this.changeHslColor()}},{key:"input $hsl_s",value:function(t){this.changeHslColor()}},{key:"input $hsl_l",value:function(t){this.changeHslColor()}},{key:"input $hsl_a",value:function(t){this.changeHslColor()}},{key:"keyup $hexCode",value:function(t){var e=this.refs.$hexCode.val();"#"!=e.charAt(0)||7!=e.length&&9!==e.length||(this.$store.dispatch("/changeColor",e,tn),this.$store.emit("lastUpdateColor"))}},{key:"click $formatChangeButton",value:function(t){this.nextFormat()}},{key:"click $el .information-item.hex .input-field .title",value:function(t){this.goToFormat("hex")}},{key:"click $el .information-item.rgb .input-field .title",value:function(t){this.goToFormat("hsl")}},{key:"click $el .information-item.hsl .input-field .title",value:function(t){this.goToFormat("rgb")}},{key:"setRGBInput",value:function(){this.refs.$rgb_r.val(this.$store.rgb.r),this.refs.$rgb_g.val(this.$store.rgb.g),this.refs.$rgb_b.val(this.$store.rgb.b),this.refs.$rgb_a.val(this.$store.alpha)}},{key:"setHSLInput",value:function(){this.refs.$hsl_h.val(this.$store.hsl.h),this.refs.$hsl_s.val(this.$store.hsl.s),this.refs.$hsl_l.val(this.$store.hsl.l),this.refs.$hsl_a.val(this.$store.alpha)}},{key:"setHexInput",value:function(){this.refs.$hexCode.val(this.$store.dispatch("/toHEX"))}},{key:"refresh",value:function(){this.setCurrentFormat(this.$store.format),this.setRGBInput(),this.setHSLInput(),this.setHexInput()}}]),e}(ze),nn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"template",value:function(){return'\n            <div class="color-chooser">\n                <div class="color-chooser-container">\n                    <div class="colorsets-item colorsets-item-header">\n                        <h1 class="title">Color Palettes</h1>\n                        <span ref="$toggleButton" class="items">&times;</span>\n                    </div>\n                    <div ref="$colorsetsList" class="colorsets-list"></div>\n                </div>\n            </div>\n        '}},{key:"refresh",value:function(){this.load()}},{key:"@changeCurrentColorSets",value:function(){this.refresh()}},{key:"@toggleColorChooser",value:function(){this.toggle()}},{key:"load $colorsetsList",value:function(){return"\n            <div>\n                "+this.$store.dispatch("/getColorSetsList").map((function(t,e){return'\n                        <div class="colorsets-item" data-colorsets-index="'+e+'" >\n                            <h1 class="title">'+t.name+'</h1>\n                            <div class="items">\n                                <div>\n                                    '+t.colors.filter((function(t,e){return e<5})).map((function(t){return'<div class="color-item" title="'+(t=t||"rgba(255, 255, 255, 1)")+'">\n                                                <div class="color-view" style="background-color: '+t+'"></div>\n                                            </div>'})).join("")+"\n                                </div>\n                            </div>\n                        </div>"})).join("")+"\n            </div>\n        "}},{key:"show",value:function(){this.$el.addClass("open")}},{key:"hide",value:function(){this.$el.removeClass("open")}},{key:"toggle",value:function(){this.$el.toggleClass("open")}},{key:"click $toggleButton",value:function(t){this.toggle()}},{key:"click $colorsetsList .colorsets-item",value:function(t){var e=t.$delegateTarget;if(e){var n=parseInt(e.attr("data-colorsets-index"));this.$store.dispatch("/setCurrentColorSets",n),this.hide()}}},{key:"destroy",value:function(){w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.hide()}}]),e}(ze),rn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"template",value:function(){return'\n            <div class="colorsets">\n                <div class="menu" title="Open Color Palettes">\n                    <button ref="$colorSetsChooseButton" type="button" class="color-sets-choose-btn arrow-button"></button>\n                </div>\n                <div ref="$colorSetsColorList" class="color-list"></div>\n            </div>\n        '}},{key:"load $colorSetsColorList",value:function(){var t=this.$store.dispatch("/getCurrentColorSets"),e=this.$store.dispatch("/getCurrentColors");return"\n            <div>\n                <h6>"+t.name+'</h6>\n                <div class="current-color-sets">\n                '+e.map((function(t,e){return'<div class="color-item" title="'+t+'" data-index="'+e+'" data-color="'+t+'">\n                        <div class="empty"></div>\n                        <div class="color-view" style="background-color: '+t+'"></div>\n                    </div>'})).join("")+"   \n                "+(t.edit?'<div class="add-color-item">+</div>':"")+"         \n                </div>\n            </div>\n            \n        "}},{key:"refresh",value:function(){this.load()}},{key:"addColor",value:function(t){this.$store.dispatch("/addCurrentColor",t)}},{key:"@changeCurrentColorSets",value:function(){this.refresh()}},{key:"click $colorSetsChooseButton",value:function(t){this.$store.emit("toggleColorChooser")}},{key:"contextmenu $colorSetsColorList",value:function(t){if(t.preventDefault(),this.$store.dispatch("/getCurrentColorSets").edit){var e=new De(t.target).closest("color-item");if(e){var n=parseInt(e.attr("data-index"));this.$store.emit("showContextMenu",t,n)}else this.$store.emit("showContextMenu",t)}}},{key:"click $colorSetsColorList .add-color-item",value:function(t){this.addColor(this.$store.dispatch("/toColor"))}},{key:"click $colorSetsColorList .color-item",value:function(t){this.$store.dispatch("/changeColor",t.$delegateTarget.attr("data-color")),this.$store.emit("lastUpdateColor")}}]),e}(ze),on=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"template",value:function(){return'\n            <ul class="colorsets-contextmenu">\n                <li class="menu-item small-hide" data-type="remove-color">Remove color</li>\n                <li class="menu-item small-hide" data-type="remove-all-to-the-right">Remove all to the right</li>\n                <li class="menu-item" data-type="clear-palette">Clear palette</li>\n            </ul>\n        '}},{key:"show",value:function(t,e){var n=Ve.pos(t);this.$el.css({top:n.clientY-10+"px",left:n.clientX+"px"}),this.$el.addClass("show"),this.selectedColorIndex=e,void 0===this.selectedColorIndex?this.$el.addClass("small"):this.$el.removeClass("small")}},{key:"hide",value:function(){this.$el.removeClass("show")}},{key:"runCommand",value:function(t){switch(t){case"remove-color":this.$store.dispatch("/removeCurrentColor",this.selectedColorIndex);break;case"remove-all-to-the-right":this.$store.dispatch("/removeCurrentColorToTheRight",this.selectedColorIndex);break;case"clear-palette":this.$store.dispatch("/clearPalette")}}},{key:"@showContextMenu",value:function(t,e){this.show(t,e)}},{key:"click $el .menu-item",value:function(t){t.preventDefault(),this.runCommand(t.$delegateTarget.attr("data-type")),this.hide()}}]),e}(ze),an=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="colorwheel"></div>\n                <div target="control"></div>\n                <div target="information"></div>\n                <div target="currentColorSets"></div>\n                <div target="colorSetsChooser"></div>\n                <div target="contextMenu"></div>                \n            </div>\n        '}},{key:"components",value:function(){return{colorwheel:Qe,control:Ze,information:en,currentColorSets:rn,colorSetsChooser:nn,contextMenu:on}}}]),e}(We),un=function(t){function e(t){g(this,e);var n=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.minValue=0,n.maxValue=360,n.source="hue-control",n}return O(e,t),b(e,[{key:"template",value:function(){return'\n            <div class="hue"> \n                <div ref="$container" class="hue-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"refreshColorUI",value:function(t){var e=this.getCaculatedDist(t);!0!==this.setColorUI(e/100*this.maxValue)&&this.changeColor({h:e/100*this.maxValue,type:"hsv"})}}]),e}(qe),cn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"initialize",value:function(){w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this),this.minValue=0,this.maxValue=360,this.hueScaleDist=.05}},{key:"template",value:function(){return'\n            <div class="hue-scale">\n                <div ref="$container" class="hue-scale-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"getCalculatedDist",value:function(t){var e=t?this.getMousePosition(t):this.getCurrent(this.getDefaultValue()/this.maxValue);return this.getDist(e)}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);!0!==this.setColorUI(e/100)&&this.changeColor({h:360*(this.minValue+this.fullDist*(e/100)),type:"hsv"})}},{key:"setColorUI",value:function(t){var e=void 0;if(t){if(e=this.minValue+t*this.fullDist,this.lastP===e)return!0;this.lastP=e}else{if(e=this.getDefaultValue()/360,this.lastP===e)return!0;this.lastP=e;var n=e+.05,r=e-.05;if(n>1)n=1,r=1-2*this.hueScaleDist;else if(r<0){var o=Math.abs(r);r=0,n+=o}var i=xt.getHueScale(e,r,n);this.list=i;var a=i[0].start,u=i[i.length-1].start;this.minValue=a,this.maxValue=u;var c=this.maxValue-this.minValue;this.fullDist=c;var l=i.map((function(t){return{color:t.rgb,percent:(t.start-a)/c*100,unit:"%"}}));this.refs.$container.css("background-image","linear-gradient(to right, "+l.map((function(t){return t.color+" "+t.percent+t.unit})).join(",")+")")}e<=this.minValue?(e=this.minValue,this.refs.$bar.addClass("first").removeClass("last")):e>=this.maxValue?(e=this.maxValue,this.refs.$bar.addClass("last").removeClass("first")):this.refs.$bar.removeClass("last").removeClass("first"),this.setMousePosition(this.getMaxDist()*((e-this.minValue)/this.fullDist))}}]),e}(qe),ln=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"components",value:function(){return{Hue:un,Opacity:Je,HueScale:cn}}},{key:"template",value:function(){return'\n        <div class="control">\n            <div target="Hue" ></div>\n            <div target="HueScale" ></div>\n            <div target="Opacity" ></div>\n            <div ref="$controlPattern" class="empty"></div>\n            <div ref="$controlColor" class="color"></div>\n            <div ref="$controlPattern2" class="empty2"></div>\n            <div ref="$controlColor2" class="color2"></div>            \n        </div>\n        '}},{key:"setBackgroundColor",value:function(){this.refs.$controlColor.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"setLastUpdateColor",value:function(){this.refs.$controlColor2.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){this.setColorUI(),this.setBackgroundColor()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(t){"chromedevtool-control"!=t&&this.refresh()}},{key:"@lastUpdateColor",value:function(t){"chromedevtool-control"!=t&&this.setLastUpdateColor()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(ze),sn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"template",value:function(){return'\n        <div class="color">\n            <div ref="$saturation" class="saturation">\n                <div ref="$value" class="value">\n                    <div ref="$drag_pointer" class="drag-pointer" data-axis-value="all">\n                        <div ref="$left_saturation" class="left-saturation" data-axis-value="saturation"></div>\n                        <div ref="$right_saturation" class="right-saturation" data-axis-value="saturation"></div>\n                        <div ref="$top_value" class="top-value" data-axis-value="value"></div>\n                        <div ref="$bottom_value" class="bottom-value" data-axis-value="value"></div>\n                    </div>\n                </div>\n            </div>        \n        </div>        \n        '}},{key:"setBackgroundColor",value:function(t){this.$el.css("background-color",t)}},{key:"refresh",value:function(){this.cacheSize(),this.setColorUI()}},{key:"calculateSV",value:function(){var t=this.drag_pointer_pos||{x:0,y:0},e=this.state.get("$el.width"),n=this.state.get("$el.height"),r=t.x/e,o=(n-t.y)/n;this.$store.dispatch("/changeColor",{type:"hsv",s:r,v:o,source:"chromedevtool-palette"})}},{key:"setColorUI",value:function(){var t=this.w*this.$store.hsv.s,e=this.h*(1-this.$store.hsv.v);this.refs.$drag_pointer.css({left:t+"px",top:e+"px"}),this.drag_pointer_pos={x:t,y:e},this.setBackgroundColor(this.$store.dispatch("/getHueColor"))}},{key:"setSubColor",value:function(t){var e=t.pageX,n=t.pageY,r=e-this.x,o=n-this.y,i=this.$el.contentWidth(),a=this.$el.contentHeight(),u=this.refs.$drag_pointer.cssFloat("left"),c=this.refs.$drag_pointer.cssFloat("top");"saturation"===this.axis?u+=r:"value"===this.axis&&(c+=o),u<0?u=0:u>i&&(u=i),c<0?c=0:c>a&&(c=a),this.refs.$drag_pointer.px("left",u),this.refs.$drag_pointer.px("top",c),this.drag_pointer_pos={x:u,y:c},this.x=e,this.y=n,this.calculateSV()}},{key:"setMainColor",value:function(t){var e=this.$el.offset(),n=this.w,r=this.h,o=Ve.pos(t).pageX-e.left,i=Ve.pos(t).pageY-e.top;o<0?o=0:o>n&&(o=n),i<0?i=0:i>r&&(i=r),this.refs.$drag_pointer.css({left:o+"px",top:i+"px"}),this.drag_pointer_pos={x:o,y:i},this.calculateSV()}},{key:"@changeColor",value:function(t){"chromedevtool-palette"!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}},{key:"mouseup document",value:function(t){this.isDown&&(this.isDown=!1,this.$store.emit("lastUpdateColor"))}},{key:"mousemove document",value:function(t){this.isDown&&(this.cacheSize(),"saturation"===this.axis||"value"===this.axis?this.setSubColor(t):this.setMainColor(t))}},{key:"mousedown",value:function(t){this.isDown=!0,this.cacheSize(),this.axis=new De(t.target).attr("data-axis-value"),this.x=t.pageX,this.y=t.pageY,"saturation"===this.axis||"value"===this.axis?this.setSubColor(t):this.setMainColor(t)}},{key:"touchend document",value:function(t){this.isDown&&(this.isDown=!1,this.$store.emit("lastUpdateColor"))}},{key:"touchmove document",value:function(t){this.isDown&&this.setMainColor(t)}},{key:"touchstart",value:function(t){t.preventDefault(),this.isDown=!0,this.cacheSize(),this.setMainColor(t)}},{key:"cacheSize",value:function(){this.w=this.state.get("$el.contentWidth"),this.h=this.state.get("$el.contentHeight")}}]),e}(ze),fn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="palette"></div> \n                <div target="control"></div>\n                <div target="information"></div>\n                <div target="currentColorSets"></div>\n                <div target="colorSetsChooser"></div>\n                <div target="contextMenu"></div>\n            </div>\n        '}},{key:"components",value:function(){return{palette:sn,control:ln,information:en,currentColorSets:rn,colorSetsChooser:nn,contextMenu:on}}}]),e}(We),hn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"components",value:function(){return{Hue:un,Opacity:Je}}},{key:"template",value:function(){return'\n        <div class="control">\n            <div target="Hue" ></div>\n            <div target="Opacity" ></div>\n        </div>\n        '}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(t){"mini-control"!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(ze),pn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="palette"></div>\n                <div target="control"></div>\n            </div>\n        '}},{key:"components",value:function(){return{palette:sn,control:hn}}}]),e}(We),vn=function(t){function e(t){g(this,e);var n=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.source="vertical-slider",n}return O(e,t),b(e,[{key:"getMaxDist",value:function(){return this.state.get("$container.height")}},{key:"setMousePosition",value:function(t){this.refs.$bar.css({top:t+"px"})}},{key:"getMousePosition",value:function(t){return Ve.pos(t).pageY}},{key:"getMinPosition",value:function(){return this.refs.$container.offset().top}},{key:"getCaculatedDist",value:function(t){var e=t?this.getMousePosition(t):this.getCurrent(this.getDefaultValue()/this.maxValue);return 100-this.getDist(e)}},{key:"setColorUI",value:function(t){(t=t||this.getDefaultValue())<=this.minValue?this.refs.$bar.addClass("first").removeClass("last"):t>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first");var e=1-(t||0)/this.maxValue;this.setMousePosition(this.getMaxDist()*e)}}]),e}(qe),dn=function(t){function e(t){g(this,e);var n=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.minValue=0,n.maxValue=360,n.source="vertical-hue-control",n}return O(e,t),b(e,[{key:"template",value:function(){return'\n            <div class="hue">\n                <div ref="$container" class="hue-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"refreshColorUI",value:function(t){var e=this.getCaculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({h:e/100*this.maxValue,type:"hsv"})}}]),e}(vn),yn=function(t){function e(t){g(this,e);var n=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.source="vertical-opacity-control",n}return O(e,t),b(e,[{key:"template",value:function(){return'\n        <div class="opacity">\n            <div ref="$container" class="opacity-container">\n                <div ref="$colorbar" class="color-bar"></div>\n                <div ref="$bar" class="drag-bar2"></div>\n            </div>\n        </div>\n        '}},{key:"refresh",value:function(){w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var t=Object.assign({},this.$store.rgb);t.a=0;var e=yt.format(t,"rgb");t.a=1;var n=yt.format(t,"rgb");this.refs.$colorbar.css("background","linear-gradient(to top, "+e+", "+n+")")}},{key:"getDefaultValue",value:function(){return this.$store.alpha}},{key:"refreshColorUI",value:function(t){var e=this.getCaculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({a:Math.floor(e)/100*this.maxValue})}}]),e}(vn),gn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"components",value:function(){return{Hue:dn,Opacity:yn}}},{key:"template",value:function(){return'<div class="control"><div target="Hue" ></div><div target="Opacity" ></div></div>'}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(t){"mini-control"!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(ze),bn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="palette"></div><div target="control"></div>\n            </div>\n        '}},{key:"components",value:function(){return{palette:sn,control:gn}}}]),e}(We),mn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"components",value:function(){return{Value:Ke,Opacity:Je}}},{key:"template",value:function(){return'\n        <div class="control">\n            <div target="Value" ></div>\n            <div target="Opacity" ></div>\n            <div ref="$controlPattern" class="empty"></div>\n            <div ref="$controlColor" class="color"></div>\n        </div>\n        '}},{key:"setBackgroundColor",value:function(){this.refs.$controlColor.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){this.setColorUI(),this.setBackgroundColor()}},{key:"setColorUI",value:function(){this.Value.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(t){"macos-control"!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(ze),kn=function(t){function e(t){g(this,e);var n=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.width=214,n.height=214,n.thinkness=16,n.half_thinkness=n.thinkness/2,n.source="colorring",n}return O(e,t),b(e,[{key:"template",value:function(){return'\n        <div class="wheel" data-type="ring">\n            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>\n            <div class="drag-pointer" ref="$drag_pointer"></div>\n        </div>\n        '}},{key:"setColorUI",value:function(t){this.renderCanvas(),this.setHueColor(null,t)}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"setHueColor",value:function(t,e){if(this.state.get("$el.width")){var n=this.getRectangle(),r=n.minX,o=n.minY,i=n.radius,a=n.centerX,u=n.centerY,c=this.getCurrentXY(t,this.getDefaultValue(),i,a,u),l=s((h=c.x)-a,(p=c.y)-u),f=this.getCurrentXY(null,l,i-this.half_thinkness,a,u),h=f.x,p=f.y;this.refs.$drag_pointer.css({left:h-r+"px",top:p-o+"px"}),e||this.changeColor({type:"hsv",h:l})}}}]),e}(Qe),wn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="colorring"></div>\n                <div target="palette"></div> \n                <div target="control"></div>\n                <div target="information"></div>\n                <div target="currentColorSets"></div>\n                <div target="colorSetsChooser"></div>\n                <div target="contextMenu"></div>\n            </div>\n        '}},{key:"components",value:function(){return{colorring:kn,palette:sn,control:mn,information:en,currentColorSets:rn,colorSetsChooser:nn,contextMenu:on}}}]),e}(We),On=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"components",value:function(){return{Hue:dn,Opacity:yn}}},{key:"template",value:function(){return'\n        <div class="control">\n            <div target="Hue" ></div>\n            <div target="Opacity" ></div>\n        </div>\n        '}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(){this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(ze),$n=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="palette"></div> \n                <div target="control"></div>\n                <div target="information"></div>\n                <div target="currentColorSets"></div>\n                <div target="colorSetsChooser"></div>\n                <div target="contextMenu"></div>\n            </div>\n        '}},{key:"components",value:function(){return{palette:sn,control:On,information:en,currentColorSets:rn,colorSetsChooser:nn,contextMenu:on}}}]),e}(We),xn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"components",value:function(){return{Hue:dn,Opacity:yn}}},{key:"template",value:function(){return'\n            <div class="control">\n                <div target="Opacity" ></div>            \n                <div target="Hue" ></div>\n            </div>\n        '}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(t){"mini-control"!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(ze),Cn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <div class='color-view'>\n                    <div class='color-view-container'  ref=\"$colorview\"></div>\n                </div>\n                <div class='color-tool'>\n                    <div target=\"palette\"></div>\n                    <div target=\"control\"></div>\n                </div>\n            </div>\n        "}},{key:"components",value:function(){return{palette:sn,control:xn}}},{key:"initColorWithoutChangeEvent",value:function(t){this.$store.dispatch("/initColor",t),this.refresh()}},{key:"setBackgroundColor",value:function(){var t=this.$store.dispatch("/toColor"),e=this.$store.rgb,n=yt.brightness(e.r,e.g,e.b);this.refs.$colorview.css({"background-color":t,color:n>127?"black":"white"}),this.refs.$colorview.html(t)}},{key:"click $colorview",value:function(t){this.nextFormat()}},{key:"nextFormat",value:function(){var t=this.$store.format||"hex",e="hex";"hex"==t?e="rgb":"rgb"==t?e="hsl":"hsl"==t&&(e="hex"),this.$store.dispatch("/changeFormat",e),this.$store.emit("lastUpdateColor"),this.refresh()}},{key:"refresh",value:function(){this.setBackgroundColor()}},{key:"@changeColor",value:function(){this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(We),jn={create:function(t){switch(t.type){case"macos":return new an(t);case"xd":return new $n(t);case"ring":return new wn(t);case"mini":return new pn(t);case"vscode":return new Cn(t);case"mini-vertical":return new bn(t);case"sketch":case"palette":default:return new fn(t)}},ColorPicker:fn,ChromeDevToolColorPicker:fn,MacOSColorPicker:an,RingColorPicker:wn,MiniColorPicker:pn,VSCodePicker:Cn,MiniVerticalColorPicker:bn},Sn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"afterRender",value:function(){var t=this,e=this.opt.opt.colorpickerOptions||{type:"sketch"};this.colorPicker=jn.create(k({position:"inline",container:this.refs.$el.el,onChange:function(e){t.changeColor(e)}},e))}},{key:"template",value:function(){return'<div ref="$color"></div>'}},{key:"changeColor",value:function(t){this.$store.emit("changeEmbedColorPicker",t)}},{key:"setValue",value:function(t){this.colorPicker.initColorWithoutChangeEvent(t)}}]),e}(ze),Pn=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g(this,t),n instanceof t&&(n=n.toJSON()),this.json=this.convert(k({},this.getDefaultObject(),n)),this.ref=new Proxy(this,{get:function(t,e){var n=t[e];return kt(n)?function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.apply(t,r)}:n||t.json[e]},set:function(t,n,r){if(r&&r.realVal&&kt(r.realVal)&&(r=r.realVal()),!e.checkField(n,r))throw new Error(r+" is invalid as "+n+" property value.");return t.json[n]=r,!0}}),this.ref}return b(t,[{key:"getDefaultTitle",value:function(){return"Item"}},{key:"isAttribute",value:function(){return!1}},{key:"is",value:function(){if(!this.json)return!1;for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.indexOf(this.json.itemType)>-1}},{key:"convert",value:function(t){return t}},{key:"checkField",value:function(t,e){return!0}},{key:"toCloneObject",value:function(){return{itemType:this.json.itemType,type:this.json.type,selected:this.json.selected}}},{key:"clone",value:function(){var t=new(0,this.constructor)(this.toCloneObject());return t.parent=this.json.parent,t}},{key:"reset",value:function(e){e instanceof t&&(e=e.toJSON()),this.json=this.convert(k({},this.json,e))}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k({selected:!1,type:"",itemType:""},t)}},{key:"add",value:function(t){return this.json.layers.push(t),t.parent=this.ref,t}},{key:"toggle",value:function(t,e){gt(e)?this.json[t]=!this.json[t]:this.json[t]=!!e}},{key:"toJSON",value:function(){return this.json}},{key:"resize",value:function(){}},{key:"copy",value:function(){this.json.parent.copyItem(this.ref)}},{key:"copyItem",value:function(t){var e=t.clone();e.width.add(10),e.width.add(10);for(var n=this.json.layers,r=-1,o=0,i=n.length;o<i;o++)if(n[o]===t){r=o;break}r>-1&&this.json.layers.splice(r,0,e)}},{key:"remove",value:function(){this.json.parent.removeItem(this.ref)}},{key:"removeItem",value:function(t){for(var e=this.json.layers,n=-1,r=0,o=e.length;r<o;r++)if(e[r]===t){n=r;break}n>-1&&this.json.layers.splice(n,1)}},{key:"title",get:function(){return this.json.name||this.getDefaultTitle()}},{key:"id",get:function(){return this.json.id}},{key:"layers",get:function(){return this.json.layers}},{key:"parent",get:function(){return this.json.parent}},{key:"html",get:function(){var t=this.json,e=t.elementType,n=t.id,r=t.layers,o=e||"div";return"\n    <"+o+" class='element-item "+t.itemType+"' data-id=\""+n+'">\n      '+r.map((function(t){return t.html})).join("")+"\n    </"+o+">\n    "}},{key:"allLayers",get:function(){return[].concat(C(function t(e){var n=[];return e.layers.length&&e.layers.forEach((function(e){n.push.apply(n,C(t(e)))})),n.push(e),n}(this.ref)))}}]),t}(),_n=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getDefaultObject",this).call(this,k({itemType:"image-resource",type:"image"},t))}},{key:"isGradient",value:function(){return!1}},{key:"isLinear",value:function(){return!1}},{key:"isRadial",value:function(){return!1}},{key:"isConic",value:function(){return!1}},{key:"isStatic",value:function(){return!1}},{key:"isImage",value:function(){return!1}},{key:"hasAngle",value:function(){return!1}},{key:"isUrl",value:function(){return!1}},{key:"isFile",value:function(){return!1}},{key:"isAttribute",value:function(){return!0}},{key:"toString",value:function(){return"none"}}]),e}(Pn),Rn={center:50,top:0,left:0,right:100,bottom:100},En=function t(){g(this,t)};En.CENTER="center",En.TOP="top",En.RIGHT="right",En.LEFT="left",En.BOTTOM="bottom";var Tn=/([\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)/gi,In=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";g(this,t),this.value=e,this.unit=n}return b(t,[{key:Symbol.toPrimitive,value:function(t){return"number"==t?this.value:this.toString()}},{key:"toString",value:function(){switch(this.unit){case"string":case"number":return this.value+"";case"var":return"var(--"+this.value+")";case"calc":return"calc("+this.value+")";default:return this.value+this.unit}}},{key:"isUnitType",value:function(t){return this.unit===t}},{key:"isCalc",value:function(){return this.isUnitType("calc")}},{key:"isFr",value:function(){return this.isUnitType("fr")}},{key:"isPercent",value:function(){return this.isUnitType("%")}},{key:"isPx",value:function(){return this.isUnitType("px")}},{key:"isEm",value:function(){return this.isUnitType("em")}},{key:"isDeg",value:function(){return this.isUnitType("deg")}},{key:"isSecond",value:function(){return this.isUnitType("s")}},{key:"isMs",value:function(){return this.isUnitType("ms")}},{key:"isNumber",value:function(){return this.isUnitType("number")}},{key:"isString",value:function(){return this.isUnitType("")}},{key:"isVar",value:function(){return this.isUnitType("--")}},{key:"set",value:function(t){return this.value=t,this}},{key:"add",value:function(t){return this.value+=+t,this}},{key:"sub",value:function(t){return this.add(-1*t)}},{key:"mul",value:function(t){return this.value*=+t,this}},{key:"div",value:function(t){return this.value/=+t,this}},{key:"mod",value:function(t){return this.value%=+t,this}},{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"getUnitName",value:function(){return"%"===this.unit?"percent":this.unit}},{key:"toJSON",value:function(){return{value:this.value,unit:this.unit}}},{key:"rate",value:function(t){return t/this.value}},{key:"stringToPercent",value:function(){return bt(Rn[this.value])?t.percent(Rn[this.value]):t.percent(0)}},{key:"stringToEm",value:function(t){return this.stringToPercent().toEm(t)}},{key:"stringToPx",value:function(t){return this.stringToPercent().toPx(t)}},{key:"toPercent",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?this:this.isPx()?t.percent(100*this.value/e):this.isEm()?t.percent(this.value*n*100/e):this.isString()?this.stringToPercent(e):this.isDeg()?t.percent(this.value/360*100):void 0}},{key:"toEm",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?t.em(this.value/100*e/n):this.isPx()?t.em(this.value/n):this.isEm()?this:this.isString()?this.stringToEm(e):void 0}},{key:"toPx",value:function(e){return this.isPercent()?t.px(this.value/100*e):this.isPx()?this:this.isEm()?t.px(this.value/100*e/16):this.isString()?this.stringToPx(e):void 0}},{key:"toSecond",value:function(){return this.isSecond()?this:this.isMs()?t.second(this.value/1e3):void 0}},{key:"toMs",value:function(){return this.isSecond()?t.ms(1e3*this.value):this.isMs()?this:void 0}},{key:"to",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return"px"===t?this.toPx(e,n):"%"===t||"percent"===t?this.toPercent(e,n):"em"===t?this.toEm(e,n):void 0}},{key:"toUnit",value:function(e){return new t(this.value,e)}},{key:"calculate",value:function(t,e){var n=this[t];return n?n.call(this,e):this}},{key:"includes",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.includes(this.value)}},{key:"round",value:function(e){return new t(i(this.value,e),this.unit)}},{key:"equals",value:function(t){return this.value===t.value&&this.unit===t.unit}}],[{key:"min",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.shift(),o=0,i=e.length;o<i;o++)r.value>e[o].value&&(r=e[o]);return r}},{key:"max",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.shift(),o=0,i=e.length;o<i;o++)r.value<e[o].value&&(r=e[o]);return r}},{key:"string",value:function(e){return new t(e+"","")}},{key:"number",value:function(e){return new t(+e,"number")}},{key:"px",value:function(e){return new t(+e,"px")}},{key:"em",value:function(e){return new t(+e,"em")}},{key:"percent",value:function(e){return new t(+e,"%")}},{key:"deg",value:function(e){return new t(+e,"deg")}},{key:"fr",value:function(e){return new t(+e,"fr")}},{key:"second",value:function(e){return new t(+e,"s")}},{key:"ms",value:function(e){return new t(+e,"ms")}},{key:"var",value:function(e){return new t(e+"","--")}},{key:"calc",value:function(e){return new t(e,"calc")}},{key:"parse",value:function(e){if(mt(e)){if(e.indexOf("calc(")>-1)return new t(e.split("calc(")[1].split(")")[0],"calc");var n=e.replace(Tn,"$1 $2").split(" ");return+n[0]==n[0]?new t(+n[0],n[1]):new t(n[0])}if(e instanceof t)return e;if(e.unit){if("%"==e.unit||"percent"==e.unit){var r=0;return bt(e.percent)?r=e.percent:bt(e.value)&&(r=e.value),t.percent(r)}if("px"==e.unit)return r=0,bt(e.px)?r=e.px:bt(e.value)&&(r=e.value),t.px(r);if("em"==e.unit)return r=0,bt(e.em)?r=e.em:bt(e.value)&&(r=e.value),t.em(r);if("deg"==e.unit)return r=0,bt(e.deg)?r=e.deg:bt(e.value)&&(r=e.value),t.deg(r);if("s"==e.unit)return r=0,bt(e.second)?r=e.second:bt(e.value)&&(r=e.value),t.second(r);if("ms"==e.unit)return r=0,bt(e.ms)?r=e.ms:bt(e.value)&&(r=e.value),t.ms(r);if("number"==e.unit)return r=0,bt(e.value)&&(r=e.value),t.number(r);if("--"==e.unit)return r=0,bt(e.value)&&(r=e.value),t.var(r);if(""===e.unit||"string"===e.unit)return r="",bt(e.str)?r=e.str:bt(e.value)&&(r=e.value),t.string(r)}return t.string(e)}}]),t}();In.auto=In.string("auto");var Bn,Dn,Mn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"getDefaultObject",value:function(){return w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getDefaultObject",this).call(this,{cut:!1,percent:0,unit:"%",px:0,em:0,color:"rgba(0, 0, 0, 0)",prevColorStep:null})}},{key:"toCloneObject",value:function(){return k({},w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toCloneObject",this).call(this),{cut:this.json.cut,percent:this.json.percent,unit:this.json.unit,px:this.json.px,em:this.json.em,color:this.json.color})}},{key:"on",value:function(){this.json.cut=!0}},{key:"off",value:function(){this.json.cut=!1}},{key:"toggle",value:function(){this.json.cut=!this.json.cut}},{key:"getUnit",value:function(){return"%"==this.json.unit?"percent":this.json.unit}},{key:"add",value:function(t){var e=this.getUnit();return this.json[e]+=+t,this}},{key:"sub",value:function(t){var e=this.getUnit();return this.json[e]-=+t,this}},{key:"mul",value:function(t){var e=this.getUnit();return this.json[e]*=+t,this}},{key:"div",value:function(t){var e=this.getUnit();return this.json[e]/=+t,this}},{key:"mod",value:function(t){var e=this.getUnit();return this.json[e]%=+t,this}},{key:"toLength",value:function(t){return In.parse(this.json)}},{key:"getPrevLength",value:function(){return this.json.prevColorStep?this.json.prevColorStep.toLength():""}},{key:"toString",value:function(){var t=this.json.cut?this.getPrevLength():"";return this.json.color+" "+t+" "+this.toLength()}},{key:"reset",value:function(t){w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"reset",this).call(this,t),this.parent()&&this.parent().sortColorStep()}},{key:"isPx",get:function(){return"px"==this.json.unit}},{key:"isPercent",get:function(){return"%"==this.json.unit||"percent"===this.json.unit}},{key:"isEm",get:function(){return"em"==this.json.unit}}],[{key:"parse",value:function(t){var n=[],r=P(t),o=r.str.split(" ").filter((function(t){return t.trim()})),i=+o[0].replace("@",""),a=r.matches[i].color;if(1===o.length)n.push(new e({color:a,unit:"%",percent:0}));else if(2===o.length){var u=In.parse(o[1]),c={unit:u.unit};u.isPercent()?c.percent=u.value:u.isPx()?c.px=u.value:u.isEm()&&(c.em=u.value),n.push(new e(k({color:a},c)))}else 3===o.length&&[1,2].forEach((function(t){var r=In.parse(o[t]),i={unit:r.unit};r.isPercent()?i.percent=r.value:r.isPx()?i.px=r.value:r.isEm()&&(i.em=r.value),n.push(new e(k({color:a},i)))}));return n}}]),e}(Pn),An={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},Vn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"isGradient",value:function(){return!0}},{key:"toString",value:function(){return"none"}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getDefaultObject",this).call(this,k({type:"gradient",colorsteps:[]},t))}},{key:"toCloneObject",value:function(){return k({},w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toCloneObject",this).call(this),{colorsteps:this.json.colorsteps.map((function(t){return t.clone()}))})}},{key:"convert",value:function(t){return t.colorsteps=t.colorsteps.map((function(t){return new Mn(t)})),t}},{key:"calculateAngle",value:function(){var t=this.json.angle;return gt(An[t])?t:An[t]||0}},{key:"addColorStep",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.json.colorsteps.push(t),e&&this.sortColorStep(),t}},{key:"insertColorStep",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(216,216,216,0)",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(216,216,216,1)",r=this.colorsteps;if(r.length){if(t<r[0].percent)return r[0].index=1,void this.addColorStep(new Mn({index:0,color:r[0].color,percent:t}));var o=r.length-1;if(r[o].percent<t){var i=r[o].color,a=r[o].index+1;this.addColorStep(new Mn({index:a,color:i,percent:t}))}else for(var u=0,c=r.length-1;u<c;u++){var l=r[u],s=r[u+1];if(l.percent<=t&&t<=s.percent)return i=Color.mix(l.color,s.color,(t-l.percent)/(s.percent-l.percent),"rgb"),void this.addColorStep(new Mn({index:l.index+1,color:i,percent:t}))}}else this.addColorStepList([new Mn({color:e,percent:t,index:0}),new Mn({color:n,percent:100,index:100})])}},{key:"sortColorStep",value:function(){var t=this.colorsteps;t.sort((function(t,e){return t.percent>e.percent?1:t.percent<e.percent?-1:t.percent==e.percent?t.index===e.index?0:t.index>e.index?1:-1:void 0})),t.forEach((function(t,e){t.index=100*e}))}},{key:"addColorStepList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){t.addColorStep(e,!1)})),this.sortColorStep()}},{key:"getColorStep",value:function(t){return this.json.colorsteps.filter((function(e){return e.id==t}))[0]}},{key:"clear",value:function(){arguments.length?this.json.colorsteps.splice(+(arguments.length<=0?void 0:arguments[0]),1):this.json.colorsteps=[]}},{key:"getColorString",value:function(){var t=this.colorsteps;return t.length?t.map((function(e,n){return e.prevColorStep=e.cut&&n>0?t[n-1]:null,e})).map((function(t){return""+t})).join(","):""}},{key:"colorsteps",get:function(){return this.json.colorsteps}}],[{key:"random",value:function(){return"linear-gradient("+Math.floor(1e3*Math.random())%360+"deg, "+Color.random()+" 0%, "+Color.random()+" 100%)"}}]),e}(_n),Ln=["circle","circle closest-side","circle closest-corner","circle farthest-side","circle farthest-corner","ellipse","ellipse closest-side","ellipse closest-corner","ellipse farthest-side","ellipse farthest-corner"],Un=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"initialize",value:function(){w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this);var t=[{offset:In.percent(0),cut:!1,color:"yellow"},{offset:In.percent(100),cut:!1,color:"red"}];this.type="linear-gradient",this.index=0,this.colorsteps=t,this.radialPosition=[In.percent(50),In.percent(50)],this.radialType="ellipse"}},{key:"@setGradientEditor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear-gradient",r=arguments[3],o=arguments[4],i=arguments[5],a=P(t),u=a.str.split(",").map((function(t){return t.trim()})).map((function(t){var e=t.split(" ").filter((function(t){return t.length})),n=x(e,3),r=n[0],o=n[1],i=n[2];r=R(r,a.matches);var u=!1;i&&(u=!0);var c=u?In.parse(i):In.parse(o);return c.isDeg()&&(c=In.percent(c.value/360*100)),{color:r,offset:c,cut:u}}));1==u.length&&u.push({color:u[0].color,offset:In.percent(100),cut:!1}),this.cachedStepListRect=null,this.colorsteps=u,this.index=e,this.type=n,this.angle=In.parse(r||"90deg"),this.radialPosition=o||[In.percent(50),In.percent(50)],this.radialType=i,this.refresh(),this.selectStep(e),this.reloadInputValue()}},{key:"template",value:function(){var t=this;return"\n        <div class='gradient-editor' data-selected-editor='"+this.type+"'>\n            <div class='gradient-steps' data-editor='gradient'>\n                <div class=\"hue-container\" ref=\"$back\"></div>            \n                <div class=\"hue\" ref=\"$steps\">\n                    <div class='step-list' ref=\"$stepList\" ></div>\n                </div>\n            </div>\n            <div class='tools' data-editor='tools'>\n              <label>Offset <input type='checkbox' ref='$cut' checked />  connected</label>\n              <div class='unit'>\n                <div><input type='range' data-key='length' min='0' max=\"100\" step='0.1' ref='$offset' /></div>\n                <div><input type='number' data-key='length' min='0' max=\"100\" step='0.1' ref='$offsetNumber' /></div>              \n                <div><select ref='$offsetSelect'>\n                  <option value='%'>%</option>\n                  <option value='px'>px</option>\n                  <option value='em'>em</option>\n                </select></div>\n              </div>\n            </div>\n            <div class='sub-editor' ref='$subEditor'> \n              <div data-editor='angle'>\n                <label>Angle</label>\n                <div class='unit'>                \n                  <div><input type='range' data-key='angle' min='-720' max=\"720\" step='0.1' ref='$angle' /> </div>\n                  <div><input type='number' data-key='angle' min='-720' max=\"720\" step='0.1' ref='$angleNumber' /></div> \n                  <span>deg</span>\n                </div>\n              </div>\n              <div data-editor='centerX'>\n                <label>Center X</label>\n                <div class='unit'>\n                  <div><input type='range' data-key='centerX' min='-100' max=\"100\" step='0.1' ref='$centerX' /></div>\n                  <div><input type='number' data-key='centerX' min='-100' max=\"100\" step='0.1' ref='$centerXNumber' /></div>\n                  <div><select ref='$centerXSelect'>\n                      <option value='%'>%</option>\n                      <option value='px'>px</option>\n                      <option value='em'>em</option>\n                    </select></div>\n                </div>\n              </div>                \n              <div data-editor='centerY'>           \n                <label>Center Y</label>                 \n                <div class='unit'>\n                  <div><input type='range' data-key='centerY' min='-100' max=\"100\" step='0.1' ref='$centerY' /></div>\n                  <div><input type='number' data-key='centerX' min='-100' max=\"100\" step='0.1' ref='$centerYNumber' /></div>\n                  <div><select ref='$centerYSelect'>\n                      <option value='%'>%</option>\n                      <option value='px'>px</option>\n                      <option value='em'>em</option>\n                    </select></div>\n                </div>\n              </div>                \n              <div data-editor='radialType'>       \n                <label>Radial Type</label>              \n                <div><select ref='$radialType'>\n                  "+Ln.map((function(e){return'<option value="'+e+'" '+(t.radialType===e?"selected":"")+">"+e+"</option>"})).join("")+"\n                </select></div>\n              </div>\n            </div>            \n        </div>\n      "}},{key:"input $offset",value:function(t){this.refs.$offsetNumber.val(this.refs.$offset.val()),this["@changeColorStepOffset"]("offset",new In(this.refs.$offset.val(),this.refs.$offsetSelect.val()))}},{key:"input $offsetNumber",value:function(t){this.refs.$offset.val(this.refs.$offsetNumber.val()),this["@changeColorStepOffset"]("offset",new In(this.refs.$offset.val(),this.refs.$offsetSelect.val()))}},{key:"input $angle",value:function(t){this.refs.$angleNumber.val(this.refs.$angle.val()),this["@changeKeyValue"]("angle",In.deg(this.refs.$angle.val()))}},{key:"input $angleNumber",value:function(t){this.refs.$angle.val(this.refs.$angleNumber.val()),this["@changeKeyValue"]("angle",In.deg(this.refs.$angle.val()))}},{key:"input $centerX",value:function(t){this.refs.$centerXNumber.val(this.refs.$centerX.val()),this["@changeKeyValue"]("radialPositionX")}},{key:"input $centerXNumber",value:function(t){this.refs.$centerX.val(this.refs.$centerXNumber.val()),this["@changeKeyValue"]("radialPositionX")}},{key:"input $centerY",value:function(t){this.refs.$centerYNumber.val(this.refs.$centerY.val()),this["@changeKeyValue"]("radialPositionY")}},{key:"input $centerYNumber",value:function(t){this.refs.$centerY.val(this.refs.$centerYNumber.val()),this["@changeKeyValue"]("radialPositionX")}},{key:"change $centerXSelect",value:function(t){this["@changeKeyValue"]("radialPositionX")}},{key:"change $centerYSelect",value:function(t){this["@changeKeyValue"]("radialPositionY")}},{key:"change $radialType",value:function(t){this["@changeKeyValue"]("radialType",this.refs.$radialType.val())}},{key:"@changeKeyValue",value:function(t,e){"angle"===t&&(e=e.value),"radialPositionX"===t||"radialPositionY"===t?this.radialPosition=[this.radialPositionX,this.radialPositionY]:this[t]=e,this.updateData()}},{key:"@changeColorStepOffset",value:function(t,e){this.currentStep&&(this.currentStep.offset=e.clone(),this.$currentStep.css({left:this.currentStep.offset}),this.setColorUI(),this.updateData())}},{key:"click $back",value:function(t){if(!this.startXY){var e=this.refs.$stepList.rect(),n=e.x,r=e.right,o=t.xy.x;o<n?o=n:o>r&&(o=r);var i=(o-n)/e.width*100,a=this.colorsteps.map((function(t,e){return{index:e,color:t.color,offset:t.offset}})),u=a.filter((function(t){return t.offset.value<=i})).pop(),c=a.filter((function(t){return t.offset.value>=i})).shift();u&&c?this.colorsteps.splice(c.index,0,{cut:!1,offset:In.percent(i),color:Color.mix(u.color,c.color,(i-u.offset.value)/(c.offset.value-u.offset.value))}):u?this.colorsteps.splice(u.index+1,0,{cut:!1,offset:In.percent(i),color:"rgba(0, 0, 0, 1)"}):c?this.colorsteps.splice(c.index-1,0,{cut:!1,offset:In.percent(i),color:"rgba(0, 0, 0, 1)"}):this.colorsteps.push({cut:!1,offset:In.percent(0),color:"rgba(0, 0, 0, 1)"}),this.refresh(),this.updateData()}}},{key:"reloadStepList",value:function(){this.refs.$stepList.html(this.colorsteps.map((function(t,e){return"<div class='step' data-index='"+e+"' data-cut='"+t.cut+"' style='left: "+t.offset+";'>\n        <div class='color-view' style=\"background-color: "+t.color+"\"></div>\n        <div class='arrow' style=\"background-color: "+t.color+'"></div>\n      </div>'})).join(""))}},{key:"click $cut",value:function(){this.currentStep&&(this.currentStep.cut=this.refs.$cut.checked(),this.$currentStep.attr("data-cut",this.currentStep.cut),this.setColorUI(),this.updateData())}},{key:"removeStep",value:function(t){if(2!==this.colorsteps.length){this.colorsteps.splice(t,1);var e=this.colorsteps[t],n=t;e||(e=this.colorsteps[t-1],n=t-1),e&&this.selectStep(n),this.refresh(),this.updateData()}}},{key:"selectStep",value:function(t){this.index=t,this.currentStep=this.colorsteps[t],this.refs.$stepList.attr("data-selected-index",t),this.$currentStep=this.refs.$stepList.$('[data-index="'+t.toString()+'"]'),this.$currentStep&&(this.$colorView=this.$currentStep.$(".color-view"),this.$arrow=this.$currentStep.$(".arrow"),this.refs.$cut.el.checked=this.currentStep.cut),this.prev=this.colorsteps[t-1],this.next=this.colorsteps[t+1]}},{key:"mousedown $stepList .step",value:function(t){var e=+t.$delegateTarget.attr("data-index");t.altKey?this.removeStep(e):(this.selectStep(e),this.startXY=t.xy,this.$store.emit("selectColorStep",this.currentStep.color),this.refs.$cut.checked(this.currentStep.cut),this.refs.$offset.val(this.currentStep.offset.value),this.refs.$stepList.attr("data-selected-index",e),this.cachedStepListRect=this.refs.$stepList.rect())}},{key:"getStepListRect",value:function(){return this.cachedStepListRect}},{key:"mouseup document",value:function(t){this.startXY&&(this.startXY=null)}},{key:"mousemove document",value:function(t){if(this.startXY){var e=t.xy.x-this.startXY.x,n=(t.xy.y,this.startXY.y,this.getStepListRect()),r=n.x,o=n.right,a=this.startXY.x+e;a<r?a=r:a>o&&(a=o);var u=(a-r)/n.width*100;this.prev&&this.prev.offset.value>u&&(u=this.prev.offset.value),this.next&&this.next.offset.value<u&&(u=this.next.offset.value),this.currentStep.offset.set(i(u,100)),this.$currentStep.css({left:In.percent(u)}),this.refs.$offset.val(this.currentStep.offset.value),this.setColorUI(),this.updateData()}}},{key:"refresh",value:function(){this.reloadStepList(),this.setColorUI()}},{key:"getLinearGradient",value:function(){var t=this;if(0===this.colorsteps.length)return"";if(1===this.colorsteps.length){var e=this.colorsteps[0];return"linear-gradient(to right, "+e.color+" "+e.offset+", "+e.color+" 100%)"}return"linear-gradient(to right, "+this.colorsteps.map((function(e,n){if(e.cut){var r=t.colorsteps[n-1];return r?e.color+" "+r.offset+" "+e.offset:e.color+" "+e.offset}return e.color+" "+e.offset})).join(",")+")"}},{key:"setColorUI",value:function(){this.refs.$stepList.css("background-image",this.getLinearGradient()),this.refs.$el.attr("data-selected-editor",this.type)}},{key:"reloadInputValue",value:function(){this.refs.$offset.val(this.currentStep.offset.value),this.refs.$offsetNumber.val(this.currentStep.offset.value),this.refs.$offsetSelect.val(this.currentStep.offset.unit),this.refs.$angle.val(this.angle.value),this.refs.$angleNumber.val(this.angle.value),this.refs.$centerX.val(this.radialPosition[0].value),this.refs.$centerXNumber.val(this.radialPosition[0].value),this.refs.$centerXSelect.val(this.radialPosition[0].unit),this.refs.$centerY.val(this.radialPosition[1].value),this.refs.$centerYNumber.val(this.radialPosition[1].value),this.refs.$centerYSelect.val(this.radialPosition[1].unit),this.refs.$radialType.val(this.radialType)}},{key:"@setColorStepColor",value:function(t){this.currentStep&&(this.currentStep.color=t,this.$colorView.css({"background-color":t}),this.$arrow.css({"background-color":t}),this.setColorUI(),this.updateData())}},{key:"updateData",value:function(){this.$store.emit("changeGradientEditor",{type:this.type,index:this.index,angle:this.angle,colorsteps:this.colorsteps,radialPosition:this.radialPosition,radialType:this.radialType})}},{key:"radialPositionX",get:function(){return new In(this.refs.$centerX.val(),this.refs.$centerXSelect.val())}},{key:"radialPositionY",get:function(){return new In(this.refs.$centerY.val(),this.refs.$centerYSelect.val())}}]),e}(ze),Hn={0:"to top",45:"to top right",90:"to right",135:"to bottom right",180:"to bottom",225:"to bottom left",270:"to left",315:"to top left"},Nn={"to top":"0","to top right":"45","to right":"90","to bottom right":"135","to bottom":"180","to bottom left":"225","to left":"270","to top left":"315"},Fn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getDefaultObject",this).call(this,k({type:"linear-gradient",angle:0},t))}},{key:"toCloneObject",value:function(){return k({},w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toCloneObject",this).call(this),{angle:this.json.angle})}},{key:"isLinear",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t=this.getColorString(),e="";return wt(e=this.json.angle||0)&&(e=Hn[""+e]||e),wt(e)&&(e=e>360?e%360:e,e+="deg"),this.json.type+"("+e+", "+t+")"}}],[{key:"toLinearGradient",value:function(t){return 0===t.length?"none":new e({angle:"to right",colorsteps:t})+""}},{key:"parse",value:function(t){var n=P(t),r=0,o=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){t.includes("@")?(t=R(t,n.matches),o.push.apply(o,C(Mn.parse(t)))):r=gt(Nn[t])?In.parse(t):In.deg(+Nn[t])})),new e({angle:r,colorsteps:o})}}]),e}(Vn),Gn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"getDefaultObject",value:function(){return w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getDefaultObject",this).call(this,{type:"repeating-linear-gradient",angle:0})}}],[{key:"parse",value:function(t){var n=Fn.parse(t);return new e({angle:n.angle,colorsteps:n.colorsteps})}}]),e}(Fn),zn=(m(Bn={},"center",!0),m(Bn,"top",!0),m(Bn,"left",!0),m(Bn,"right",!0),m(Bn,"bottom",!0),Bn),Xn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getDefaultObject",this).call(this,k({type:"radial-gradient",radialType:"ellipse",radialPosition:[En.CENTER,En.CENTER]},t))}},{key:"toCloneObject",value:function(){var t=this.json.radialPosition||[In.percent(50),In.percent(50)];return k({},w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toCloneObject",this).call(this),{radialType:this.json.radialType||"ellipse",radialPosition:JSON.parse(JSON.stringify(t))})}},{key:"isRadial",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t,e=this.getColorString(),n=this.json,r=n.radialType,o=n.radialPosition||["center","center"];return t=(o=zn[o]?o:o.join(" "))?r+" at "+o:r,(n.type||"radial-gradient")+"("+t+", "+e+")"}}],[{key:"parse",value:function(t){var n=P(t),r="ellipse",o=[En.CENTER,En.CENTER],i=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(t.includes("@"))t=R(t,n.matches),i.push.apply(i,C(Mn.parse(t)));else{if(t.includes("at")){var a=t.split("at").map((function(t){return t.trim()})),u=x(a,2);r=u[0],o=u[1]}else r=t;if(mt(o)){var c=o.split(" ");if(1===c.length){var l=In.parse(c[0]);o=l.isString()?[l.value,l.value]:[l.clone(),l.clone()]}else 2===c.length&&(o=c.map((function(t){var e=In.parse(t);return e.isString()?e.value:e})))}}})),new e({radialType:r,colorsteps:i})}}]),e}(Vn),Yn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"getDefaultObject",value:function(){return w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getDefaultObject",this).call(this,{type:"repeating-radial-gradient"})}}],[{key:"parse",value:function(t){var n=Xn.parse(t);return new e({radialType:n.radialType,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}]),e}(Xn),Wn=(m(Dn={},"center",!0),m(Dn,"top",!0),m(Dn,"left",!0),m(Dn,"right",!0),m(Dn,"bottom",!0),Dn),qn={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},Kn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getDefaultObject",this).call(this,k({type:"conic-gradient",angle:0,radialPosition:[En.CENTER,En.CENTER]},t))}},{key:"toCloneObject",value:function(){return k({},w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toCloneObject",this).call(this),{angle:this.json.angle,radialPosition:JSON.parse(JSON.stringify(this.json.radialPosition))})}},{key:"isConic",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"getColorString",value:function(){if(0===this.colorsteps.length)return"";var t=this.colorsteps;return t?(t.sort((function(t,e){return t.percent==e.percent?0:t.percent>e.percent?1:-1})),t.map((function(e,n){return e.prevColorStep=e.cut&&n>0?t[n-1]:null,e})).map((function(t){var e=Math.floor(3.6*t.percent),n="";return t.cut&&t.prevColorStep&&(n=Math.floor(3.6*t.prevColorStep.percent)+"deg"),t.color+" "+n+" "+e+"deg"})).join(",")):""}},{key:"toString",value:function(){var t=this.getColorString(),e=[],n=this.json,r=n.angle,o=n.radialPosition||En.CENTER;o=Wn[o]?o:o.join(" "),bt(r)&&(r=+(qn[r]||r),e.push("from "+r+"deg")),o&&e.push("at "+o);var i=e.length?e.join(" ")+",":"";return n.type+"("+i+" "+t+")"}}],[{key:"parse",value:function(t){var n=P(t),r="0deg",o=[En.CENTER,En.CENTER],i=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(t.includes("@"))t=R(t=t.split(" ").map((function(t){return t.trim()})).map((function(t){return t.includes("deg")?In.parse(t).toPercent():t})).join(" "),n.matches),i.push.apply(i,C(Mn.parse(t)));else{if(t.includes("at")){var a=t.split("at").map((function(t){return t.trim()})),u=x(a,2);r=u[0],o=u[1]}else r=t;if(isString(o)){var c=o.split(" ");if(1===c.length){var l=In.parse(c[0]);o=l.isString()?[l.value,l.value]:[l.clone(),l.clone()]}else 2===c.length&&(o=c.map((function(t){var e=In.parse(t);return e.isString()?e.value:e})))}isString(r)&&r.includes("from")&&(r=r.split("from")[1],r=isUndefined(qn[r])?In.parse(r):In.deg(+qn[r]))}})),new e({angle:r,radialPosition:o,colorsteps:i})}}]),e}(Vn),Jn=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"getDefaultObject",value:function(){return w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getDefaultObject",this).call(this,{type:"repeating-conic-gradient",angle:0,radialPosition:[En.CENTER,En.CENTER]})}}],[{key:"parse",value:function(t){var n=Kn.parse(t);return new e({angle:n.angle,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}]),e}(Kn),Zn=[{type:"linear-gradient",title:"Linear Gradient"},{type:"repeating-linear-gradient",title:"Repeating Linear Gradient"},{type:"radial-gradient",title:"Radial Gradient"},{type:"repeating-radial-gradient",title:"Repeating Radial Gradient"},{type:"conic-gradient",title:"Conic Gradient"},{type:"repeating-conic-gradient",title:"Repeating Conic Gradient"}],Qn=/((linear\-gradient|repeating\-linear\-gradient|radial\-gradient|repeating\-radial\-gradient|conic\-gradient|repeating\-conic\-gradient|url)\(([^\)]*)\))/gi,tr=function(t){function e(){return g(this,e),$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),b(e,[{key:"components",value:function(){return{EmbedColorPicker:Sn,gradientEditor:Un}}},{key:"parseImage",value:function(t){var e=P(t),n=null;return e.str.match(Qn).forEach((function(t,r){(t=R(t,e.matches)).includes("repeating-linear-gradient")?n=Gn.parse(t):t.includes("linear-gradient")?n=Fn.parse(t):t.includes("repeating-radial-gradient")?n=Yn.parse(t):t.includes("radial")?n=Xn.parse(t):t.includes("repeating-conic-gradient")?n=Jn.parse(t):t.includes("conic")&&(n=Kn.parse(t))})),n}},{key:"callbackColorValue",value:function(t){var e=this.image.toString();"function"==typeof this.opt.onChange&&this.opt.onChange.call(this,e,this.image),"function"==typeof this.colorpickerShowCallback&&this.colorpickerShowCallback(e,this.image)}},{key:"callbackHideColorValue",value:function(t){var e=this.image.toString();"function"==typeof this.opt.onHide&&this.opt.onHide.call(this,e,this.image),"function"==typeof this.colorpickerHideCallback&&this.colorpickerHideCallback(e,this.image)}},{key:"initialize",value:function(){w(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this),this.$root.addClass("gradient-picker"),this.selectedTab="linear-gradient",this.setValue(this.opt.gradient||"linear-gradient(to right, red 0%, yellow 100%)")}},{key:"setValue",value:function(t){this.gradient=t,this.image=this.parseImage(this.gradient),this.selectTabContent(this.image.type)}},{key:"getValue",value:function(){return this.image.toString()}},{key:"template",value:function(){return'\n      <div class="gradient-body">\n\n        <div class=\'box\'>\n          <div class=\'gradient-preview\'>\n            <div class=\'gradient-view\' ref=\'$gradientView\'></div>\n          </div>\n          <div class="picker-tab">\n            <div class="picker-tab-list" ref="$tab" data-value="static-gradient" data-is-image-hidden="false">\n              '+Zn.map((function(t){return"\n                  <span \n                    class='picker-tab-item "+(t.selected?"selected":"")+"' \n                    data-selected-value='"+t.type+"'\n                    title='"+t.title+"'\n                  > \n                  <div class='icon'></div>\n                  </span>"})).join("")+"\n            </div>\n          </div>\n          <div target='gradientEditor'></div>\n\n        </div>\n        <div class='box'>\n          <div target=\"EmbedColorPicker\"></div>\n        </div>\n      </div>\n     \n    "}},{key:"getColorString",value:function(){return this.image?this.image.getColorString():""}},{key:"getCurrentStepColor",value:function(){return(this.image.colorsteps[this.selectColorStepIndex||0]||{color:"rgba(0, 0, 0, 1)"}).color}},{key:"@changeGradientEditor",value:function(t){var e=t.colorsteps.map((function(t,e){return new Mn({color:t.color,percent:t.offset.value,cut:t.cut,index:100*(e+1)})}));t=k({},t,{type:this.selectedTab,colorsteps:e}),this.image.reset(t),this.updateGradientPreview(),this.updateData()}},{key:"click $tab .picker-tab-item",value:function(t){var e=t.$delegateTarget.attr("data-selected-value");this.selectTabContent(e)}},{key:"selectTabContent",value:function(t){this.selectedTab=t,this.refs.$tab.attr("data-value",t),this.image=this.createGradient({type:t},this.image),this.$store.emit("setGradientEditor",this.getColorString(),this.selectColorStepIndex,this.image.type,this.image.angle,this.image.radialPosition,this.image.radialType);var e=this.getCurrentStepColor();this["@selectColorStep"](e),this.updateGradientPreview()}},{key:"createGradient",value:function(t,e){var n=t.colorsteps||e.colorsteps,r=t.angle||e.angle,o=t.radialType||e.radialType||"ellipse",i=t.radialPosition||e.radialPosition||[In.percent(50),In.percent(50)],a=e.clone().toJSON();switch(delete a.itemType,delete a.type,t.type){case"linear-gradient":return new Fn({colorsteps:n,angle:r});case"repeating-linear-gradient":return new Gn({colorsteps:n,angle:r});case"radial-gradient":return new Xn({colorsteps:n,radialType:o,radialPosition:i});case"repeating-radial-gradient":return new Yn({colorsteps:n,radialType:o,radialPosition:i});case"conic-gradient":return new Kn({colorsteps:n,angle:r,radialPosition:i});case"repeating-conic-gradient":return new Jn({colorsteps:n,angle:r,radialPosition:i})}return new Vn}},{key:"@changeEmbedColorPicker",value:function(t){this.$store.emit("setColorStepColor",t)}},{key:"@selectColorStep",value:function(t){this.EmbedColorPicker.setValue(t)}},{key:"@changeColorStep",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.image.reset(k({},t)),this.updateGradientPreview()}},{key:"updateGradientPreview",value:function(){this.image&&(this.refs.$gradientView.css("background-image",this.image.toString()),this.updateData())}},{key:"updateData",value:function(){this.callbackChange()}}]),e}(We);return k({},Te,jn,{createGradientPicker:function(t){return new tr(t)}})}()},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"randomNumber",(function(){return X})),n.d(r,"randomByCount",(function(){return Y})),n.d(r,"random",(function(){return W})),n.d(r,"randomRGBA",(function(){return q})),n.d(r,"round",(function(){return K})),n.d(r,"degreeToRadian",(function(){return J})),n.d(r,"radianToDegree",(function(){return Z})),n.d(r,"getXInCircle",(function(){return Q})),n.d(r,"getYInCircle",(function(){return tt})),n.d(r,"getXYInCircle",(function(){return et})),n.d(r,"getDist",(function(){return nt})),n.d(r,"calculateAngle",(function(){return rt})),n.d(r,"uuid",(function(){return ot})),n.d(r,"uuidShort",(function(){return it})),n.d(r,"cubicBezier",(function(){return st})),n.d(r,"getGradientLine",(function(){return ft}));var o={};n.r(o),n.d(o,"debounce",(function(){return Re})),n.d(o,"keyEach",(function(){return Ee})),n.d(o,"keyMap",(function(){return Te})),n.d(o,"get",(function(){return Ie})),n.d(o,"defaultValue",(function(){return Be})),n.d(o,"isUndefined",(function(){return De})),n.d(o,"isNotUndefined",(function(){return Me})),n.d(o,"isArray",(function(){return Ae})),n.d(o,"isBoolean",(function(){return Ve})),n.d(o,"isString",(function(){return Le})),n.d(o,"isNotString",(function(){return Ue})),n.d(o,"isObject",(function(){return He})),n.d(o,"isFunction",(function(){return Ne})),n.d(o,"isNumber",(function(){return Fe})),n.d(o,"clone",(function(){return Ge})),n.d(o,"cleanObject",(function(){return ze})),n.d(o,"combineKeyArray",(function(){return Xe})),n.d(o,"flatKeyValue",(function(){return Ye})),n.d(o,"repeat",(function(){return We})),n.d(o,"html",(function(){return Je}));var i={};n.r(i),n.d(i,"format",(function(){return Ze})),n.d(i,"hex",(function(){return Qe})),n.d(i,"rgb",(function(){return tn})),n.d(i,"hsl",(function(){return en}));var a={};n.r(a),n.d(a,"ReverseXyz",(function(){return nn})),n.d(a,"ReverseRGB",(function(){return rn})),n.d(a,"XYZtoRGB",(function(){return on})),n.d(a,"LABtoXYZ",(function(){return an})),n.d(a,"PivotXyz",(function(){return un})),n.d(a,"XYZtoLAB",(function(){return cn})),n.d(a,"LABtoRGB",(function(){return ln}));var u={};n.r(u),n.d(u,"RGBtoHSV",(function(){return sn})),n.d(u,"RGBtoCMYK",(function(){return fn})),n.d(u,"RGBtoHSL",(function(){return hn})),n.d(u,"c",(function(){return pn})),n.d(u,"gray",(function(){return vn})),n.d(u,"RGBtoSimpleGray",(function(){return dn})),n.d(u,"RGBtoGray",(function(){return yn})),n.d(u,"brightness",(function(){return gn})),n.d(u,"RGBtoYCrCb",(function(){return bn})),n.d(u,"PivotRGB",(function(){return mn})),n.d(u,"RGBtoXYZ",(function(){return kn})),n.d(u,"RGBtoLAB",(function(){return wn}));var c={};n.r(c),n.d(c,"CMYKtoRGB",(function(){return On}));var l={};n.r(l),n.d(l,"HSVtoRGB",(function(){return $n})),n.d(l,"HSVtoHSL",(function(){return xn}));var s={};n.r(s),n.d(s,"HUEtoRGB",(function(){return Cn})),n.d(s,"HSLtoHSV",(function(){return jn})),n.d(s,"HSLtoRGB",(function(){return Sn}));var f={};n.r(f),n.d(f,"YCrCbtoRGB",(function(){return Pn}));var h={};n.r(h),n.d(h,"matches",(function(){return An})),n.d(h,"convertMatches",(function(){return Vn})),n.d(h,"convertMatchesArray",(function(){return Ln})),n.d(h,"reverseMatches",(function(){return Un})),n.d(h,"trim",(function(){return Hn})),n.d(h,"parse",(function(){return Nn})),n.d(h,"parseGradient",(function(){return Fn}));var p={};n.r(p),n.d(p,"interpolateRGB",(function(){return Gn})),n.d(p,"interpolateRGBObject",(function(){return zn})),n.d(p,"scale",(function(){return Xn})),n.d(p,"blend",(function(){return Yn})),n.d(p,"mix",(function(){return Wn})),n.d(p,"contrast",(function(){return qn})),n.d(p,"contrastColor",(function(){return Kn})),n.d(p,"gradient",(function(){return Jn})),n.d(p,"scaleHSV",(function(){return Zn})),n.d(p,"scaleH",(function(){return Qn})),n.d(p,"scaleS",(function(){return tr})),n.d(p,"scaleV",(function(){return er}));var v={};n.r(v),n.d(v,"palette",(function(){return mr})),n.d(v,"ImageToRGB",(function(){return kr})),n.d(v,"ImageToCanvas",(function(){return wr})),n.d(v,"ImageToURL",(function(){return Or})),n.d(v,"histogram",(function(){return xr})),n.d(v,"histogramToPoints",(function(){return Cr})),n.d(v,"ImageToHistogram",(function(){return jr}));var d={};n.r(d),n.d(d,"start",(function(){return Oa}));n(2);var y={create:function(t,e){var n=document.createElement("canvas");return n.width=t||0,n.height=e||0,n},drawPixels:function(t){var e=this.create(t.width,t.height),n=e.getContext("2d"),r=n.getImageData(0,0,e.width,e.height);return r.data.set(t.pixels),n.putImageData(r,0,0),e},createHistogram:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{black:!0,red:!1,green:!1,blue:!1},i=this.create(t,e),a=i.getContext("2d");a.clearRect(0,0,t,e),a.fillStyle="white",a.fillRect(0,0,t,e),a.globalAlpha=.7;var u={black:!1};o.black?u.black=!1:u.black=!0,o.red?u.red=!1:u.red=!0,o.green?u.green=!1:u.green=!0,o.blue?u.blue=!1:u.blue=!0,Object.keys(n).forEach((function(r){if(!u[r]){var o=n[r],i=Math.max.apply(Math,o),c=t/o.length;a.fillStyle=r,o.forEach((function(t,n){var r=e*(t/i),o=n*c;a.fillRect(o,e-r,c,r)}))}})),Ne(r)&&r(i)},getHistogram:function(t){for(var e=new Array(256),n=new Array(256),r=new Array(256),o=new Array(256),i=0;i<256;i++)e[i]=0,n[i]=0,r[i]=0,o[i]=0;return function(t,e){!function(t,e){for(var n=0;n<t;n+=4)e(n)}(t.pixels.length,(function(n){e(t.pixels,n)}))}(t,(function(t,i){var a=Math.round(Rr.brightness(t[i],t[i+1],t[i+2]));e[a]++,n[t[i]]++,r[t[i+1]]++,o[t[i+2]]++})),{black:e,red:n,green:r,blue:o}},getBitmap:function(t,e){var n=this.drawPixels(t);return{pixels:n.getContext("2d").getImageData(e.x||0,e.y||0,e.width||n.width,e.height||n.height).data,width:e.width,height:e.height}},putBitmap:function(t,e,n){var r=this.drawPixels(t),o=this.drawPixels(e),i=r.getContext("2d");return i.drawImage(o,n.x,n.y),t.pixels=i.getImageData(0,0,t.width,t.height).data,t}},g={identity:function(){return[1,0,0,0,1,0,0,0,1]},stretching:function(t){return[t,0,0,0,1,0,0,0,1]},squeezing:function(t){return[t,0,0,0,1/t,0,0,0,1]},scale:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[t=t||0===t?t:1,0,0,0,e=e||0===e?e:1,0,0,0,1]},scaleX:function(t){return this.scale(t)},scaleY:function(t){return this.scale(1,t)},translate:function(t,e){return[1,0,t,0,1,e,0,0,1]},rotate:function(t){var e=this.radian(t);return[Math.cos(e),-Math.sin(e),0,Math.sin(e),Math.cos(e),0,0,0,1]},rotate90:function(){return[0,-1,0,1,0,0,0,0,1]},rotate180:function(){return[-1,0,0,0,-1,0,0,0,1]},rotate270:function(){return[0,1,0,-1,0,0,0,0,1]},radian:function(t){return t*Math.PI/180},skew:function(t,e){var n=this.radian(t),r=this.radian(e);return[1,Math.tan(n),0,Math.tan(r),1,0,0,0,1]},skewX:function(t){var e=this.radian(t);return[1,Math.tan(e),0,0,1,0,0,0,1]},skewY:function(t){var e=this.radian(t);return[1,0,0,Math.tan(e),1,0,0,0,1]},shear1:function(t){return[1,-Math.tan(this.radian(t)/2),0,0,1,0,0,0,1]},shear2:function(t){return[1,0,0,Math.sin(this.radian(t)),1,0,0,0,1]}},b={CONSTANT:g,radian:function(t){return g.radian(t)},multiply:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]},identity:function(t){return this.multiply(g.identity(),t)},translate:function(t,e,n){return this.multiply(g.translate(t,e),n)},rotate:function(t,e){return this.multiply(g.rotate(t),e)},shear1:function(t,e){return this.multiply(g.shear1(t),e)},shear2:function(t,e){return this.multiply(g.shear2(t),e)},rotateShear:function(t,e){var n=e;return n=this.shear1(t,n),n=this.shear2(t,n),n=this.shear1(t,n)}};function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ke,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ke;return function(r,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=St(r.pixels.length,r.width,r.height),u=r.width,c=r.height;e==ke&&(e=Math.floor(u/2)),n==ke&&(n=Math.floor(c/2));var l=b.CONSTANT.translate(-e,-n),s=b.CONSTANT.translate(e,n),f=b.CONSTANT.shear1(t),h=b.CONSTANT.shear2(t);qt((function(t,e,n,o){var i=b.multiply(l,[n,o,1]);i=b.multiply(f,i).map(Math.round),i=b.multiply(h,i).map(Math.round),i=b.multiply(f,i).map(Math.round);var a=m(i=b.multiply(s,i),2),p=a[0],v=a[1];p<0||(v<0||p>u-1||v>c-1||Zt(t,v*u+p<<2,r.pixels,e))}))(a,(function(){o(a)}),i)}}function O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=It(t),o=(e=It(e))/100,i=n;return Gt((function(){var t=o*Math.ceil(.2126*$r+.7152*$g+.0722*$b)>=r?255:0;if(i)0==t&&($r=0,$g=0,$b=0);else{var e=Math.round(t);$r=e,$g=e,$b=e}}),{$C:o,$scale:r,$hasColor:i})}var $={bitonal:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=Rr.parse(t),o=Rr.parse(e),i=n;return Gt((function(){var t=$r+$g+$b<=i?r:o;$r=t.r,$g=t.g,$b=t.b}),{$threshold:i},{$darkColor:r,$lightColor:o})},brightness:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t=It(t);var e=Math.floor(t/100*255);return Gt((function(){$r+=e,$g+=e,$b+=e}),{$C:e})},brownie:function(){var t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,-.037703249837783157,.8609577587992641,.15059552388459913,0,.24113635128153335,-.07441037908422492,.44972182064877153,0,0,0,0,1];return Gt((function(){$r=t[0]*$r+t[1]*$g+t[2]*$b+t[3]*$a,$g=t[4]*$r+t[5]*$g+t[6]*$b+t[7]*$a,$b=t[8]*$r+t[9]*$g+t[10]*$b+t[11]*$a,$a=t[12]*$r+t[13]*$g+t[14]*$b+t[15]*$a}),{$matrix:t})},clip:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t=It(t);var e=2.55*Math.abs(t);return Gt((function(){$r=$r>255-e?255:0,$g=$g>255-e?255:0,$b=$b>255-e?255:0}),{$C:e})},contrast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t=It(t);var e=Math.max((128+t)/128,0);return Gt((function(){$r*=e,$g*=e,$b*=e}),{$C:e})},gamma:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=It(t);return Gt((function(){$r=255*Math.pow($r/255,e),$g=255*Math.pow($g/255,e),$b=255*Math.pow($b/255,e)}),{$C:e})},gradient:function(){var t=Array.prototype.slice.call(arguments);1===t.length&&Le(t[0])&&(t=Rr.convertMatchesArray(t[0]));var e=(t=t.map((function(t){return Rr.matches(t).length?{type:"param",value:t}:{type:"scale",value:t}}))).filter((function(t){return"scale"==t.type}))[0];e=e?+e.value:256,t=t.filter((function(t){return"param"==t.type})).map((function(t){return t.value})).join(",");var n=Rr.gradient(t,e).map((function(t){var e=Rr.parse(t);return{r:e.r,g:e.g,b:e.b,a:e.a}}));return Gt((function(){var t=clamp(Math.ceil(.2126*$r+.7152*$g+.0722*$b)),r=clamp(Math.floor(t*(e/256))),o=n[r];$r=o.r,$g=o.g,$b=o.b,$a=clamp(Math.floor(256*o.a))}),{},{$colors:n,$scale:e})},grayscale:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=(t=It(t))/100;e>1&&(e=1);var n=[.2126+.7874*(1-e),.7152-.7152*(1-e),.0722-.0722*(1-e),0,.2126-.2126*(1-e),.7152+.2848*(1-e),.0722-.0722*(1-e),0,.2126-.2126*(1-e),.7152-.7152*(1-e),.0722+.9278*(1-e),0,0,0,0,1];return Gt((function(){$r=n[0]*$r+n[1]*$g+n[2]*$b+n[3]*$a,$g=n[4]*$r+n[5]*$g+n[6]*$b+n[7]*$a,$b=n[8]*$r+n[9]*$g+n[10]*$b+n[11]*$a,$a=n[12]*$r+n[13]*$g+n[14]*$b+n[15]*$a}),{$matrix:n})},hue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:360,e=It(t);return Gt((function(){var t=Color.RGBtoHSV($r,$g,$b),e=t.h;e+=Math.abs($amount),e%=360,t.h=e;var n=Color.HSVtoRGB(t);$r=n.r,$g=n.g,$b=n.b}),{$C:e})},invert:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=(t=It(t))/100;return Gt((function(){$r=(255-$r)*e,$g=(255-$g)*e,$b=(255-$b)*e}),{$C:e})},kodachrome:function(){var t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,0,0,0,1];return Gt((function(){$r=t[0]*$r+t[1]*$g+t[2]*$b+t[3]*$a,$g=t[4]*$r+t[5]*$g+t[6]*$b+t[7]*$a,$b=t[8]*$r+t[9]*$g+t[10]*$b+t[11]*$a,$a=t[12]*$r+t[13]*$g+t[14]*$b+t[15]*$a}),{$matrix:t})},matrix:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,s=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,f=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,h=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,p=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,v=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,d=arguments.length>15&&void 0!==arguments[15]?arguments[15]:0,y=[t,e,n,r,o,i,a,u,c,l,s,f,h,p,v,d];return Gt((function(){$r=y[0]*$r+y[1]*a+y[2]*e+y[3]*t,a=y[4]*$r+y[5]*a+y[6]*e+y[7]*t,e=y[8]*$r+y[9]*a+y[10]*e+y[11]*t,t=y[12]*$r+y[13]*a+y[14]*e+y[15]*t}),{$matrix:y})},noise:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=It(t);return Gt((function(){var t=5*Math.abs(e),n=-t,r=t,o=Math.round(n+Math.random()*(r-n));$r+=o,$g+=o,$b+=o}),{$C:e})},opacity:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=(t=It(t))/100;return Gt((function(){$a*=e}),{$C:e})},polaroid:function(){var t=[1.438,-.062,-.062,0,-.122,1.378,-.122,0,-.016,-.016,1.483,0,0,0,0,1];return Gt((function(){$r=t[0]*$r+t[1]*$g+t[2]*$b+t[3]*$a,$g=t[4]*$r+t[5]*$g+t[6]*$b+t[7]*$a,$b=t[8]*$r+t[9]*$g+t[10]*$b+t[11]*$a,$a=t[12]*$r+t[13]*$g+t[14]*$b+t[15]*$a}),{$matrix:t})},saturation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=(t=It(t))/100,n=1-Math.abs(e),r=[n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,n];return Gt((function(){$r=r[0]*$r+r[1]*$g+r[2]*$b+r[3]*$a,$g=r[4]*$r+r[5]*$g+r[6]*$b+r[7]*$a,$b=r[8]*$r+r[9]*$g+r[10]*$b+r[11]*$a,$a=r[12]*$r+r[13]*$g+r[14]*$b+r[15]*$a}),{$matrix:r})},sepia:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=It(t);e>1&&(e=1);var n=[.393+.607*(1-e),.769-.769*(1-e),.189-.189*(1-e),0,.349-.349*(1-e),.686+.314*(1-e),.168-.168*(1-e),0,.272-.272*(1-e),.534-.534*(1-e),.131+.869*(1-e),0,0,0,0,1];return Gt((function(){$r=n[0]*$r+n[1]*$g+n[2]*$b+n[3]*$a,$g=n[4]*$r+n[5]*$g+n[6]*$b+n[7]*$a,$b=n[8]*$r+n[9]*$g+n[10]*$b+n[11]*$a,$a=n[12]*$r+n[13]*$g+n[14]*$b+n[15]*$a}),{$matrix:n})},shade:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=It(t),o=It(e),i=It(n);return Gt((function(){$r*=r,$g*=o,$b*=i}),{$redValue:r,$greenValue:o,$blueValue:i})},shift:function(){var t=[1.438,-.062,-.062,0,-.122,1.378,-.122,0,-.016,-.016,1.483,0,0,0,0,1];return Gt((function(){$r=t[0]*$r+t[1]*$g+t[2]*$b+t[3]*$a,$g=t[4]*$r+t[5]*$g+t[6]*$b+t[7]*$a,$b=t[8]*$r+t[9]*$g+t[10]*$b+t[11]*$a,$a=t[12]*$r+t[13]*$g+t[14]*$b+t[15]*$a}),{$matrix:t})},solarize:function(t,e,n){var r=It(t),o=It(e),i=It(n);return Gt((function(){$r=$r<r?255-$r:$r,$g=$g<o?255-$g:$g,$b=$b<i?255-$b:$b}),{$redValue:r,$greenValue:o,$blueValue:i})},technicolor:function(){var t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-.231103377548616,-.7501899197440212,1.847597816108189,0,0,0,0,1];return Gt((function(){$r=t[0]*$r+t[1]*$g+t[2]*$b+t[3]*$a,$g=t[4]*$r+t[5]*$g+t[6]*$b+t[7]*$a,$b=t[8]*$r+t[9]*$g+t[10]*$b+t[11]*$a,$a=t[12]*$r+t[13]*$g+t[14]*$b+t[15]*$a}),{$matrix:t})},threshold:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return O(t,e,!1)},"threshold-color":O,tint:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=parseParamNumber(t),o=parseParamNumber(e),i=parseParamNumber(n);return Gt((function(){$r+=(255-$r)*r,$g+=(255-$g)*o,$b+=(255-$b)*i}),{$redTint:r,$greenTint:o,$blueTint:i})}};function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=(t=It(t))/100;return ee(wt([1,2,1,2,4,2,1,2,1],1/16*e))}function C(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=(t=It(t))/100;return ee(wt([1,4,6,4,1,4,16,24,16,4,6,24,36,24,6,4,16,24,16,4,1,4,6,4,1],1/256*e))}function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=It(t),ee([5,5,5,-3,0,-3,-3,-3,-3])}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=It(t),ee([5,-3,-3,5,0,-3,5,-3,-3])}function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return ee(wt([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,24,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],(t=It(t))/100))}function _(){return ee(wt([1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1],1/9))}function R(){return ee(wt([1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1],1/9))}function E(){return ee(wt([1,0,0,0,1,0,0,0,1,0,1,0,0,1,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0,1,0,0,0,1],1/9))}function T(){return ee([-1,-2,-1,0,0,0,1,2,1])}function I(){return ee([-1,0,1,-2,0,2,-1,0,1])}var B=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],D=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function M(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var A=function(t,e,n){return n?function(t,e,n,r){if(isNaN(r)||r<1)return t;r|=0;var o,i,a,u,c,l,s,f,h,p,v,d,y,g,b,m,k,w,O,$,x=t.pixels,C=t.width,j=t.height,S=r+r+1,P=C-1,_=j-1,R=r+1,E=R*(R+1)/2,T=new M,I=T;for(a=1;a<S;a++)if(I=I.next=new M,a==R)var A=I;I.next=T;var V=null,L=null;s=l=0;var U=B[r],H=D[r];for(i=0;i<j;i++){for(g=b=m=f=h=p=0,v=R*(k=x[l]),d=R*(w=x[l+1]),y=R*(O=x[l+2]),f+=E*k,h+=E*w,p+=E*O,I=T,a=0;a<R;a++)I.r=k,I.g=w,I.b=O,I=I.next;for(a=1;a<R;a++)u=l+((P<a?P:a)<<2),f+=(I.r=k=x[u])*($=R-a),h+=(I.g=w=x[u+1])*$,p+=(I.b=O=x[u+2])*$,g+=k,b+=w,m+=O,I=I.next;for(V=T,L=A,o=0;o<C;o++)x[l]=f*U>>H,x[l+1]=h*U>>H,x[l+2]=p*U>>H,f-=v,h-=d,p-=y,v-=V.r,d-=V.g,y-=V.b,u=s+((u=o+r+1)<P?u:P)<<2,g+=V.r=x[u],b+=V.g=x[u+1],m+=V.b=x[u+2],f+=g,h+=b,p+=m,V=V.next,v+=k=L.r,d+=w=L.g,y+=O=L.b,g-=k,b-=w,m-=O,L=L.next,l+=4;s+=C}for(o=0;o<C;o++){for(b=m=g=h=p=f=0,v=R*(k=x[l=o<<2]),d=R*(w=x[l+1]),y=R*(O=x[l+2]),f+=E*k,h+=E*w,p+=E*O,I=T,a=0;a<R;a++)I.r=k,I.g=w,I.b=O,I=I.next;for(c=C,a=1;a<=r;a++)l=c+o<<2,f+=(I.r=k=x[l])*($=R-a),h+=(I.g=w=x[l+1])*$,p+=(I.b=O=x[l+2])*$,g+=k,b+=w,m+=O,I=I.next,a<_&&(c+=C);for(l=o,V=T,L=A,i=0;i<j;i++)x[u=l<<2]=f*U>>H,x[u+1]=h*U>>H,x[u+2]=p*U>>H,f-=v,h-=d,p-=y,v-=V.r,d-=V.g,y-=V.b,u=o+((u=i+R)<_?u:_)*C<<2,f+=g+=V.r=x[u],h+=b+=V.g=x[u+1],p+=m+=V.b=x[u+2],V=V.next,v+=k=L.r,d+=w=L.g,y+=O=L.b,g-=k,b-=w,m-=O,L=L.next,l+=C}return t}(t,0,0,e):stackBlurCanvasRGB(t,0,0,e)},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=It(t),function(n,r){var o=A(n,t,e);r(o)}};function L(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256;return ee(wt([1,4,6,4,1,4,16,24,16,4,6,24,-476,24,6,4,16,24,16,4,1,4,6,4,1],-1/(t=It(t))))}var U={blur:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return ee(Kt(t=It(t)))},emboss:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return ee([-2*(t=It(t)),-t,0,-t,1,t,0,t,2*t])},gaussianBlur:x,"gaussian-blur":x,gaussianBlur5x:C,"gaussian-blur-5x":C,grayscale2:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return ee(wt([.3,.3,.3,0,0,.59,.59,.59,0,0,.11,.11,.11,0,0,0,0,0,0,0,0,0,0,0,0],(t=It(t))/100))},normal:function(){return ee([0,0,0,0,1,0,0,0,0])},kirschHorizontal:j,"kirsch-horizontal":j,kirschVertical:S,"kirsch-vertical":S,laplacian:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return ee(wt([-1,-1,-1,-1,8,-1,-1,-1,-1],(t=It(t))/100))},laplacian5x:P,"laplacian-5x":P,motionBlur:_,"motion-blur":_,motionBlur2:R,"motion-blur-2":R,motionBlur3:E,"motion-blur-3":E,negative:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return ee(wt([-1,0,0,0,0,0,-1,0,0,0,0,0,-1,0,0,0,0,0,1,0,1,1,1,1,1],(t=It(t))/100))},sepia2:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return ee(wt([.393,.349,.272,0,0,.769,.686,.534,0,0,.189,.168,.131,0,0,0,0,0,0,0,0,0,0,0,0],(t=It(t))/100))},sharpen:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return ee(wt([0,-1,0,-1,5,-1,0,-1,0],(t=It(t))/100))},sobelHorizontal:T,"sobel-horizontal":T,sobelVertical:I,"sobel-vertical":I,stackBlur:V,"stack-blur":V,transparency:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return ee(wt([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,.3,0,0,0,0,0,1],(t=It(t))/100))},unsharpMasking:L,"unsharp-masking":L};var H={kirsch:function(){return ie("kirsch-horizontal kirsch-vertical")},sobel:function(){return ie("sobel-horizontal sobel-vertical")},vintage:function(){return ie("brightness(15) saturation(-20) gamma(1.8)")}};function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){G(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function G(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var z=F(F(F(F({},{crop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=St(n*r*4,n,r);return function(i,a){for(var u=e,c=0;u<r;u++,c++)for(var l=t,s=0;l<n;l++,s++)o.pixels[c*n*s]=i.pixels[u*n*l];a(o)}},resize:function(t,e){return function(n,r){var o=y.drawPixels(n),i=o.getContext("2d");o.width=t,o.height=e,r({pixels:new Uint8ClampedArray(i.getImageData(0,0,t,e).data),width:t,height:e})}},flipH:function(){return function(t,e){for(var n=t.width,r=t.height,o=n%2==1?1:0,i=o?Math.floor(n/2):n/2,a=0;a<r;a++)for(var u=0;u<i;u++){var c=a*n+u<<2,l=a*n+(n-1-u)<<2;Wt(t.pixels,c,l)}e(t)}},flipV:function(){return function(t,e){for(var n=t.width,r=t.height,o=r%2==1?1:0,i=o?Math.floor(r/2):r/2,a=0;a<i;a++)for(var u=0;u<n;u++){var c=a*n+u<<2,l=(r-1-a)*n+u<<2;Wt(t.pixels,c,l)}e(t)}},rotate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t=It(t),t%=360,function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0==t)return e;if(90==t||270==t)var o=St(e.pixels.length,e.height,e.width);else{if(180!=t)return w(t)(e,n,r);o=St(e.pixels.length,e.width,e.height)}qt((function(n,r,i,a){if(90==t)var u=i*o.width+(o.width-1-a)<<2;else if(270==t)u=(o.height-1-i)*o.width+a<<2;else if(180==t)u=(o.height-1-a)*o.width+(o.width-1-i)<<2;Zt(o.pixels,u,e.pixels,r)}))(e,(function(){n(o)}),r)}},rotateDegree:w,histogram:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"gray",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0;r<e.length-1;r++)for(var o=e[r],i=e[r+1],a=i[0]-o[0],u=i[1]-o[1],c=u/a,l=0,s=o[0];l<a;l++,s++)n[s]=o[1]+l*c;return n[255]=255,Gt("red"===t?function(){$r=n[$r]}:"green"===t?function(){$g=n[$g]}:"blue"===t?function(){$b=n[$b]}:function(){var t=Color.RGBtoYCrCb($r,$g,$b),e=Color.YCrCbtoRGB(clamp(n[clamp(t.y)]),t.cr,t.cb,0);$r=e.r,$g=e.g,$b=e.b},{},{$realPoints:n})},"rotate-degree":w}),$),U),H);function X(t,e){return Math.floor(Math.random()*(e-t+1))+t}function Y(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=[],n=0;n<t;n++)e[e.length]=W();return e}function W(){return tn({r:X(0,255),g:X(0,255),b:X(0,255)})}function q(){return tn({r:X(0,255),g:X(0,255),b:X(0,255),a:X(0,1e3)/1e3})}function K(t,e){return 0===t?0:(e=De(e)?1:e,Math.round(t*e)/e)}function J(t){return t*Math.PI/180}function Z(t){var e=180*t/Math.PI;return e<0&&(e=360+e),e}function Q(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n+e*Math.cos(J(t))}function tt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n+e*Math.sin(J(t))}function et(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:Q(t,e,n),y:tt(t,e,r)}}function nt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Math.sqrt(Math.pow(Math.abs(n-t),2)+Math.pow(Math.abs(r-e),2))}function rt(t,e){return Z(Math.atan2(e,t))}function ot(){var t=(new Date).getTime();return"xxx12-xx-34xx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))}function it(){var t=(new Date).getTime();return"xxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))}var at,ut=function(t){return 3*t*t*(1-t)},ct=function(t){return 3*t*(1-t)*(1-t)},lt=function(t){return(1-t)*(1-t)*(1-t)};function st(t,e,n,r){var o=e,i=r;return function(t){return 1-(o*ut(t)+i*ct(t)+lt(t))}}function ft(t,e){var n=Math.abs(e.width*Math.sin(t))+Math.abs(e.height*Math.cos(t)),r={x:e.x+e.width/2,y:e.y+e.height/2},o=Math.sin(t-Math.PI/2)*n/2,i=Math.cos(t-Math.PI/2)*n/2;return{length:n,center:r,start:{x:r.x-i,y:r.y-o},end:{x:r.x+i,y:r.y+o}}}function ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(n),!0).forEach((function(e){yt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vt(t){return function(t){if(Array.isArray(t))return dt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return dt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gt=0,bt=(yt(at={partial:le,multi:ue,merge:ce,weight:wt,repeat:Ot,colorMatrix:function(t,e,n){var r=t[e],o=t[e+1],i=t[e+2],a=t[e+3];Jt(t,e,n[0]*r+n[1]*o+n[2]*i+n[3]*a,n[4]*r+n[5]*o+n[6]*i+n[7]*a,n[8]*r+n[9]*o+n[10]*i+n[11]*a,n[12]*r+n[13]*o+n[14]*i+n[15]*a)},each:Ct,eachXY:jt,createRandomCount:function(){return[9,16,25,36,49,64,81,100].sort((function(t,e){return.5-Math.random()}))[0]},createRandRange:function(t,e,n){for(var r=[],o=1;o<=n;o++){var i=Math.random()*(e-t)+t,a=Math.floor(10*Math.random())%2==0?-1:1;r.push(a*i)}r.sort();var u=Math.floor(n>>1),c=r[u];return r[u]=r[0],r[0]=c,r},createBitmap:St,createBlurMatrix:Kt,pack:function(t){return function(e,n){Ct(e.pixels.length,(function(n,r){t(e.pixels,n,r,e.pixels[n],e.pixels[n+1],e.pixels[n+2],e.pixels[n+3])}),(function(){n(e)}))}},packXY:qt,pixel:Gt,getBitmap:Et,putBitmap:Tt,radian:function(t){return b.CONSTANT.radian(t)},convolution:ee,parseParamNumber:It,px2em:Dt,px2percent:Bt,em2percent:At,em2px:Mt,percent2em:Lt,percent2px:Vt,filter:ie,clamp:oe,fillColor:Jt,fillPixelColor:Zt},"multi",ue),yt(at,"merge",ce),yt(at,"matches",ne),yt(at,"parseFilter",re),yt(at,"partial",le),at),mt=bt,kt=bt;function wt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t.map((function(t){return t*e}))}function Ot(t,e){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n}function $t(t){if(Ne(t))return t;Le(t)&&(t=[t]);var e=t.shift();if(Ne(e))return e;var n=t,r=z[e]||mt[e];if(!r)throw new Error("".concat(e," is not filter. please check filter name."));return r.apply(r,n)}function xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e4,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"full",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:50,c=e,l=function(t){setTimeout(t,0)};function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=vt(Array(t)),n=e.map((function(t){return"cri = ri + i * s; if (cri >= mx) return {currentRunIndex: cri, i: null}; c(cri); i++;"})).join("\n"),r=new Function("ri","i","s","mx","c","\n            let cri = ri;\n            \n            ".concat(n,"\n            \n            return {currentRunIndex: cri, i: i} \n        "));return r}function f(){for(var e=s(u),o=c,a={},l=0;l<i;){if(null==(a=e(c,l,n,t,r)).i){o=a.currentRunIndex;break}l=a.i,o=a.currentRunIndex}h(o)}function h(e){e?c=e:c+=n,c>=t?o():l?l(f):f()}"requestAnimationFrame"==a&&(l=requestAnimationFrame,i=1e3),"full"==a&&(l=null,i=t),f()}function Ct(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};xt(t,0,4,(function(t){e(t,t>>2)}),(function(){n()}),r.functionDumpCount,r.frameTimer,r.loopCount)}function jt(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};xt(t,0,4,(function(t){var r=t>>2;n(t,r%e,Math.floor(r/e))}),(function(){r()}),o.functionDumpCount,o.frameTimer,o.loopCount)}function St(t,e,n){return{pixels:new Uint8ClampedArray(t),width:e,height:n}}function Pt(t,e,n,r){for(var o=e.pixels.length/4,i=0,a=0,u=0,c=0,l=0,s=0,f=0;f<o;f++)u=f%e.width,a=r+(c=Math.floor(f/e.width)),(i=n+u)>t.width||a>t.height||(l=c*e.width+u<<2,s=a*t.width+i<<2,t.pixels[s]=e.pixels[l],t.pixels[s+1]=e.pixels[l+1],t.pixels[s+2]=e.pixels[l+2],t.pixels[s+3]=e.pixels[l+3])}function _t(t,e,n,r){for(var o=e.pixels.length>>2,i=0,a=0,u=0,c=0,l=0,s=0,f=0;f<o;f++){u=f%e.width;a=r+(c=Math.floor(f/e.width)),(i=n+u)>t.width||(a>t.height||(l=a*t.width+i<<2,s=c*e.width+u<<2,e.pixels[s]=t.pixels[l],e.pixels[s+1]=t.pixels[l+1],e.pixels[s+2]=t.pixels[l+2],e.pixels[s+3]=t.pixels[l+3]))}}function Rt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t.width+e,r=t.height+e,o={pixels:new Uint8ClampedArray(n*r*4),width:n,height:r};return o}function Et(t,e){return y.getBitmap(t,e)}function Tt(t,e,n){return y.putBitmap(t,e,n)}function It(t,e){return Le(t)&&(t=t.replace(/deg|px|\%|em/g,fe)),Ne(e)?e(+t):+t}function Bt(t,e){return K(t/e*100,1e3)}function Dt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return K(t/n,1e3)}function Mt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return K(t*n,1e3)}function At(t,e){return Bt(Mt(t),e)}function Vt(t,e){return K(e*(t/100),1e3)}function Lt(t,e){return Dt(Vt(t,e),e)}var Ut=/(([\w_\-]+)(\(([^\)]*)\))?)+/gi;function Ht(t){var e=t.map((function(t){return" \n            ".concat(t.userFunction.$preContext,"\n\n            ").concat(t.userFunction.$preCallbackString,"\n\n            $r = clamp($r); $g = clamp($g); $b = clamp($b); $a = clamp($a);\n        ")})).join("\n\n"),n={clamp:oe,Color:Rr};t.forEach((function(t){n=pt(pt({},n),t.userFunction.rootContextObject)}));var r="const "+Te(n,(function(t){return" ".concat(t," = $rc.").concat(t," ")})).join(","),o=" \n    let $r = $p[$pi], $g = $p[$pi+1], $b = $p[$pi+2], $a = $p[$pi+3];\n    \n    ".concat(r,"\n\n    ").concat(e,"\n    \n    $p[$pi] = $r; $p[$pi+1] = $g; $p[$pi+2] = $b; $p[$pi+3] = $a;\n    "),i=new Function("$p","$pi","$rc",o);return function(t,e){i(t,e,n)}}function Nt(t){var e={},n=t.map((function(t){var n=[];Ee(t.context,(function(t){n[t]="n$".concat(gt++).concat(t,"$")})),Ee(t.rootContext,(function(t,r){n[t]="r$".concat(gt++).concat(t,"$"),e[n[t]]=r}));var r=Object.keys(t.context).filter((function(e){return!Fe(t.context[e])&&!Le(t.context[e])&&(!Ae(t.context[e])||!Fe(t.context[e][0])&&!Le(t.context[e][0]))})).map((function(e,r){return[n[e],JSON.stringify(t.context[e])].join(" = ")})),o=t.callback.toString().split("{");return o.shift(),(o=(o=o.join("{")).split("}")).pop(),o=o.join("}"),Ee(n,(function(e,n){Fe(t.context[e])||Le(t.context[e])?o=o.replace(new RegExp("\\"+e,"g"),t.context[e]):Ae(t.context[e])&&(Fe(t.context[e][0])||Le(t.context[e][0]))?t.context[e].forEach((function(t,n){o=o.replace(new RegExp("\\"+e+"\\["+n+"\\]","g"),t)})):o=o.replace(new RegExp("\\"+e,"g"),n)})),{preCallbackString:o,preContext:r}})),r=n.map((function(t,e){return t.preContext.length?"const ".concat(t.preContext,";"):""})).join("\n\n"),o=n.map((function(t){return t.preCallbackString})).join("\n\n"),i=" \n    let $r = $pixels[$pixelIndex], $g = $pixels[$pixelIndex+1], $b = $pixels[$pixelIndex+2], $a = $pixels[$pixelIndex+3];\n\n    ".concat(r,"\n\n    ").concat(o,"\n    \n    $pixels[$pixelIndex] = $r\n    $pixels[$pixelIndex+1] = $g \n    $pixels[$pixelIndex+2] = $b   \n    $pixels[$pixelIndex+3] = $a   \n    "),a=new Function("$pixels","$pixelIndex","$clamp","$Color",i);return a.$preCallbackString=o,a.$preContext=r,a.rootContextObject=e,a}function Ft(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Nt([{callback:t,context:e,rootContext:n}])}function Gt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ft(t,e,n),o=function(t,e){};return o.userFunction=r,o}var zt,Xt,Yt=[0,1,2,3];function Wt(t,e,n){Yt.forEach((function(r){var o=t[e+r];t[e+r]=t[n+r],t[n+r]=o}))}function qt(t){return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};jt(e.pixels.length,e.width,(function(n,r,o){t(e.pixels,n,r,o)}),(function(){n(e)}),r)}}function Kt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e=Math.pow(t,2),n=1/e;return Ot(n,e)}function Jt(t,e,n,r,o,i){if(3==arguments.length){var a=arguments[2];n=a.r,r=a.g,o=a.b,i=a.a}Fe(n)&&(t[e]=n),Fe(r)&&(t[e+1]=r),Fe(o)&&(t[e+2]=o),Fe(i)&&(t[e+3]=i)}function Zt(t,e,n,r){Jt(t,e,n[r],n[r+1],n[r+2],n[r+3])}function Qt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=[];return r=t.map((function(t,e){return[]})),t.forEach((function(t,o){if(0!=t){var i=r[o];for(o=e;o<=n;o++)i[o]=t*o}})),r}function te(t,e,n,r,o){var i=Math.round(Math.sqrt(t.length)),a=Math.floor(i/2),u=o?1:0,c="let r = 0, g = 0, b = 0, a = 0, scy = 0, scx =0, si = 0; ",l=[],s=[],f=[],h=[];t.forEach((function(t,e){var r=Math.floor(e/i)-a,o=e%i-a;0!=t&&(l.push("$t[".concat(e,"][$sp[(($sy + (").concat(r,")) * ").concat(n," + ($sx + (").concat(o,"))) * 4]]")),s.push("$t[".concat(e,"][$sp[(($sy + (").concat(r,")) * ").concat(n," + ($sx + (").concat(o,"))) * 4 + 1]]")),f.push("$t[".concat(e,"][$sp[(($sy + (").concat(r,")) * ").concat(n," + ($sx + (").concat(o,"))) * 4 + 2]]")),h.push("$t[".concat(e,"][$sp[(($sy + (").concat(r,")) * ").concat(n," + ($sx + (").concat(o,"))) * 4 + 3]]")))})),c+="r = ".concat(l.join(" + "),"; g = ").concat(s.join(" + "),"; b = ").concat(f.join(" + "),"; a = ").concat(h.join(" + "),";"),c+="$dp[$di] = r; $dp[$di+1] = g;$dp[$di+2] = b;$dp[$di+3] = a + (".concat(u,")*(255-a); ");var p=new Function("$dp","$sp","$di","$sx","$sy","$t",c);return function(t,n,r,o,i){p(t,n,r,o,i,e)}}function ee(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Qt(t);return function(r,o){var i=Math.round(Math.sqrt(t.length)),a=2*i,u=Rt(r,a);Pt(u,r,i,i);for(var c=St(u.pixels.length,u.width,u.height),l=St(r.pixels.length,r.width,r.height),s=te(t,n,u.width,u.height,e),f=r.pixels.length/4,h=0;h<f;h++){var p=h,v=p%r.width+i,d=Math.floor(p/r.width)+i;s(c.pixels,u.pixels,4*(d*u.width+v),v,d)}_t(c,l,i,i),o(l)}}function ne(t){var e=Rr.convertMatches(t),n=e.str.match(Ut),r=[];if(!n)return r;r=n.map((function(t){return{filter:t,origin:Rr.reverseMatches(t,e.matches)}}));var o={next:0};return r=r.map((function(e){var n=t.indexOf(e.origin,o.next);return e.startIndex=n,e.endIndex=n+e.origin.length,e.arr=re(e.origin),o.next=e.endIndex,e})).filter((function(t){return!!t.arr.length}))}function re(t){var e=Rr.convertMatches(t),n=e.str.match(Ut);if(!n[0])return[];var r=n[0].split("("),o=r.shift(),i=[];return r.length&&(i=r.shift().split(")")[0].split(",").map((function(t){return Rr.reverseMatches(t,e.matches)}))),[o].concat(vt(i)).map(Rr.trim)}function oe(t){return Math.min(255,t)}function ie(t){return ce(ne(t).map((function(t){return t.arr})))}function ae(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],n=[],r=0,o=t.length;r<o;r++){var i=t[r];i.userFunction?n.push(i):(n.length&&e.push(vt(n)),e.push(i),n=[])}return n.length&&e.push(vt(n)),e.forEach((function(t,n){var r;Array.isArray(t)&&(e[n]=(r=Ht(t),function(t,e){for(var n=0,o=t.pixels.length;n<o;n+=4)r(t.pixels,n);e(t)}))})),e}function ue(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=(e=ae(e=e.map((function(t){return $t(t)})).filter((function(t){return t})))).length;return function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t,a=0;function u(){e[a].call(null,i,(function(t){i=t,c()}),o)}function c(){++a>=r?n(i):u()}u()}}function ce(t){return ue.apply(void 0,vt(t))}function le(t){for(var e=null,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return e=1==r.length&&Le(r[0])?ie(r[0]):ce(r),function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e(Et(n,t),(function(e){r(Tt(n,e,t))}),o)}}function se(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fe="",he=" ",pe="px",ve="em",de="px",ye="em",ge="%",be=fe;se(zt={},"value",fe),se(zt,pe,de),se(zt,ve,ye),se(zt,"percent",ge),se(zt,"deg","deg"),se(zt,"color",be);function me(t){return t+de}var ke="center",we=["angle","backgroundPositionX","backgroundPositionY","backgroundSizeWidth","backgroundSizeHeight"],Oe=["angle","backgroundPositionX","backgroundPositionY","backgroundSizeWidth","backgroundSizeHeight"],$e=["backgroundPositionX","backgroundPositionY","backgroundSizeWidth","backgroundSizeHeight"];se(Xt={},"layer",[{key:"transform",title:"Transform",properties:["translateX","translateY","rotate","skewX","skewY","scale"]},{key:"transform3d",title:"Transform 3D",properties:["translateZ","perspective","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ"]}]),se(Xt,"image_linear",[{key:"linear",title:"Linear Gradient",properties:we}]),se(Xt,"image_radial",[{key:"linear",title:"Radial Gradient",properties:$e}]),se(Xt,"image_conic",[{key:"linear",title:"Conic Gradient",properties:Oe}]),se(Xt,"image_repeating-linear",[{key:"linear",title:"Repeating Linear Gradient",properties:we}]),se(Xt,"image_repeating-radial",[{key:"linear",title:"Repeating Radial Gradient",properties:$e}]),se(Xt,"image_repeating-conic",[{key:"linear",title:"Repeating Conic Gradient",properties:Oe}]),se(Xt,"image_static",[{key:"linear",title:"Static Gradient",properties:["color","backgroundPositionX","backgroundPositionY","backgroundSizeWidth","backgroundSizeHeight"]}]);function xe(t){return function(t){if(Array.isArray(t))return Ce(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Ce(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function je(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?je(Object(n),!0).forEach((function(e){Pe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){var n=void 0;return function(r,o,i,a,u){n&&clearTimeout(n),n=setTimeout((function(){t(r,o,i,a,u)}),e||300)}}function Ee(t,e){Object.keys(t).forEach((function(n,r){e(n,t[n],r)}))}function Te(t,e){return Object.keys(t).map((function(n,r){return e(n,t[n],r)}))}function Ie(t,e,n){var r=Be(t[e],e);return Ne(n)?n(r):r}function Be(t,e){return void 0===t?e:t}function De(t){return null==t}function Me(t){return!1===De(t)}function Ae(t){return Array.isArray(t)}function Ve(t){return"boolean"==typeof t}function Le(t){return"string"==typeof t}function Ue(t){return!1===Le(t)}function He(t){return"object"==_e(t)&&!Ae(t)&&null!==t}function Ne(t){return"function"==typeof t}function Fe(t){return"number"==typeof t}function Ge(t){return JSON.parse(JSON.stringify(t))}function ze(t){var e={};return Object.keys(t).filter((function(e){return!!t[e]})).forEach((function(n){e[n]=t[n]})),e}function Xe(t){return Object.keys(t).forEach((function(e){Array.isArray(t[e])&&(t[e]=t[e].join(", "))})),t}function Ye(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe,n={};return Object.keys(t).forEach((function(r){var o=r;e!==fe&&(o="".concat(e,".").concat(r)),He(t[r])?n=Se(Se({},n),Ye(t[r],o)):n[o]=t[r]})),n}function We(t){return xe(Array(t))}var qe=/\<(\w*)([^\>]*)\/\>/gim,Ke={image:!0,input:!0,br:!0},Je=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=t.map((function(t,e){var r=n[e]||fe;return Ne(r)&&(r=r()),Ae(r)||(r=[r]),t+(r=r.map((function(t){return He(t)?Object.keys(t).map((function(e){return"".concat(e,'="').concat(t[e],'"')})).join(he):t})).join(fe))})).join(fe);return o=o.replace(qe,(function(t,e){return Ke[e.toLowerCase()]?t:t.replace("/>","></".concat(e,">"))}))};function Ze(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(0, 0, 0, 0)";return Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),"hex"==e?Qe(t):"rgb"==e?tn(t,n):"hsl"==e?en(t):t}function Qe(t){Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]});var e=t.r.toString(16);t.r<16&&(e="0"+e);var n=t.g.toString(16);t.g<16&&(n="0"+n);var r=t.b.toString(16);return t.b<16&&(r="0"+r),"#".concat(e).concat(n).concat(r)}function tn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(0, 0, 0, 0)";if(Ae(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),!De(t))return 1==t.a||De(t.a)?isNaN(t.r)?e:"rgb(".concat(t.r,",").concat(t.g,",").concat(t.b,")"):"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a,")")}function en(t){return Ae(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),1==t.a||De(t.a)?"hsl(".concat(t.h,",").concat(t.s,"%,").concat(t.l,"%)"):"hsla(".concat(t.h,",").concat(t.s,"%,").concat(t.l,"%,").concat(t.a,")")}function nn(t){return Math.pow(t,3)>.008856?Math.pow(t,3):(t-16/116)/7.787}function rn(t){return t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t}function on(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.x,e=r.y,n=r.z}var o=t/100,i=e/100,a=n/100,u=3.2406*o+-1.5372*i+-.4986*a,c=-.9689*o+1.8758*i+.0415*a,l=.0557*o+-.204*i+1.057*a;u=rn(u),c=rn(c),l=rn(l);var s=K(255*u),f=K(255*c),h=K(255*l);return{r:s,g:f,b:h}}function an(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.l,e=r.a,n=r.b}var o=(t+16)/116,i=e/500+o,a=o-n/200;o=nn(o);var u=95.047*(i=nn(i)),c=100*o,l=108.883*(a=nn(a));return{x:u,y:c,z:l}}function un(t){return t>.008856?Math.pow(t,1/3):(7.787*t+16)/116}function cn(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.x,e=r.y,n=r.z}var o=t/95.047,i=e/100,a=n/108.883;o=un(o);var u=116*(i=un(i))-16,c=500*(o-i),l=200*(i-(a=un(a)));return{l:u,a:c,b:l}}function ln(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.l,e=r.a,n=r.b}return on(an(t,e,n))}function sn(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,a=n/255,u=Math.max(o,i,a),c=Math.min(o,i,a),l=u-c,s=0;0==l?s=0:u==o?s=(i-a)/l%6*60:u==i?s=60*((a-o)/l+2):u==a&&(s=60*((o-i)/l+4)),s<0&&(s=360+s);return{h:s,s:0==u?0:l/u,v:u}}function fn(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,a=n/255,u=1-Math.max(o,i,a),c=(1-o-u)/(1-u),l=(1-i-u)/(1-u),s=(1-a-u)/(1-u);return{c:c,m:l,y:s,k:u}}function hn(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}t/=255,e/=255,n/=255;var o,i,a=Math.max(t,e,n),u=Math.min(t,e,n),c=(a+u)/2;if(a==u)o=i=0;else{var l=a-u;switch(i=c>.5?l/(2-a-u):l/(a+u),a){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4}o/=6}return{h:K(360*o),s:K(100*i),l:K(100*c)}}function pn(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return vn((t+e+n)/3>90?0:255)}function vn(t){return{r:t,g:t,b:t}}function dn(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return vn(Math.ceil((t+e+n)/3))}function yn(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return vn(bn(t,e,n).y)}function gn(t,e,n){return Math.ceil(.2126*t+.7152*e+.0722*n)}function bn(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=gn(t,e,n),i=.564*(n-o),a=.713*(t-o);return{y:o,cr:a,cb:i}}function mn(t){return 100*(t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)}function kn(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,a=n/255,u=.4124*(o=mn(o))+.3576*(i=mn(i))+.1805*(a=mn(a)),c=.2126*o+.7152*i+.0722*a,l=.0193*o+.1192*i+.9505*a;return{x:u,y:c,z:l}}function wn(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return cn(kn(t,e,n))}function On(t,e,n,r){if(1==arguments.length){var o=arguments[0];t=o.c,e=o.m,n=o.y,r=o.k}var i=255*(1-t)*(1-r),a=255*(1-e)*(1-r),u=255*(1-n)*(1-r);return{r:i,g:a,b:u}}function $n(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.v}var o=t,i=e,a=n;o>=360&&(o=0);var u=i*a,c=u*(1-Math.abs(o/60%2-1)),l=a-u,s=[];return 0<=o&&o<60?s=[u,c,0]:60<=o&&o<120?s=[c,u,0]:120<=o&&o<180?s=[0,u,c]:180<=o&&o<240?s=[0,c,u]:240<=o&&o<300?s=[c,0,u]:300<=o&&o<360&&(s=[u,0,c]),{r:K(255*(s[0]+l)),g:K(255*(s[1]+l)),b:K(255*(s[2]+l))}}function xn(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.v}var o=$n(t,e,n);return hn(o.r,o.g,o.b)}function Cn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function jn(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.l}var o=Sn(t,e,n);return sn(o.r,o.g,o.b)}function Sn(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.l}var o,i,a;if(t/=360,n/=100,0==(e/=100))o=i=a=n;else{var u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;o=Cn(c,u,t+1/3),i=Cn(c,u,t),a=Cn(c,u,t-1/3)}return{r:K(255*o),g:K(255*i),b:K(255*a)}}function Pn(t,e,n,r){if(1==arguments.length){var o=arguments[0];t=o.y,e=o.cr,n=o.cb;r=(r=o.bit)||0}var i=t+1.402*(e-r),a=t-.344*(n-r)-.714*(e-r),u=t+1.772*(n-r);return{r:Math.ceil(i),g:Math.ceil(a),b:Math.ceil(u)}}var _n={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb(0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb(95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(237, 20, 61)",cyan:"rgb(0, 255, 255)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgrey:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb(0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb(75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgreen:"rgb(144, 238, 144)",lightgray:"rgb(211, 211, 211)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb(0, 255, 0)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",rebeccapurple:"rgb(102, 51, 153)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb(65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb(0, 255, 127)",steelblue:"rgb(70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb(0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb(64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)",transparent:"rgba(0, 0, 0, 0)"};var Rn={isColorName:function(t){return!!_n[t]},getColorByName:function(t){return _n[t]}};function En(t){return function(t){if(Array.isArray(t))return Tn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Tn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function In(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?In(Object(n),!0).forEach((function(e){Dn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mn=/(#(?:[\da-f]{3}){1,2}|rgb\((?:\s*\d{1,3},\s*){2}\d{1,3}\s*\)|rgba\((?:\s*\d{1,3},\s*){3}\d*\.?\d+\s*\)|hsl\(\s*\d{1,3}(?:,\s*\d{1,3}%){2}\s*\)|hsla\(\s*\d{1,3}(?:,\s*\d{1,3}%){2},\s*\d*\.?\d+\s*\)|([\w_\-]+))/gi;function An(t){var e=t.match(Mn),n=[];if(!e)return n;for(var r=0,o=e.length;r<o;r++)if(e[r].indexOf("#")>-1||e[r].indexOf("rgb")>-1||e[r].indexOf("hsl")>-1)n.push({color:e[r]});else{var i=Rn.getColorByName(e[r]);i&&n.push({color:e[r],nameColor:i})}var a={next:0};return n.forEach((function(e){var n=t.indexOf(e.color,a.next);e.startIndex=n,e.endIndex=n+e.color.length,a.next=e.endIndex})),n}function Vn(t){var e=An(t);return e.forEach((function(e,n){t=t.replace(e.color,"@"+n)})),{str:t,matches:e}}function Ln(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=Vn(t);return n.str.split(e).map((function(t,e){return t=Hn(t),n.matches[e]&&(t=t.replace("@"+e,n.matches[e].color)),t}))}function Un(t,e){return e.forEach((function(e,n){t=t.replace("@"+n,e.color)})),t}function Hn(t){return t.replace(/^\s+|\s+$/g,"")}function Nn(t){if(Le(t)){if(Rn.isColorName(t)&&(t=Rn.getColorByName(t)),t.indexOf("rgb(")>-1){for(var e=0,n=(r=t.replace("rgb(","").replace(")","").split(",")).length;e<n;e++)r[e]=parseInt(Hn(r[e]),10);return i=Bn(Bn({},i={type:"rgb",r:r[0],g:r[1],b:r[2],a:1}),hn(i))}if(t.indexOf("rgba(")>-1){for(e=0,n=(r=t.replace("rgba(","").replace(")","").split(",")).length;e<n;e++)r[e]=n-1==e?parseFloat(Hn(r[e])):parseInt(Hn(r[e]),10);return i=Bn(Bn({},i={type:"rgb",r:r[0],g:r[1],b:r[2],a:r[3]}),hn(i))}if(t.indexOf("hsl(")>-1){for(e=0,n=(r=t.replace("hsl(","").replace(")","").split(",")).length;e<n;e++)r[e]=parseFloat(Hn(r[e]));return i=Bn(Bn({},i={type:"hsl",h:r[0],s:r[1],l:r[2],a:1}),Sn(i))}if(t.indexOf("hsla(")>-1){for(e=0,n=(r=t.replace("hsla(","").replace(")","").split(",")).length;e<n;e++)r[e]=n-1==e?parseFloat(Hn(r[e])):parseInt(Hn(r[e]),10);return i=Bn(Bn({},i={type:"hsl",h:r[0],s:r[1],l:r[2],a:r[3]}),Sn(i))}if(0==t.indexOf("#")){var r=[];if(3==(t=t.replace("#","")).length)for(e=0,n=t.length;e<n;e++){var o=t.substr(e,1);r.push(parseInt(o+o,16))}else for(e=0,n=t.length;e<n;e+=2)r.push(parseInt(t.substr(e,2),16));return i=Bn(Bn({},i={type:"hex",r:r[0],g:r[1],b:r[2],a:1}),hn(i))}}else if(Fe(t)){var i;if(0<=t&&t<=16777215)return i=Bn(Bn({},i={type:"hex",r:(16711680&t)>>16,g:(65280&t)>>8,b:(255&t)>>0,a:1}),hn(i));if(0<=t&&t<=4294967295)return i=Bn(Bn({},i={type:"hex",r:(4278190080&t)>>24,g:(16711680&t)>>16,b:(65280&t)>>8,a:(255&t)/255}),hn(i))}return t}function Fn(t){Le(t)&&(t=Ln(t));var e=(t=t.map((function(t){if(Le(t)){var e=Vn(t),n=Hn(e.str).split(he);return n[1]?n[1].includes("%")?n[1]=parseFloat(n[1].replace(/%/,""))/100:n[1]=parseFloat(n[1]):n[1]="*",n[0]=Un(n[0],e.matches),n}if(Array.isArray(t))return t[1]?Le(t[1])&&(t[1].includes("%")?t[1]=parseFloat(t[1].replace(/%/,""))/100:t[1]=+t[1]):t[1]="*",En(t)}))).filter((function(t){return"*"===t[1]})).length;if(e>0){var n=(1-t.filter((function(t){return"*"!=t[1]&&1!=t[1]})).map((function(t){return t[1]})).reduce((function(t,e){return t+e}),0))/e;t.forEach((function(e,r){"*"==e[1]&&r>0&&(t.length-1==r||(e[1]=n))}))}return t}function Gn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",o=zn(t,e,n);return Ze(o,o.a<1?"rgb":r)}function zn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return{r:K(t.r+(e.r-t.r)*n),g:K(t.g+(e.g-t.g)*n),b:K(t.b+(e.b-t.b)*n),a:K(t.a+(e.a-t.a)*n,100)}}function Xn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(!t)return[];Le(t)&&(t=Ln(t));for(var n=(t=t||[]).length,r=[],o=0;o<n-1;o++)for(var i=0;i<e;i++)r.push(Yn(t[o],t[o+1],i/e));return r}function Yn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",o=Nn(t),i=Nn(e);return Gn(o,i,n,r)}function Wn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex";return Yn(t,e,n,r)}function qn(t){return t=Nn(t),(Math.round(299*t.r)+Math.round(587*t.g)+Math.round(114*t.b))/1e3}function Kn(t){return qn(t)>=128?"black":"white"}function Jn(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=[],r=e-((t=Fn(t)).length-1),o=r,i=1,a=t.length;i<a;i++){var u=t[i-1][0],c=t[i][0],l=1==i?t[i][1]:t[i][1]-t[i-1][1],s=i==t.length-1?o:Math.floor(l*r);n=n.concat(Xn([u,c],s),[c]),o-=s}return n}function Zn(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,u=Nn(t),c=sn(u),l=(i-o)*a/n,s=[],f=1;f<=n;f++)c[e]=Math.abs((a-l*f)/a),s.push(Ze($n(c),r));return s}function Qn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:360;return Zn(t,"h",e,n,r,o,1)}function tr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return Zn(t,"s",e,n,r,o,100)}function er(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return Zn(t,"v",e,n,r,o,100)}function nr(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;++n)if(t[n]!==e[n])return!1;return!0}Xn.parula=function(t){return Xn(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],t)},Xn.jet=function(t){return Xn(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],t)},Xn.hsv=function(t){return Xn(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],t)},Xn.hot=function(t){return Xn(["#0b0000","#ff0000","#ffff00","#ffffff"],t)},Xn.pink=function(t){return Xn(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],t)},Xn.bone=function(t){return Xn(["#000000","#4a4a68","#a6c6c6","#ffffff"],t)},Xn.copper=function(t){return Xn(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],t)};var rr={euclidean:function(t,e){for(var n=0,r=0,o=t.length;r<o;r++)n+=Math.pow(e[r]-t[r],2);return Math.sqrt(n)},manhattan:function(t,e){for(var n=0,r=0,o=t.length;r<o;r++)n+=Math.abs(e[r]-t[r]);return n},max:function(t,e){for(var n=0,r=0,o=t.length;r<o;r++)n=Math.max(n,Math.abs(e[r]-t[r]));return n}},or={linear:function(t,e){var n=[],r=Math.round(Math.random()*t),o=Math.floor(t/e);do{n.push(r),r=(r+o)%t}while(n.length<e);return n},shuffle:function(t,e){for(var n=[];n.length<e;){var r=Math.round(Math.random()*t);-1==n.indexOf(r)&&n.push(r)}return n}};function ir(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear",r=or[n](t.length,e);return r.map((function(e){return t[e]}))}function ar(t,e,n){var r=1/0,o=0;return e.forEach((function(e,i){var a=n(t,e);a<r&&(r=a,o=i)})),o}function ur(t){if(!t.length)return[];for(var e=new Array(t[0].length),n=0,r=e.length;n<r;n++)e[n]=0;var o=0;for(r=t.length;o<r;o++)for(var i=t[o],a=o+1,u=0,c=i.length;u<c;u++)e[u]+=(i[u]-e[u])/a;return e=e.map((function(t){return Math.floor(t)}))}function cr(t,e,n,r){for(var o=new Array(t),i=0;i<t;i++)o[i]=[];for(var a=0,u=e.length;a<u;a++){var c=e[a];o[ar(c,n,r)].push(c)}return o}function lr(t,e,n,r,o,i){for(var a=0;a<t;a++){var u=n[a],c=r[a],l=new Array(c.length);if(u.length>0)l=ur(u);else l=e[Math.floor(i()*e.length)];o=!nr(l,c),r[a]=l}return o}var sr=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"linear";t=t,e=e||Math.max(2,Math.ceil(Math.sqrt(t.length/2)));var i=n||"euclidean";Le(i)&&(i=rr[i]);for(var a=0,u=function(){return(a=(9301*a+49297)%233280)/233280},c=ir(t,e,o),l=!0,s=0;l;){var f=cr(e,t,c,i);if(l=lr(e,t,f,c,!1,u),++s%r==0)break}return c};function fr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pr=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};fr(this,t),this.isLoaded=!1,this.imageUrl=e,this.opt=n,this.initialize()}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.canvas=this.createCanvas(),this.context=this.canvas.getContext("2d")}},{key:"createCanvas",value:function(){return document.createElement("canvas")}},{key:"load",value:function(t){var e=this;this.newImage=new Image;var n=this.newImage;n.crossOrigin="Anonymous",n.onload=function(){e.isLoaded=!0,t&&t()},this.getImageUrl((function(t){n.src=t}))}},{key:"loadImage",value:function(t){var e=this;this.getImage((function(n){var r=e.context,o=n.height/n.width;e.opt.canvasWidth&&e.opt.canvasHeight?(e.canvas.width=e.opt.canvasWidth,e.canvas.height=e.opt.canvasHeight):(e.canvas.width=e.opt.maxWidth?e.opt.maxWidth:n.width,e.canvas.height=e.canvas.width*o),r.drawImage(n,0,0,n.width,n.height,0,0,e.canvas.width,e.canvas.height),e.isLoaded=!0,t&&t()}))}},{key:"getImage",value:function(t){this.newImage=new Image;var e=this.newImage;e.onload=function(){t&&t(e)},e.onerror=function(t){console.log(t,e.src)},this.getImageUrl((function(t){e.src=t}))}},{key:"getImageUrl",value:function(t){if(Le(this.imageUrl))return t(this.imageUrl);if(this.imageUrl instanceof Blob){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.readAsDataURL(this.imageUrl)}}},{key:"getRGBA",value:function(t,e,n,r){return[t,e,n,r]}},{key:"toArray",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),o=r.width,i=r.height,a=new Uint8ClampedArray(r.data),u={pixels:a,width:o,height:i};t||(t=function(t,e){e(t)}),t(u,(function(t){var r=y.drawPixels(t);"canvas"==n.returnTo?e(r):e(r.toDataURL(n.outputFormat||"image/png"))}),n)}},{key:"toHistogram",value:function(t){var e=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),n=e.width,r=e.height,o={pixels:new Uint8ClampedArray(e.data),width:n,height:r};return y.getHistogram(o)}},{key:"toRGB",value:function(){for(var t=this.context.getImageData(0,0,this.canvas.width,this.canvas.height).data,e=[],n=0,r=t.length;n<r;n+=4)e[e.length]=[t[n+0],t[n+1],t[n+2],t[n+3]];return e}}])&&hr(e.prototype,n),r&&hr(e,r),t}();function vr(t){return function(t){if(Array.isArray(t))return dr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return dr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yr(Object(n),!0).forEach((function(e){br(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function br(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";return t.length>e&&(t=sr(t,e)),t.map((function(t){return Ze(t,n)}))}function kr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(n){if(n){var r;(r=new pr(t,e)).loadImage((function(){Ne(n)&&n(r.toRGB())}))}}else(r=new pr(t)).loadImage((function(){Ne(e)&&e(r.toRGB())}))}function wr(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{frameTimer:"full"};Or(t,e,n,gr({returnTo:"canvas"},r))}function Or(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{frameTimer:"full"},o=new pr(t);o.loadImage((function(){o.toArray(e,(function(t){Ne(n)&&n(t)}),r)}))}function xr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new pr(t);r.loadImage((function(){Ne(e)&&e(r.toHistogram(n))}))}function Cr(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=[],r=0;r<t.length;r++){var o=t[r];if(0!=r)if(r!=t.length-1){var i=t[r-1],a=t[r+1],u=(a[1],i[1],a[0],i[0],[i[0]+(a[0]-i[0])*e,i[1]+(a[1]-i[1])*e]),c=[vr(i),[].concat(u)],l=Math.sqrt(Math.pow(o[0]-i[0],2)+Math.pow(o[1]-i[1],2)),s=Math.sqrt(Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)),f=l/s,h=c[0][0]+(c[1][0]-c[0][0])*f,p=c[0][1]+(c[1][1]-c[0][1])*f;c[0][0]+=o[0]-h,c[0][1]+=o[1]-p,c[1][0]+=o[0]-h,c[1][1]+=o[1]-p,n[r]=c}else n[r]=[];else n[r]=[]}return n}function jr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{width:200,height:100},r=new pr(t);r.loadImage((function(){y.createHistogram(n.width||200,n.height||100,r.toHistogram(n),(function(t){Ne(e)&&e(t.toDataURL("image/png"))}),n)}))}function Sr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sr(Object(n),!0).forEach((function(e){_r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rr=Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr(Pr({},i),r),p),h),f),u),c),l),s),a),v),o),Er=[{rgb:"#ff0000",start:0},{rgb:"#ffff00",start:.17},{rgb:"#00ff00",start:.33},{rgb:"#00ffff",start:.5},{rgb:"#0000ff",start:.67},{rgb:"#ff00ff",start:.83},{rgb:"#ff0000",start:1}];function Tr(t){for(var e,n,r=0;r<Er.length;r++)if(Er[r].start>=t){e=Er[r-1],n=Er[r];break}return e&&n?Rr.mix(e.rgb,n.rgb,(t-e.start)/(n.start-e.start)):Er[0].rgb}!function(){for(var t=0,e=Er.length;t<e;t++){var n=Er[t],r=Rr.parse(n.rgb);n.r=r.r,n.g=r.g,n.b=r.b}}();var Ir={colors:Er,getHueScale:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=arguments.length>2?arguments[2]:void 0,r=De(n)?t-e:e,o=De(n)?t+scale:n,i=[],a=0;a<Er.length;a++){var u=Er[a];r<=u.start&&u.start<o?i.push({rgb:u.rgb,start:u.start}):Er[a+1]&&u.start<r&&r<Er[a+1].start?i.push({rgb:Tr(r),start:r}):Er[a-1]&&Er[a-1].start<o&&o<u.start?i.push({rgb:Tr(o),start:o}):u.start<r||u.start>o||i.push({rgb:u.rgb,start:u.start})}return i},checkHueColor:Tr};function Br(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Br(Object(n),!0).forEach((function(e){Mr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ar=Dr(Dr({},z),kt);function Vr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vr(Object(n),!0).forEach((function(e){Ur(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ur(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hr=function(t,e,n,r){n?r&&n!==r||function(t,e,n){"boolean"==typeof n?function(t,e,n){n?(t.setAttribute(e,e),t[e]=n):(t.removeAttribute(e),t[e]=n)}(t,e,n):t.setAttribute(e,n)}(t,e,n):function(t,e,n){"boolean"==typeof n&&function(t,e){t.removeAttribute(e),t[e]=!1}(t,e)}(t,e,r)};function Nr(t){for(var e=t.length,n={},r=0;r<e;r++)n[t[r].name]=t[r].value;return n}function Fr(t,e,n,r){if(e)if(n){if((u=n)!==(c=e)||u.nodeType===Node.TEXT_NODE&&u!==c||u.nodeName!==c.nodeName)t.replaceChild(n.cloneNode(!0),e);else if(n.nodeType!=Node.TEXT_NODE){!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Lr(Lr({},e),n);Object.keys(r).forEach((function(r){Hr(t,r,e[r],n[r])}))}(e,Nr(e.attributes),Nr(e.attributes));var o=Gr(e),i=chlidren(n),a=Math.max(o.length,i.length);for(r=0;r<a;r++)Fr(e,o[r],i[r],r)}}else t.removeChild(e);else t.appendChild(n.cloneNode(!0));var u,c}var Gr=function(t){var e=t.firstElementChild;if(!e)return[];var n=[];do{n.push(e),e=e.nextElementSibling}while(e);return n};function zr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Yr={center:50,top:0,left:0,right:100,bottom:100},Wr=function t(){Xr(this,t)};Wr.CENTER="center",Wr.TOP="top",Wr.RIGHT="right",Wr.LEFT="left",Wr.BOTTOM="bottom";var qr=/([\d.]+)(px|pt|fr|r?em|deg|vh|vw|%)/gi,Kr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Xr(this,t),""!==n&&(e=+e),this.value=e,this.unit=n}var e,n,r;return e=t,n=[{key:Symbol.toPrimitive,value:function(t){return"number"==t?this.value:this.toString()}},{key:"toString",value:function(){return this.isCalc()?"calc(".concat(this.value,")"):this.value+this.unit}},{key:"isCalc",value:function(){return"calc"==this.unit}},{key:"isFr",value:function(){return"fr"==this.unit}},{key:"isPercent",value:function(){return"%"==this.unit}},{key:"isPx",value:function(){return"px"==this.unit}},{key:"isEm",value:function(){return"em"==this.unit}},{key:"isDeg",value:function(){return"deg"==this.unit}},{key:"isString",value:function(){return""===this.unit}},{key:"set",value:function(t){return this.value=t,this}},{key:"add",value:function(t){return this.value+=+t,this}},{key:"sub",value:function(t){return this.add(-1*t)}},{key:"mul",value:function(t){return this.value*=+t,this}},{key:"div",value:function(t){return this.value/=+t,this}},{key:"mod",value:function(t){return this.value%=+t,this}},{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"getUnitName",value:function(){return"%"===this.unit?"percent":this.unit}},{key:"toJSON",value:function(){return{value:this.value,unit:this.unit}}},{key:"rate",value:function(t){return t/this.value}},{key:"stringToPercent",value:function(){return Me(Yr[this.value])?t.percent(Yr[this.value]):t.percent(0)}},{key:"stringToEm",value:function(t){return this.stringToPercent().toEm(t)}},{key:"stringToPx",value:function(t){return this.stringToPercent().toPx(t)}},{key:"toPercent",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?t.percent(this.value):this.isPx()?t.percent(100*this.value/e):this.isEm()?t.percent(this.value*n*100/e):this.isString()?this.stringToPercent(e):void 0}},{key:"toEm",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?t.em(this.value/100*e/n):this.isPx()?t.em(this.value/n):this.isEm()?this.clone():this.isString()?this.stringToEm(e):void 0}},{key:"floor",value:function(){return new t(Math.floor(this.value),this.unit)}},{key:"toPx",value:function(e){return this.isPercent()?t.px(this.value/100*e):this.isPx()?t.px(this.value):this.isEm()?t.px(this.value/100*e/16):this.isString()?this.stringToPx(e):void 0}},{key:"to",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return"px"===t?this.toPx(e,n):"%"===t||"percent"===t?this.toPercent(e,n):"em"===t?this.toEm(e,n):void 0}},{key:"calculate",value:function(t,e){var n=this[t];return n?n.call(this,e):this}}],r=[{key:"min",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.shift(),o=0,i=e.length;o<i;o++)r.value>e[o].value&&(r=e[o]);return r}},{key:"max",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.shift(),o=0,i=e.length;o<i;o++)r.value<e[o].value&&(r=e[o]);return r}},{key:"string",value:function(e){return new t(e+"","")}},{key:"px",value:function(e){return new t(+e,"px")}},{key:"em",value:function(e){return new t(+e,"em")}},{key:"percent",value:function(e){return new t(+e,"%")}},{key:"deg",value:function(e){return new t(+e,"deg")}},{key:"fr",value:function(e){return new t(+e,"fr")}},{key:"calc",value:function(e){return new t(e,"calc")}},{key:"parse",value:function(e){if(Le(e)){if(e.indexOf("calc(")>-1)return new t(e.split("calc(")[1].split(")")[0],"calc");var n=e.replace(qr,"$1 $2").split(" ");return+n[0]==n[0]?new t(+n[0],n[1]):new t(n[0])}if(e instanceof t)return e;if(e.unit){if("%"==e.unit||"percent"==e.unit){var r=0;return Me(e.percent)?r=e.percent:Me(e.value)&&(r=e.value),t.percent(r)}if("px"==e.unit)return r=0,Me(e.px)?r=e.px:Me(e.value)&&(r=e.value),t.px(r);if("em"==e.unit)return r=0,Me(e.em)?r=e.em:Me(e.value)&&(r=e.value),t.em(r);if("deg"==e.unit)return r=0,Me(e.deg)?r=e.deg:Me(e.value)&&(r=e.value),t.deg(r);if(""===e.unit||"string"===e.unit)return r="",Me(e.str)?r=e.str:Me(e.value)&&(r=e.value),t.string(r)}return t.string(e.value||e)}}],n&&zr(e.prototype,n),r&&zr(e,r),t}();function Jr(t){return function(t){if(Array.isArray(t))return Zr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Zr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Kr.auto=Kr.string("auto");var to=0,eo=[],no=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ue(e))this.el=e;else{var o=document.createElement(e);for(var i in this.uniqId=to++,n&&(o.className=n),r=r||{})o.setAttribute(i,r[i]);this.el=o}}var e,n,r;return e=t,r=[{key:"getScrollTop",value:function(){return Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}},{key:"getScrollLeft",value:function(){return Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft)}},{key:"parse",value:function(t){return DOMParser().parseFromString(t,"text/htmll")}}],(n=[{key:"attr",value:function(t,e){return 1==arguments.length?this.el.getAttribute(t):(this.el.setAttribute(t,e),this)}},{key:"attrs",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map((function(e){return t.el.getAttribute(e)}))}},{key:"removeAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"removeStyle",value:function(t){return this.el.style.removeProperty(t),this}},{key:"is",value:function(t){return this.el===(t.el||t)}},{key:"closest",value:function(e){for(var n=this,r=!1;!(r=n.hasClass(e));){if(!n.el.parentNode)return null;n=new t(n.el.parentNode)}return r?n:null}},{key:"parent",value:function(){return new t(this.el.parentNode)}},{key:"removeClass",value:function(){var t;return(t=this.el.classList).remove.apply(t,arguments),this}},{key:"hasClass",value:function(t){return!!this.el.classList&&this.el.classList.contains(t)}},{key:"addClass",value:function(){var t;return(t=this.el.classList).add.apply(t,arguments),this}},{key:"onlyOneClass",value:function(t){var e=this.parent().$(".".concat(t));e&&e.removeClass(t),this.addClass(t)}},{key:"toggleClass",value:function(t,e){this.el.classList.toggle(t,e)}},{key:"html",value:function(t){return De(t)?this.el.innerHTML:(Le(t)?this.el.innerHTML=t:this.empty().append(t),this)}},{key:"htmlDiff",value:function(t){this.fragment?function(t,e){for(var n=Gr(t),r=Gr(e),o=Math.max(n.length,r.length),i=0;i<o;i++)Fr(t,n[i],r[i],i)}(this.el,t):(this.empty().append(t),this.fragment=!0)}},{key:"find",value:function(t){return this.el.querySelector(t)}},{key:"$",value:function(e){var n=this.find(e);return n?new t(n):null}},{key:"findAll",value:function(t){return this.el.querySelectorAll(t)}},{key:"$$",value:function(e){return Jr(this.findAll(e)).map((function(e){return new t(e)}))}},{key:"empty",value:function(){return this.html(fe)}},{key:"append",value:function(t){return Le(t)?this.el.appendChild(document.createTextNode(t)):this.el.appendChild(t.el||t),this}},{key:"appendHTML",value:function(e){var n=new t("div").html(e);this.append(n.createChildrenFragment())}},{key:"createChildrenFragment",value:function(){var t=this.children(),e=document.createDocumentFragment();return t.forEach((function(t){return e.appendChild(t.el)})),e}},{key:"appendTo",value:function(t){return(t.el?t.el:t).appendChild(this.el),this}},{key:"remove",value:function(){return this.el.parentNode&&this.el.parentNode.removeChild(this.el),this}},{key:"text",value:function(e){if(De(e))return this.el.textContent;var n=e;return e instanceof t&&(n=e.text()),this.el.textContent=n,this}},{key:"css",value:function(t,e){if(Me(t)&&Me(e))this.el.style[t]=e;else if(Me(t)){if(Le(t))return getComputedStyle(this.el)[t];for(var n=Object.keys(t||{}),r=0,o=n.length;r<o;r++){var i=n[r];this.el.style[i]=t[i]}}return this}},{key:"cssText",value:function(t){return De(t)?this.el.style.cssText:(t!=this.el.style.cssText&&(this.el.style.cssText=t),this)}},{key:"cssArray",value:function(t){return t[0]&&(this.el.style[t[0]]=t[1]),t[2]&&(this.el.style[t[2]]=t[3]),t[4]&&(this.el.style[t[4]]=t[5]),t[6]&&(this.el.style[t[6]]=t[7]),t[8]&&(this.el.style[t[8]]=t[9]),this}},{key:"cssFloat",value:function(t){return parseFloat(this.css(t))}},{key:"cssInt",value:function(t){return parseInt(this.css(t))}},{key:"px",value:function(t,e){return this.css(t,Kr.px(e))}},{key:"rect",value:function(){return this.el.getBoundingClientRect()}},{key:"offsetRect",value:function(){return{top:this.el.offsetTop,left:this.el.offsetLeft,width:this.el.offsetWidth,height:this.el.offsetHeight}}},{key:"offset",value:function(){var e=this.rect(),n=t.getScrollTop(),r=t.getScrollLeft();return{top:e.top+n,left:e.left+r}}},{key:"offsetLeft",value:function(){return this.offset().left}},{key:"offsetTop",value:function(){return this.offset().top}},{key:"position",value:function(){return this.el.style.top?{top:parseFloat(this.css("top")),left:parseFloat(this.css("left"))}:this.rect()}},{key:"size",value:function(){return[this.width(),this.height()]}},{key:"width",value:function(){return this.el.offsetWidth||this.rect().width}},{key:"contentWidth",value:function(){return this.width()-this.cssFloat("padding-left")-this.cssFloat("padding-right")}},{key:"height",value:function(){return this.el.offsetHeight||this.rect().height}},{key:"contentHeight",value:function(){return this.height()-this.cssFloat("padding-top")-this.cssFloat("padding-bottom")}},{key:"dataKey",value:function(t){return this.uniqId+"."+t}},{key:"data",value:function(t,e){if(2!=arguments.length){if(1==arguments.length)return eo[this.dataKey(t)];var n=Object.keys(eo),r=this.uniqId+".";return n.filter((function(t){return 0==t.indexOf(r)})).map((function(t){return eo[t]}))}return eo[this.dataKey(t)]=e,this}},{key:"val",value:function(e){if(De(e))return this.el.value;if(Me(e)){var n=e;e instanceof t&&(n=e.val()),this.el.value=n}return this}},{key:"value",get:function(){return this.el.value}},{key:"files",get:function(){return this.el.files?Jr(this.el.files):[]}},{key:"realVal",value:function(){switch(this.el.nodeType){case"INPUT":var t=this.attr("type");if("checkbox"==t||"radio"==t)return this.checked();case"SELECT":case"TEXTAREA":return this.el.value}return""}},{key:"int",value:function(){return parseInt(this.val(),10)}},{key:"float",value:function(){return parseFloat(this.val())}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block";return this.css("display","none"!=t?t:"block")}},{key:"hide",value:function(){return this.css("display","none")}},{key:"toggle",value:function(t){var e="none"==this.css("display");return 1==arguments.length?e&&t?this.show():this.hide():e?this.show():this.hide()}},{key:"setScrollTop",value:function(t){return this.el.scrollTop=t,this}},{key:"setScrollLeft",value:function(t){return this.el.scrollLeft=t,this}},{key:"scrollTop",value:function(){return this.el===document.body?t.getScrollTop():this.el.scrollTop}},{key:"scrollLeft",value:function(){return this.el===document.body?t.getScrollLeft():this.el.scrollLeft}},{key:"scrollHeight",value:function(){return this.el.scrollHeight}},{key:"on",value:function(t,e,n,r){return this.el.addEventListener(t,e,n,r),this}},{key:"off",value:function(t,e){return this.el.removeEventListener(t,e),this}},{key:"getElement",value:function(){return this.el}},{key:"createChild",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new t(e,n,r);return i.css(o),this.append(i),i}},{key:"firstChild",value:function(){return new t(this.el.firstElementChild)}},{key:"children",value:function(){var e=this.el.firstElementChild;if(!e)return[];var n=[];do{n.push(new t(e)),e=e.nextElementSibling}while(e);return n}},{key:"childLength",value:function(){return this.el.children.length}},{key:"replace",value:function(t){return this.el.parentNode.replaceChild(t.el||t,this.el),this}},{key:"checked",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return 0==arguments.length?!!this.el.checked:(this.el.checked=!!t,this)}},{key:"click",value:function(){this.el.click()}},{key:"focus",value:function(){return this.el.focus(),this}},{key:"select",value:function(){return this.el.select(),this}},{key:"blur",value:function(){return this.el.blur(),this}},{key:"context",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2d";return this._initContext||(this._initContext=this.el.getContext(t)),this._initContext}},{key:"resize",value:function(t){var e=t.width,n=t.height;this._initContext=null;var r=this.context(),o=window.devicePixelRatio||1;this.px("width",e),this.px("height",n),this.el.width=e*o,this.el.height=n*o,r.scale(o,o)}},{key:"clear",value:function(){this.context().clearRect(0,0,this.el.width,this.el.height)}},{key:"update",value:function(t){this.clear(),t.call(this)}},{key:"drawOption",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.context();Object.assign(e,t)}},{key:"drawLine",value:function(t,e,n,r){var o=this.context();o.beginPath(),o.moveTo(t,e),o.lineTo(n,r),o.stroke(),o.closePath()}},{key:"drawPath",value:function(){var t=this.context();t.beginPath();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(e,n){0==n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])})),t.stroke(),t.fill(),t.closePath()}},{key:"drawCircle",value:function(t,e,n){var r=this.context();r.beginPath(),r.arc(t,e,n,0,2*Math.PI),r.stroke(),r.fill()}},{key:"drawText",value:function(t,e,n){this.context().fillText(n,t,e)}}])&&Qr(e.prototype,n),r&&Qr(e,r),t}();function ro(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function io(t,e,n){return e&&oo(t.prototype,e),n&&oo(t,n),t}var ao=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ho;ro(this,t),this.value=e,this.split=n}return io(t,[{key:"toString",value:function(){return" ".concat(this.split," ")+this.value}}]),t}(),uo=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ho;ro(this,t),this.value=e,this.split=n}return io(t,[{key:"toString",value:function(){return" ".concat(this.split," after(").concat(this.value,")")}}]),t}(),co=/^load (.*)/gi,lo=/^bind (.*)/gi,so=["click|dblclick","mouse(down|up|move|over|out|enter|leave)","pointer(start|move|end)","touch(start|move|end)","key(down|up|press)","drag|drop|drag(start|over|enter|leave|exit|end)","contextmenu","change|input|focus|blur|focus(in|out)","paste","resize|scroll|wheel|mousewheel|DOMMouseScroll","submit"].join("|"),fo=new RegExp("^(".concat(so,")"),"ig"),ho="|",po=he,vo={},yo=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.join(":");return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return[r].concat(e).join(po)}},go=yo,bo=yo("click"),mo=yo("dblclick"),ko=(yo("mousedown"),yo("mouseup")),wo=(yo("mousemove"),yo("mouseover"),yo("mouseout"),yo("mouseenter"),yo("mouseleave"),yo("touchstart"),yo("touchmove"),yo("touchend"),yo("keydown")),Oo=yo("keyup"),$o=(yo("keypress"),yo("drag"),yo("dragstart")),xo=yo("drop"),Co=yo("dragover"),jo=(yo("dragenter"),yo("dragleave"),yo("dragexit"),yo("dragout"),yo("dragend"),yo("contextmenu")),So=yo("change"),Po=yo("input"),_o=yo("focus"),Ro=(yo("focusin"),yo("focusout"),yo("blur")),Eo=(yo("paste"),yo("resize")),To=(yo("scroll"),yo("submit")),Io=go("mousedown","touchstart"),Bo=go("mousemove","touchmove"),Do=go("mouseup","touchend"),Mo=(go("change","input"),go("wheel","mousewheel","DOMMouseScroll"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ho;return new ao(t,e)}),Ao=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ho;return new uo(t,e)},Vo=Mo("ArrowUp"),Lo=Mo("ArrowDown"),Uo=(Mo("ArrowLeft"),Mo("ArrowRight"),Mo("Enter"),Mo("Space"),Mo("isAltKey"),Mo("isShiftKey"),Mo("isMetaKey"),Mo("isCtrlKey"),Mo("self")),Ho=(Mo("fit"),Mo("passive"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Mo("debounce(".concat(t,")"))}),No=(Mo("capture()"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"move";return Ao("bodyMouseMove ".concat(t))}),Fo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"end";return Ao("bodyMouseUp ".concat(t))},Go=Ao("preventDefault"),zo=Ao("stopPropagation"),Xo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$el";return"load "+t},Yo=function(t){if(t===fe)return fe;var e=ot();return vo[e]=t,e},Wo=function(t){return vo[t]||fe},qo=function(t){return function(){return this.prevState[t]!=this.state[t]}},Ko=function(){return!0},Jo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$el",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe;return"bind "+t+ho+Yo(e)},Zo={addEvent:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t&&t.addEventListener(e,n,r)},removeEvent:function(t,e,n){t&&t.removeEventListener(e,n)},pos:function(t){return t.touches&&t.touches[0]?t.touches[0]:t},posXY:function(t){var e=this.pos(t);return{x:e.pageX,y:e.pageY}}};function Qo(t){return"*/"+t}function ti(t){return"/"+t}function ei(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ni=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cachedCallback={},this.callbacks=[],this.actions=[],this.getters=[],this.modules=e.modules||[],this.standalone={getters:{},actions:{},dispatches:{}},this.initialize()}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.initializeModule()}},{key:"initializeModule",value:function(){var t=this;this.modules.forEach((function(e){t.addModule(e)}))}},{key:"makeActionCallback",value:function(t,e,n){var r=this,o=function(n,o,i,a,u){return t[e].call(t,r,n,o,i,a,u)};return o.context=t,o.displayName=n,o}},{key:"action",value:function(t,e){var n=this,r=t.substr(t.indexOf("/")+"/".length);this.actions[r]=this.makeActionCallback(e,t,r),this.standalone.actions[r]=function(t,e,o,i,a){return n.run(r,t,e,o,i,a)},this.standalone.dispatches[r]=function(t,e,o,i,a){return n.dispatch(r,t,e,o,i,a)}}},{key:"getter",value:function(t,e){var n=this,r=t.substr(t.indexOf("*/")+"*/".length);this.getters[r]=this.makeActionCallback(e,t,r),this.standalone.getters[r]=function(t,e,o,i,a){return n.read(r,t,e,o,i,a)}}},{key:"mapGetters",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map((function(e){return t.standalone.getters[e]}))}},{key:"mapActions",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map((function(e){return t.standalone.actions[e]}))}},{key:"mapDispatches",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map((function(e){return t.standalone.dispatches[e]}))}},{key:"dispatch",value:function(t,e,n,r,o,i){var a=this.actions[t];if(!a)throw new Error("action : "+t+" is not a valid.");"PREVENT"!=a(e,n,r,o,i)&&a.context.afterDispatch()}},{key:"run",value:function(t,e,n,r,o,i){var a=this.actions[t];if(a)return a(e,n,r,o,i);throw new Error("action : "+t+" is not a valid.")}},{key:"read",value:function(t,e,n,r,o,i){var a=this.getters[t];if(a)return a(e,n,r,o,i);throw new Error("getter : "+t+" is not a valid.")}},{key:"addModule",value:function(t){return new t(this)}},{key:"on",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=r>0?Re(e,r):e;this.callbacks.push({event:t,callback:o,context:n,originalCallback:e})}},{key:"off",value:function(t,e){0==arguments.length?(this.callbacks=[],this.cachedCallback={}):1==arguments.length?(this.callbacks=this.callbacks.filter((function(e){return e.event!=t})),this.cachedCallback={}):2==arguments.length&&(this.callbacks=this.callbacks.filter((function(n){return!(n.event==t&&n.originalCallback==e)})),this.cachedCallback={})}},{key:"sendMessage",value:function(t,e,n,r,o,i){var a=this;setTimeout((function(){a.cachedCallback[e].filter((function(e){return e.originalCallback.source!==t})).forEach((function(t){return t.callback(n,r,o,i)}))}),0)}},{key:"triggerMessage",value:function(t,e,n,r,o,i){var a=this;setTimeout((function(){a.cachedCallback[e].filter((function(e){return e.originalCallback.source===t})).forEach((function(t){return t.callback(n,r,o,i)}))}),0)}},{key:"makeCachedCallback",value:function(t){this.cachedCallback[t]||(this.cachedCallback[t]=this.callbacks.filter((function(e){return e.event===t})))}},{key:"emit",value:function(t,e,n,r,o){var i=t;this.makeCachedCallback(i),this.sendMessage(this.source,t,e,n,r,o)}},{key:"trigger",value:function(t,e,n,r,o){var i=t;this.makeCachedCallback(i),this.triggerMessage(this.source,t,e,n,r,o)}}])&&ei(e.prototype,n),r&&ei(e,r),t}();var ri;function oi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ii(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oi(Object(n),!0).forEach((function(e){ai(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ai(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ui(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ci(t){return di(t)||si(t)||pi(t)||hi()}function li(t){return function(t){if(Array.isArray(t))return vi(t)}(t)||si(t)||pi(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function fi(t,e){return di(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||pi(t,e)||hi()}function hi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pi(t,e){if(t){if("string"==typeof t)return vi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vi(t,e):void 0}}function vi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function di(t){if(Array.isArray(t))return t}var yi="ref",gi=new no("div"),bi="[".concat(yi,"]"),mi=function(t,e,n){return function(r){var o=wi(t,r,e,n);if(Me(o))return o}},ki=function(t,e,n){return function(r){var o=function(t,e){return function t(e,n){return e?e.matches(n)?e:t(e.parentElement,n):null}(t.target||t.srcElement,e.delegate)}(r,e);if(o){r.$delegateTarget=new no(o);var i=wi(t,r,e,n);if(Me(i))return i}}},wi=function(t,e,n,r){if(e.xy=Zo.posXY(e),n.beforeMethods.length&&n.beforeMethods.every((function(n){return t[n.target].call(t,e,n.param)})),Oi(t,e,n)){var o=r(e,e.$delegateTarget,e.xy);return n.afterMethods.length&&n.afterMethods.forEach((function(n){return t[n.target].call(t,e,n.param)})),o}},Oi=function(t,e,n){var r=!0;n.codes.length&&(r=!!e.code&&n.codes.includes(e.code.toLowerCase())||!!e.key&&n.codes.includes(e.key.toLowerCase()));var o=!0;return n.checkMethodList.length&&(o=n.checkMethodList.every((function(n){var r=t[n];return Ne(r)&&r?r.call(t,e):!Me(r)||!!r}))),r&&o},$i=function(t,e){var n=t.filter((function(t){return t.indexOf("".concat(e,"("))>-1})),r=n.map((function(t){var n=fi(t.split("".concat(e,"("))[1].split(")")[0].trim().split(" "),2);return{target:n[0],param:n[1]}}));return[n,r]},xi=function(t,e,n){e.callback=function(t,e,n){return e.delegate?ki(t,e,n):mi(t,e,n)}(t,e,n),t.addBinding(e),Zo.addEvent(e.dom,e.eventName,e.callback,!!e.captures.length)},Ci=function(t,e,n,r){var o=ci(e),i=o[0],a=o[1],u=o.slice(2),c=function(t,e,n){var r=n,o=r.filter((function(e){return!!t[e]})),i=fi($i(r,"after"),2),a=i[0],u=i[1],c=fi($i(r,"before"),2),l=c[0],s=c[1],f=fi($i(r,"debounce"),2),h=f[0],p=f[1],v=fi($i(r,"capture"),1)[0],d=[].concat(li(o),li(a),li(l),li(h),li(v));return{eventName:e,codes:r.filter((function(t){return!d.includes(t)})).map((function(t){return t.toLowerCase()})),captures:v,afterMethods:u,beforeMethods:s,debounceMethods:p,checkMethodList:o}}(t,i,n);(c.dom=function(t,e){var n;return(n=e?t.refs[e]||t[e]||window[e]:t.el||t.$el||t.$root)instanceof no?n.getElement():n}(t,a),c.delegate=u.join(po),c.debounceMethods.length)&&(r=Re(r,+c.debounceMethods[0].target));xi(t,c,r)},ji=function(t,e){var n=e.split(ho).map((function(t){return t.trim()})),r=ci(n.shift().split(po)),o=r[0],i=r.slice(1),a=function(t){var e=[];return t.split(":").forEach((function(t){var n=t.split(":");e.push.apply(e,li(n))})),e}(o),u=t[e].bind(t);a.forEach((function(e){Ci(t,[e].concat(li(i)),n,u)}))},Si=function(t,e,n){"style"!==e?"class"!==e?De(n)?t.removeAttr(e):t.attr(e,n):Ae(n)?t.addClass.apply(t,li(n)):He(n)?Ee(n,(function(e,r){n?t.addClass(e):t.removeClass(e)})):"cssText"===e?t.cssText(n):t.addClass(n):He(n)&&Ee(n,(function(e,n){n?t.css(e,n):t.removeStyle(e)}))};function Pi(t){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ri(t,e){return(Ri=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ei(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ii(t);if(e){var o=Ii(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ti(this,n)}}function Ti(t,e){return!e||"object"!==Pi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ii(t){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bi=/^ME@/,Di=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.join("|")},Mi=function(){return"ME@"+Di.apply(void 0,arguments)},Ai=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ri(t,e)}(i,t);var e,n,r,o=Ei(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t)).opt=t||{},n.parent=n.opt,n.props=e||{},n.source=ot(),n.sourceName=n.constructor.name,t&&t.$store&&(n.$store=t.$store),n.created(),n.initialize(),n.initializeStoreEvent(),n}return e=i,(n=[{key:"created",value:function(){}},{key:"getRealEventName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@",n=t.indexOf(e);return t.substr(0==n?0:n+e.length)}},{key:"initializeStoreEvent",value:function(){var t=this;this.storeEvents={},this.filterProps(Bi).forEach((function(e){t.getRealEventName(e,"ME@").split("|").forEach((function(n){n=t.getRealEventName(n);var r=t[e].bind(t);r.displayName=n,r.source=t.source,t.storeEvents[n]=r,t.$store.on(n,t.storeEvents[n],t)}))}))}},{key:"destoryStoreEvent",value:function(){var t=this;Ee(this.storeEvents,(function(e,n){t.$store.off(e,n)}))}},{key:"get",value:function(t){return this.$store.items[t]||{}}},{key:"read",value:function(t,e,n,r,o){return this.$store.read(t,e,n,r,o)}},{key:"mapGetters",value:function(){var t;return(t=this.$store).mapGetters.apply(t,arguments)}},{key:"mapActions",value:function(){var t;return(t=this.$store).mapActions.apply(t,arguments)}},{key:"mapDispatches",value:function(){var t;return(t=this.$store).mapDispatches.apply(t,arguments)}},{key:"i18n",value:function(t,e,n,r,o){return this.read("i18n/get",t,e,n,r,o)}},{key:"config",value:function(t,e,n,r,o){if(1==arguments.length)return this.$store.tool[t];this.dispatch("tool/set",t,e,n,r,o)}},{key:"initConfig",value:function(t,e){this.$store.tool[t]=e}},{key:"run",value:function(t,e,n,r,o){return this.$store.run(t,e,n,r,o)}},{key:"dispatch",value:function(t,e,n,r,o){return this.$store.source=this.source,this.$store.dispatch(t,e,n,r,o)}},{key:"emit",value:function(t,e,n,r,o){this.$store.source=this.source,this.$store.emit(t,e,n,r,o)}},{key:"trigger",value:function(t,e,n,r,o){this.$store.source=this.source,this.$store.trigger(t,e,n,r,o)}}])&&_i(e.prototype,n),r&&_i(e,r),i}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state={},this.prevState={},this.refs={},this.children={},this._bindings=[],this.childComponents=this.components()}var e,n,r;return e=t,(n=[{key:"initState",value:function(){return{}}},{key:"setState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.prevState=this.state,this.state=ii(ii({},this.state),t),e&&this.load()}},{key:"render",value:function(t){var e,n;this.$el=this.parseTemplate(Je(ri||(e=["\n        ","\n      "],n||(n=e.slice(0)),ri=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))),this.template())),this.refs.$el=this.$el,t&&t.html(this.$el),this.parseComponent(),this.afterRender()}},{key:"initialize",value:function(){this.state=this.initState()}},{key:"afterRender",value:function(){}},{key:"components",value:function(){return{}}},{key:"getRef",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.refs[e.join(fe)]}},{key:"parseTemplate",value:function(t,e){var n=this;Ae(t)&&(t=t.join(fe)),t=t.trim();var r=gi.html(t).children();return r.forEach((function(t){t.attr(yi)&&(n.refs[t.attr(yi)]=t),t.$$(bi).forEach((function(t){var e=t.attr(yi);n.refs[e]=t}))})),e?gi.createChildrenFragment():r[0]}},{key:"parseComponent",value:function(){var t=this,e=this.$el;Ee(this.childComponents,(function(n,r){e.$$("".concat(n.toLowerCase())).forEach((function(e){var o={};li(e.el.attributes).filter((function(t){return[yi].indexOf(t.nodeName)<0})).forEach((function(t){o[t.nodeName]=t.nodeValue}));var i=e.attr(yi)||n;if(i&&r){var a=new r(t,o);t.children[i]&&(i=a.id),t.children[i]=a,t.refs[i]=a.$el,a&&(a.render(),e.replace(a.$el))}}))}))}},{key:"load",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._loadMethods||(this._loadMethods=this.filterProps(co),this._bindMethods=this.filterProps(lo)),this._loadMethods.forEach((function(e){var r=e.split("load ")[1];if(t.refs[r]){t[e].t;var o,i=(o=t[e]).call.apply(o,[t].concat(n));Ae(i)&&(i=i.join(fe));var a=t.parseTemplate(i,!0);t.refs[r].html(a)}})),this._bindMethods.forEach((function(e){var r=t[e],o=fi(e.split(ho),2),i=(e=o[0],o[1]),a=Wo(i),u=Ko;a!=fe&&Le(a)?u=qo(a):Ne(a)&&(u=a);var c=e.split("bind ")[1],l=t.refs[c],s=Ne(u)&&u.call(t);if(l&&s){var f=r.call.apply(r,[t].concat(n));if(!f)return;Ee(f,(function(t,e){Si(l,t,e)}))}})),this.parseComponent()}},{key:"template",value:function(){var t=this.templateClass(),e=t?'class="'.concat(t,'"'):fe;return"<div ".concat(e,"></div>")}},{key:"templateClass",value:function(){return null}},{key:"eachChildren",value:function(t){Ne(t)&&Ee(this.children,(function(e,n){t(n)}))}},{key:"initializeEvent",value:function(){this.initializeEventMachin(),this.eachChildren((function(t){t.initializeEvent()}))}},{key:"destroy",value:function(){this.destroyEventMachin(),this.eachChildren((function(t){t.destroy()}))}},{key:"destroyEventMachin",value:function(){this.removeEventAll()}},{key:"initializeEventMachin",value:function(){var t=this;this.filterProps(fo).forEach((function(e){return ji(t,e)}))}},{key:"collectProps",value:function(){var t=this;if(!this.collapsedProps){var e=this.__proto__,n=[];do{if(!1==e instanceof Object)break;var r=Object.getOwnPropertyNames(e).filter((function(e){return Ne(t[e])}));n.push.apply(n,li(r)),e=e.__proto__}while(e);this.collapsedProps=n}return this.collapsedProps}},{key:"filterProps",value:function(t){return this.collectProps().filter((function(e){return e.match(t)}))}},{key:"self",value:function(t){return t&&t.$delegateTarget&&t.$delegateTarget.is(t.target)}},{key:"isAltKey",value:function(t){return t.altKey}},{key:"isCtrlKey",value:function(t){return t.ctrlKey}},{key:"isShiftKey",value:function(t){return t.shiftKey}},{key:"isMetaKey",value:function(t){return t.metaKey}},{key:"preventDefault",value:function(t){return t.preventDefault(),!0}},{key:"stopPropagation",value:function(t){return t.stopPropagation(),!0}},{key:"bodyMouseMove",value:function(t,e){this[e]&&this.emit("add/body/mousemove",this[e],this,t.xy)}},{key:"bodyMouseUp",value:function(t,e){this[e]&&this.emit("add/body/mouseup",this[e],this,t.xy)}},{key:"getBindings",value:function(){return this._bindings||this.initBindings(),this._bindings}},{key:"addBinding",value:function(t){this.getBindings().push(t)}},{key:"initBindings",value:function(){this._bindings=[]}},{key:"removeEventAll",value:function(){var t=this;this.getBindings().forEach((function(e){t.removeEvent(e)})),this.initBindings()}},{key:"removeEvent",value:function(t){var e=t.eventName,n=t.dom,r=t.callback;Zo.removeEvent(n,e,r)}}])&&ui(e.prototype,n),r&&ui(e,r),t}());function Vi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Li=new Map,Ui=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.initialize()}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.set("canvas.width",1e4),this.set("canvas.height",1e4),this.set("body.move.ms",15),this.set("grid.preview.position",[])}},{key:"get",value:function(t){return Li[t]}},{key:"set",value:function(t,e){Li[t]=e}},{key:"remove",value:function(t){delete Li[t]}}])&&Vi(e.prototype,n),r&&Vi(e,r),t}();function Hi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hi(Object(n),!0).forEach((function(e){Fi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Xi=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Gi(this,t),n instanceof t&&(n=n.toJSON()),this.json=this.convert(Ni(Ni({},this.getDefaultObject()),n)),this.ref=new Proxy(this,{get:function(t,e){var n=t[e];return Ne(n)?function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.apply(t,r)}:n||t.json[e]},set:function(t,n,r){if(r&&r.realVal&&Ne(r.realVal)&&(r=r.realVal()),!e.checkField(n,r))throw new Error("".concat(r," is invalid as ").concat(n," property value."));return t.json[n]=r,!0}}),this.ref}var e,n,r;return e=t,(n=[{key:"getDefaultTitle",value:function(){return"Item"}},{key:"isAttribute",value:function(){return!1}},{key:"attrs",value:function(){for(var t=this,e={},n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.filter((function(e){return Me(t.json[e])})).forEach((function(n){e[n]=Ge(t.json[n])})),e}},{key:"title",get:function(){return"".concat(this.json.name||this.getDefaultTitle())}},{key:"id",get:function(){return this.json.id}},{key:"parentId",get:function(){return this.json.parentId}},{key:"children",get:function(){var t=fa.children(this.id);return t.sort((function(t,e){return t.index===e.index?0:t.index>e.index?1:-1})),t}},{key:"select",value:function(){fa.selection.select(this.id)}},{key:"initRect",value:function(){fa.selection.initRect()}},{key:"convert",value:function(t){return t}},{key:"checkField",value:function(t,e){return!0}},{key:"search",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fa.search(Ni({parentId:this.id},t))}},{key:"one",value:function(t){return this.search(t)[0]}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=JSON.parse(JSON.stringify(this.json));t&&delete e.id;var n=this.constructor;return new n(e)}},{key:"addItem",value:function(t,e,n){if(e.itemType!=t)throw new Error("Only ".concat(t," is able to add in ").concat(this.json.type));var r=fa.add(this.id,e);return De(n)?this.sort():this.sort(n),r}},{key:"add",value:function(t){return this.addItem(t.itemType,t,t.itemType)}},{key:"reset",value:function(e){e instanceof t&&(e=e.toJSON()),this.json=this.convert(Ni(Ni({},this.json),e))}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ni({id:it(),visible:!0,lock:!1},t)}},{key:"toggle",value:function(t,e){De(e)?this.json[t]=!this.json[t]:this.json[t]=!!e}},{key:"toJSON",value:function(){return this.json}},{key:"is",value:function(t){return this.json.itemType==t}},{key:"remove",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];fa.remove(this.id,t)}},{key:"clear",value:function(t){Me(t)?this.search({itemType:t}).forEach((function(t){return t.remove()})):fa.removeChildren(this.id,this)}},{key:"parent",value:function(){return fa.get(this.parentId)}},{key:"sort",value:function(t){var e=this.children;t&&(e=e.filter((function(e){return e.itemType===t}))),e.sort((function(t,e){return t.index===e.index?0:t.index>e.index?1:-1})),e.forEach((function(t,e){t.index=100*e}))}},{key:"copy",value:function(){return fa.copy(this.id)}},{key:"insertLast",value:function(t){var e=this.parent(),n=t.parent();t.parentId=this.json.parentId,t.index=this.json.index+1,e.sort(),n.sort()}},{key:"path",value:function(t){var e=[],n=Me(t)?t:this.parentId;t||(e=[fa.get(this.json.id)]);do{var r=fa.get(n);r&&e.push(r),n=r?r.parentId:this.json.parentId}while(n);return e}}])&&zi(e.prototype,n),r&&zi(e,r),t}();function Yi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yi(Object(n),!0).forEach((function(e){qi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ki(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ji=function(){function t(e){var n=this;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.json=this.convert(Wi(Wi({},this.getDefaultObject()),e)),new Proxy(this,{get:function(t,e){var n=t[e];return Ne(n)?function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.apply(t,r)}:n||t.json[e]},set:function(t,e,r){if(!n.checkField(e,r))throw new Error("".concat(r," is invalid as ").concat(e," property value."));return t.json[e]=r,!0}})}var e,n,r;return e=t,(n=[{key:"screenX",get:function(){return this.json.x}},{key:"screenY",get:function(){return this.json.y}},{key:"screenX2",get:function(){return Kr.px(this.screenX.value+this.json.width.value)}},{key:"screenY2",get:function(){return Kr.px(this.screenY.value+this.json.height.value)}},{key:"screenWidth",get:function(){return this.json.width}},{key:"screenHeight",get:function(){return this.json.height}},{key:"centerX",get:function(){var t=0;return 0!=this.json.width.value&&(t=Math.floor(this.json.width.value/2)),Kr.px(this.screenX.value+t)}},{key:"centerY",get:function(){var t=0;return 0!=this.json.height.value&&(t=Math.floor(this.json.height.value/2)),Kr.px(this.screenY.value+t)}},{key:"screenRect",get:function(){return{left:this.screenX,top:this.screenY,width:this.screenWidth,height:this.screenHeight}}},{key:"toString",value:function(){return JSON.stringify(this.screenRect)}},{key:"clone",value:function(){return new t(JSON.parse(JSON.stringify(this.json)))}},{key:"getDefaultObject",value:function(){return{x:Kr.px(0),y:Kr.px(0),width:Kr.px(0),height:Kr.px(0)}}},{key:"reset",value:function(t){t instanceof Xi&&(t=t.toJSON()),this.json=this.convert(Wi(Wi({},this.json),t))}},{key:"convert",value:function(t){return t.width=Kr.parse(t.width),t.height=Kr.parse(t.height),t.x=Kr.parse(t.x),t.y=Kr.parse(t.y),t}},{key:"checkInArea",value:function(t){return!(0===t.width.value||0===t.height.value||t.screenX2.value<this.screenX.value||t.screenY2.value<this.screenY.value||t.screenX.value>this.screenX2.value||t.screenY.value>this.screenY2.value)}},{key:"checkInOffset",value:function(t){return!(0===t.width.value||0===t.height.value||this.screenX.value>t.width+t.left||this.screenX2.value<t.left||this.screenY.value>t.height+t.top||this.screenY2.value<t.top)}}])&&Ki(e.prototype,n),r&&Ki(e,r),t}();function Zi(t){return function(t){if(Array.isArray(t))return Qi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Qi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qi(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ea=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this._mode="",this._ids=[],this._idSet=new Set,this.currentRect=null}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this._mode="",this._ids=[],this._idSet.clear()}},{key:"ids",get:function(){return this._ids}},{key:"items",get:function(){var t=this;return this._ids.map((function(e){return t.editor.get(e)}))}},{key:"current",get:function(){var t=this.editor.get(this.ids[0]);return t?"project"==t.itemType?null:t:null}},{key:"layers",get:function(){return this.search("layer")}},{key:"layer",get:function(){return this.layers[0]}},{key:"artboards",get:function(){return this.search("artboard")}},{key:"artboard",get:function(){return this.artboards[0]}},{key:"projects",get:function(){return this.search("project")}},{key:"project",get:function(){return this.projects[0]}},{key:"directories",get:function(){return this.search("directory")}},{key:"directory",get:function(){return this.directories[0]}},{key:"currentDirectory",get:function(){return this._directory}},{key:"currentArtBoard",get:function(){return this._artboard}},{key:"currentProject",get:function(){return this._project}},{key:"currentLayer",get:function(){return this._layer}},{key:"mode",get:function(){return this._mode},set:function(t){this._mode!=t&&(this._mode=t)}},{key:"updateLayer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.currentLayer;r&&r.reset(e),(n||this.editor).emit(t,r)}},{key:"updateRect",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.currentRect;r&&r.reset(e),(n||this.editor).emit(t,r)}},{key:"updateArtBoard",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.currentArtBoard;r&&r.reset(e),(n||this.editor).emit(t,r)}},{key:"updateDirectory",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.currentDirectory;r&&r.reset(e),(n||this.editor).emit(t,r)}},{key:"updateProject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.currentProject;r&&r.reset(e),(n||this.editor).emit(t,r)}},{key:"check",value:function(t){return!!this._idSet.has(t)||!(!this._artboard||this._artboard.id!=t)||!(!this._project||this._project.id!=t)}},{key:"checkOne",value:function(t){return this._idSet.has(t)}},{key:"isEmpty",value:function(){return 0===this._ids.length}},{key:"isNotEmpty",value:function(){return this._ids.length>0}},{key:"count",value:function(){return this._ids.length}},{key:"unitValues",value:function(){return this.items.map((function(t){var e=t.x.value,n=t.y.value,r=t.width.value,o=t.height.value;return{id:t.id,x:e,y:n,width:r,height:o,x2:e+r,y2:n+o,centerX:e+r/2,centerY:n+o/2}}))}},{key:"search",value:function(t){return this.items.filter((function(e){return e.itemType===t}))}},{key:"is",value:function(t){return this._mode===t}},{key:"select",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.map((function(e){return t._idSet.has(e)})).every((function(t){return t}));this._ids=n.map((function(t){return t.id?t.id:t})).filter((function(e){return t.editor.has(e)})),this._idSet=new Set(this._ids),this.generateCache(),o||this.editor.send("CHANGE_SELECTION"),this.initRect()}},{key:"refresh",value:function(){var t=this;this.select.apply(this,Zi(this._ids.filter((function(e){return t.editor.get(e)}))))}},{key:"generateCache",value:function(){if(this._ids.length){var t=this.editor.get(this._ids[0]).path();this._layer=t.filter((function(t){return"layer"===t.itemType}))[0],this._directory=t.filter((function(t){return"directory"===t.itemType}))[0],this._artboard=t.filter((function(t){return"artboard"===t.itemType}))[0],this._project=t.filter((function(t){return"project"===t.itemType}))[0]}else this._layer=null,this._directory=null}},{key:"area",value:function(t){var e=this.editor.layers.filter((function(e){return!e.isLayoutItem()&&!e.lock&&e.checkInArea(t)})).map((function(t){return t.id}));if(e)this.select.apply(this,Zi(e));else{var n=this.currentProject;n&&n.select()}}},{key:"initRect",value:function(){this.currentRect=this.rect()}},{key:"rect",value:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;this.items.forEach((function(o){if(o.screenX){var i=o.screenX.value,a=o.screenY.value,u=o.screenX2.value,c=o.screenY2.value;t>i&&(t=i),e>a&&(e=a),n<u&&(n=u),r<c&&(r=c)}})),this.isEmpty()&&(t=0,e=0,n=0,r=0);var o=t,i=e,a=n-o,u=r-i;return o=Kr.px(o),i=Kr.px(i),a=Kr.px(a),u=Kr.px(u),new Ji({x:o,y:i,width:a,height:u})}}])&&ta(e.prototype,n),r&&ta(e,r),t}();function na(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||oa(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ra(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=oa(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function oa(t,e){if(t){if("string"==typeof t)return ia(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ia(t,e):void 0}}function ia(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ua=new Map,ca=new Map,la=new Map;function sa(t){var e=fa.get(t),n=e.clone(!0);fa.set(n.id,n),ca[e.id]=n.id;var r=[n];return e.children.forEach((function(t){!function t(e,n,r){var o=e.clone(!0);fa.set(o.id,o),o.parentId=r,ca[e.id]=o.id,n.push(o),e.children.forEach((function(e){t(e,n,o.id)}))}(t,r,n.id)})),r}var fa=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=new Ui(this),this.selection=new ea(this)}var e,n,r;return e=t,(n=[{key:"setStore",value:function(t){this.$store=t}},{key:"send",value:function(){this.emit.apply(this,arguments)}},{key:"emit",value:function(){var t;this.$store&&(this.$store.source="EDITOR_ID",(t=this.$store).emit.apply(t,arguments))}},{key:"addProject",value:function(t){return this.add("",t)}},{key:"filter",value:function(t){var e,n=[],r=ra(ua);try{for(r.s();!(e=r.n()).done;){var o=na(e.value,2),i=(o[0],o[1]);i.itemType===t&&(n[n.length]=i)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"projects",get:function(){return this.filter("project")}},{key:"artboards",get:function(){return this.filter("artboard")}},{key:"layers",get:function(){return this.filter("layer")}},{key:"add",value:function(t,e){return e.parentId=t,ua.set(e.id,e),this.sort(e.itemType),e}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&this.removeChildren(t),ua.delete(t)}},{key:"copy",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.length?n:this.selection.ids,i={};o.forEach((function(t){i[t]=!0}));var a=o.filter((function(e){return!t.get(e).path().some((function(t){return t.id!=e&&i[t.id]}))}));return ca.clear(),a.forEach((function(t){var e=sa(t,it());e.length&&(e[0].index=e[0].index+1,e[0].parent().sort())})),o.map((function(t){return ca[t]}))}},{key:"clear",value:function(){ua.clear()}},{key:"all",get:function(){return ua}},{key:"removeChildren",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=[];if(""==e)r=this.projects;else{var o=this.get(e);o?r=o.children:n&&(r=n.children)}r.length&&r.forEach((function(e){t.removeChildren(e.id),t.remove(e.id)}))}},{key:"get",value:function(t){return ua.get(t)}},{key:"set",value:function(t,e){ua.set(t,e)}},{key:"has",value:function(t){return ua.has(t)}},{key:"search",value:function(t){var e,n=Object.keys(t),r=[],o=ra(ua);try{var i=function(){var o=na(e.value,2),i=(o[0],o[1]);n.every((function(e){return t[e]===i[e]}))&&(r[r.length]=i)};for(o.s();!(e=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}return r.sort((function(t,e){return t.index>e.index?1:-1})),r}},{key:"sort",value:function(t){var e=[];"project"===t&&(e=this.projects),e.sort((function(t,e){return t.index===e.index?0:t.index>e.index?1:-1})),e.forEach((function(t,e){t.index=100*e}))}},{key:"children",value:function(t){var e,n=[],r=ra(ua);try{for(r.s();!(e=r.n()).done;){var o=na(e.value,2),i=(o[0],o[1]);i.parentId===t&&(n[n.length]=i)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"hasFile",value:function(t){return la.has(t)}},{key:"getFile",value:function(t){return la.get(t)||t}},{key:"createUrl",value:function(t){var e,n=URL.createObjectURL(t);return(e=t,new Promise((function(t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e)}))).then((function(t){la.set(n,t)})),n}},{key:"revokeUrl",value:function(t){la.delete(t)&&URL.revokeObjectURL(t)}},{key:"load",value:function(){return JSON.parse(window.localStorage.getItem("easylogic.gradient.list")||"[]")}},{key:"export",value:function(){return{id:ot(),json:fa.selection.current.toJSON(),css:fa.selection.current.toCSS(),preview:fa.selection.current.toString()}}},{key:"save",value:function(){var t=this.load();t.push(this.export()),window.localStorage.setItem("easylogic.gradient.list",JSON.stringify(t))}}])&&aa(e.prototype,n),r&&aa(e,r),t}());function ha(t){return(ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pa(t){return function(t){if(Array.isArray(t))return va(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return va(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return va(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function va(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function da(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ya(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ga(t,e){return(ga=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ba(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ka(t);if(e){var o=ka(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ma(this,n)}}function ma(t,e){return!e||"object"!==ha(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ka(t){return(ka=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wa={x:0,y:0},Oa=function(t){return new(function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ga(t,e)}(a,e);var n,r,o,i=ba(a);function a(){return da(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.$store=new ni({modules:[].concat(pa(this.getModuleList()),pa(t))}),fa.setStore(this.$store),this.$container=new no(this.getContainer()),this.$container.addClass(this.getClassName()),this.render(this.$container),this.initializeEvent(),this.initBodyMoves()}},{key:"initBodyMoves",value:function(){this.moves=new Set,this.ends=new Set,this.modifyBodyMoveSecond(10)}},{key:"modifyBodyMoveSecond",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;fa.config.set("body.move.ms",t),this.funcBodyMoves=Re(this.loopBodyMoves.bind(this),fa.config.get("body.move.ms"))}},{key:Mi("modifyBodyMoveSeconds"),value:function(t){this.modifyBodyMoveSecond(t)}},{key:"loopBodyMoves",value:function(){var t=fa.config.get("oldPos"),e=fa.config.get("pos");(t.x!=e.x||t.y!=e.y)&&this.moves.size&&this.moves.forEach((function(t){var n=e.x-t.xy.x,r=e.y-t.xy.y;0==n&&0==r||t.func.call(t.context,n,r)})),requestAnimationFrame(this.funcBodyMoves)}},{key:"removeBodyMoves",value:function(){var t=fa.config.get("pos");this.ends.forEach((function(e){e.func.call(e.context,t.x-e.xy.x,t.y-e.xy.y)})),this.moves.clear(),this.ends.clear()}},{key:Mi("add/body/mousemove"),value:function(t,e,n){this.moves.add({func:t,context:e,xy:n})}},{key:Mi("add/body/mouseup"),value:function(t,e,n){this.ends.add({func:t,context:e,xy:n})}},{key:"getModuleList",value:function(){return t.modules||[]}},{key:"getClassName",value:function(){return t.className||"csseditor"}},{key:"getContainer",value:function(){return t.container||document.body}},{key:"template",value:function(){return"<div>".concat(t.template,"</div>")}},{key:"components",value:function(){return t.components||{}}},{key:Bo("document"),value:function(t){var e=fa.config.get("pos")||wa,n=t.xy||wa;this.bodyMoved=!(e.x==n.x&&e.y==n.y),fa.config.set("bodyEvent",t),fa.config.set("pos",n),fa.config.set("oldPos",e),this.requestId||(this.requestId=requestAnimationFrame(this.funcBodyMoves))}},{key:Do("document"),value:function(t){var e=t.xy||wa;fa.config.set("bodyEvent",t),fa.config.set("pos",e),this.removeBodyMoves(),this.requestId=null}}])&&ya(n.prototype,r),o&&ya(n,o),a}(Ai))(t)},xa={App:d,Color:Rr,HueColor:Ir,ColorNames:Rn,ImageFilter:Ar,Canvas:y,ImageLoader:pr};function Ca(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ja=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$store=e,this.initialize()}var e,n,r;return e=t,(n=[{key:"afterDispatch",value:function(){}},{key:"initialize",value:function(){var t=this;this.filterProps("/").forEach((function(e){t.$store.action(e,t)})),this.filterProps("*/").forEach((function(e){t.$store.getter(e,t)}))}},{key:"filterProps",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return Object.getOwnPropertyNames(this.__proto__).filter((function(e){return e.startsWith(t)}))}},{key:"get",value:function(t){return this.$store.items[t]||{}}},{key:"set",value:function(t,e){this.$store.items[t]=e}},{key:"config",value:function(t,e){return isUndefined(this.$store.tool[t])?e:this.$store.tool[t]}},{key:"initConfig",value:function(t,e){this.$store.tool[t]=e}}])&&Ca(e.prototype,n),r&&Ca(e,r),t}();function Sa(t){return(Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ra(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ea(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ta(t,e,n){return(Ta="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ma(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ia(t,e){return(Ia=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ba(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ma(t);if(e){var o=Ma(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Da(this,n)}}function Da(t,e){return!e||"object"!==Sa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ma(t){return(Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Aa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ia(t,e)}(i,t);var e,n,r,o=Ba(i);function i(){return Ra(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){Ta(Ma(i.prototype),"initialize",this).call(this),this.$store.colorSetsList=[{name:"Material",edit:!0,colors:["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B"]},{name:"Custom",edit:!0,colors:[]},{name:"Color Scale",scale:["red","yellow","black"],count:5}],this.$store.currentColorSets={}}},{key:ti("setUserPalette"),value:function(t,e){t.userList=e,t.dispatch("resetUserPalette"),t.dispatch("setCurrentColorSets")}},{key:ti("resetUserPalette"),value:function(t){t.userList&&t.userList.length&&(t.userList=t.userList.map((function(e,n){if(Ne(e.colors)){var r=e.colors;e.colors=r(t),e._colors=r}return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pa(Object(n),!0).forEach((function(e){_a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({name:"color-".concat(n),colors:[]},e)})),t.emit("changeUserList"))}},{key:ti("setCurrentColorSets"),value:function(t,e){var n=t.read("list");De(e)?t.currentColorSets=n[0]:Fe(e)?t.currentColorSets=n[e]:t.currentColorSets=n.filter((function(t){return t.name==e}))[0],t.emit("changeCurrentColorSets")}},{key:Qo("getCurrentColorSets"),value:function(t){return t.currentColorSets}},{key:ti("addCurrentColor"),value:function(t,e){Array.isArray(t.currentColorSets.colors)&&(t.currentColorSets.colors.push(e),t.emit("changeCurrentColorSets"))}},{key:ti("setCurrentColorAll"),value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.currentColorSets.colors=e,t.emit("changeCurrentColorSets")}},{key:ti("removeCurrentColor"),value:function(t,e){t.currentColorSets.colors[e]&&(t.currentColorSets.colors.splice(e,1),t.emit("changeCurrentColorSets"))}},{key:ti("removeCurrentColorToTheRight"),value:function(t,e){t.currentColorSets.colors[e]&&(t.currentColorSets.colors.splice(e,Number.MAX_VALUE),t.emit("changeCurrentColorSets"))}},{key:ti("clearPalette"),value:function(t){t.currentColorSets.colors&&(t.currentColorSets.colors=[],t.emit("changeCurrentColorSets"))}},{key:Qo("list"),value:function(t){return Array.isArray(t.userList)&&t.userList.length?t.userList:t.colorSetsList}},{key:Qo("getCurrentColors"),value:function(t){return t.read("getColors",t.currentColorSets)}},{key:Qo("getColors"),value:function(t,e){return e.scale?Rr.scale(e.scale,e.count):e.colors||[]}},{key:Qo("getColorSetsList"),value:function(t){return t.read("list").map((function(e){return{name:e.name,edit:e.edit,colors:t.read("getColors",e)}}))}}])&&Ea(e.prototype,n),r&&Ea(e,r),i}(ja);function Va(t){return(Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function La(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?La(Object(n),!0).forEach((function(e){Ha(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):La(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ha(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Na(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ga(t,e,n){return(Ga="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wa(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function za(t,e){return(za=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wa(t);if(e){var o=Wa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ya(this,n)}}function Ya(t,e){return!e||"object"!==Va(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wa(t){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&za(t,e)}(i,t);var e,n,r,o=Xa(i);function i(){return Na(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){Ga(Wa(i.prototype),"initialize",this).call(this),this.$store.rgb={},this.$store.hsl={},this.$store.hsv={},this.$store.alpha=1,this.$store.format="hex"}},{key:ti("changeFormat"),value:function(t,e){t.format=e,t.emit("changeFormat")}},{key:ti("initColor"),value:function(t,e,n){t.dispatch("changeColor",e,n,!0),t.emit("initColor")}},{key:ti("changeColor"),value:function(t,e,n,r){Le(e=e||"#FF0000")&&(e=Rr.parse(e)),e.source=e.source||n,t.alpha=De(e.a)?t.alpha:e.a,t.format="hsv"!=e.type&&e.type||t.format,"hex"==t.format&&t.alpha<1&&(t.format="rgb"),"hsl"==e.type?(t.hsl=Ua(Ua({},t.hsl),e),t.rgb=Rr.HSLtoRGB(t.hsl),t.hsv=Rr.HSLtoHSV(e)):"hex"==e.type||"rgb"==e.type?(t.rgb=Ua(Ua({},t.rgb),e),t.hsl=Rr.RGBtoHSL(t.rgb),t.hsv=Rr.RGBtoHSV(e)):"hsv"==e.type&&(t.hsv=Ua(Ua({},t.hsv),e),t.rgb=Rr.HSVtoRGB(t.hsv),t.hsl=Rr.HSVtoHSL(t.hsv)),r||t.emit("changeColor",e.source)}},{key:Qo("getHueColor"),value:function(t){return Ir.checkHueColor(t.hsv.h/360)}},{key:Qo("toString"),value:function(t,e){var n=t[e=e||t.format]||t.rgb;return Rr.format(Ua(Ua({},n),{},{a:t.alpha}),e)}},{key:Qo("toColor"),value:function(t,e){return"rgb"==(e=(e||t.format).toLowerCase())?t.read("toRGB"):"hsl"==e?t.read("toHSL"):"hex"==e?t.read("toHEX"):t.read("toString",e)}},{key:Qo("toRGB"),value:function(t){return t.read("toString","rgb")}},{key:Qo("toHSL"),value:function(t){return t.read("toString","hsl")}},{key:Qo("toHEX"),value:function(t){return t.read("toString","hex").toUpperCase()}}])&&Fa(e.prototype,n),r&&Fa(e,r),i}(ja);function Ka(t){return(Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ja(t){return function(t){if(Array.isArray(t))return Za(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Za(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Za(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Za(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eu(t,e,n){return(eu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=iu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function nu(t,e){return(nu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ru(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=iu(t);if(e){var o=iu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ou(this,n)}}function ou(t,e){return!e||"object"!==Ka(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iu(t){return(iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var au=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nu(t,e)}(i,t);var e,n,r,o=ru(i);function i(){return Qa(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"created",value:function(){this.isColorPickerShow=!1,this.isShortCut=!1,this.hideDelay=+Be(this.opt.hideDeplay,2e3),this.timerCloseColorPicker,this.autoHide=this.opt.autoHide||!0,this.outputFormat=this.opt.outputFormat,this.$checkColorPickerClass=this.checkColorPickerClass.bind(this)}},{key:"initialize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.$body=null,this.$root=null,this.$store=new ni({modules:[qa,Aa].concat(Ja(e))}),this.callbackChange=function(){t.callbackChangeValue()},this.colorpickerShowCallback=function(){},this.colorpickerHideCallback=function(){},this.$body=new no(this.getContainer()),this.$root=new no("div","codemirror-colorpicker"),"inline"==this.opt.position&&this.$body.append(this.$root),this.opt.type&&this.$root.addClass(this.opt.type),this.opt.hideInformation&&this.$root.addClass("hide-information"),this.opt.hideColorsets&&this.$root.addClass("hide-colorsets"),this.opt.width&&this.$root.css("width",this.opt.width),this.$arrow=new no("div","arrow"),this.$root.append(this.$arrow),this.dispatch("setUserPalette",this.opt.colorSets),this.render(this.$root),this.initColorWithoutChangeEvent(this.opt.color),this.initializeEvent()}},{key:"initColorWithoutChangeEvent",value:function(t){this.dispatch("initColor",t)}},{key:"show",value:function(t,e,n,r){this.colorpickerShowCallback=n,this.colorpickerHideCallback=r,this.$root.css(this.getInitalizePosition()).show(),this.definePosition(t),this.isColorPickerShow=!0,this.isShortCut=t.isShortCut||!1,this.outputFormat=t.outputFormat,this.hideDelay=+Be(t.hideDelay,2e3),this.hideDelay>0&&this.setHideDelay(this.hideDelay),this.$root.appendTo(this.$body),this.initColorWithoutChangeEvent(e)}},{key:"initColor",value:function(t,e){this.dispatch("changeColor",t,e)}},{key:"hide",value:function(){this.isColorPickerShow&&(this.$root.hide(),this.$root.remove(),this.isColorPickerShow=!1,this.callbackHideValue())}},{key:"setColorsInPalette",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.dispatch("setCurrentColorAll",t)}},{key:"setUserPalette",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.dispatch("setUserPalette",t)}},{key:"getOption",value:function(t){return this.opt[t]}},{key:"setOption",value:function(t,e){this.opt[t]=e}},{key:"getContainer",value:function(){return this.opt.container||document.body}},{key:"getColor",value:function(t){return this.read("toColor",t)}},{key:"definePositionForArrow",value:function(t,e,n){}},{key:"definePosition",value:function(t){var e=this.$root.width(),n=this.$root.height(),r=t.left-this.$body.scrollLeft();e+r>window.innerWidth&&(r-=e+r-window.innerWidth),r<0&&(r=0);var o=t.top-this.$body.scrollTop();n+o>window.innerHeight&&(o-=n+o-window.innerHeight),o<0&&(o=0),this.$root.css({left:me(r),top:me(o)})}},{key:"getInitalizePosition",value:function(){return"inline"==this.opt.position?{position:"relative",left:"auto",top:"auto",display:"inline-block"}:{position:"absolute"==this.opt.position?"absolute":"fixed",left:"-10000px",top:"-10000px"}}},{key:"setHideDelay",value:function(t){var e=this;t=t||0;var n=this.hide.bind(this);this.$root.off("mouseenter"),this.$root.off("mouseleave"),this.$root.on("mouseenter",(function(){clearTimeout(e.timerCloseColorPicker)})),this.$root.on("mouseleave",(function(){clearTimeout(e.timerCloseColorPicker),e.timerCloseColorPicker=setTimeout(n,t)})),clearTimeout(this.timerCloseColorPicker)}},{key:"callbackChangeValue",value:function(t){t=t||this.getCurrentColor(),Ne(this.opt.onChange)&&this.opt.onChange.call(this,t),Ne(this.colorpickerShowCallback)&&this.colorpickerShowCallback(t)}},{key:"callbackHideValue",value:function(t){t=t||this.getCurrentColor(),Ne(this.opt.onHide)&&this.opt.onHide.call(this,t),Ne(this.colorpickerHideCallback)&&this.colorpickerHideCallback(t)}},{key:"getCurrentColor",value:function(){return this.read("toColor",this.outputFormat)}},{key:"checkColorPickerClass",value:function(t){var e=new no(t),n=e.closest("codemirror-colorview"),r=e.closest("codemirror-colorpicker"),o=e.closest("CodeMirror");return t.nodeName,!!(r||n||o)}},{key:"checkInHtml",value:function(t){return"HTML"==t.nodeName}},{key:"initializeStoreEvent",value:function(){eu(iu(i.prototype),"initializeStoreEvent",this).call(this),this.$store.on("changeColor",this.callbackChange,this),this.$store.on("changeFormat",this.callbackChange,this)}},{key:"destroy",value:function(){eu(iu(i.prototype),"destroy",this).call(this),this.$store.off("changeColor",this.callbackChange),this.$store.off("changeFormat",this.callbackChange),this.callbackChange=void 0,this.colorpickerShowCallback=void 0,this.colorpickerHideCallback=void 0}},{key:ko("document"),value:function(t){this.checkInHtml(t.target)||0==this.checkColorPickerClass(t.target)&&this.hide()}}])&&tu(e.prototype,n),r&&tu(e,r),i}(Ai);function uu(t){return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function su(t,e){return(su=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pu(t);if(e){var o=pu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hu(this,n)}}function hu(t,e){return!e||"object"!==uu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pu(t){return(pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vu(t){return(vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function du(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gu(t,e,n){return(gu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function bu(t,e){return(bu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wu(t);if(e){var o=wu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ku(this,n)}}function ku(t,e){return!e||"object"!==vu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wu(t){return(wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ou=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bu(t,e)}(i,t);var e,n,r,o=mu(i);function i(){return du(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){gu(wu(i.prototype),"initialize",this).call(this),this.minValue=0,this.maxValue=1}},{key:"getMinMaxPosition",value:function(){var t=this.getMinPosition(),e=this.getMaxDist();return{min:t,max:t+e,width:e}}},{key:"getCurrent",value:function(t){return min+this.getMaxDist()*t}},{key:"getMinPosition",value:function(){return this.refs.$container.offset().left}},{key:"getMaxDist",value:function(){return this.refs.$container.width()}},{key:"getDist",value:function(t){var e=this.getMinMaxPosition(),n=e.min,r=e.max;return t<n?0:t>r?100:(t-n)/(r-n)*100}},{key:"getCalculatedDist",value:function(t){var e=t?this.getMousePosition(t):this.getCurrent(this.getDefaultValue()/this.maxValue);return this.getDist(e)}},{key:"getDefaultValue",value:function(){return 0}},{key:"setMousePosition",value:function(t){this.refs.$bar.css({left:me(t)})}},{key:"getMousePosition",value:function(t){return Zo.pos(t).pageX}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(t){if(t=t||this.getDefaultValue(),this.lastV===t)return!0;this.lastV=t,t<=this.minValue?this.refs.$bar.addClass("first").removeClass("last"):t>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first"),this.setMousePosition(this.getMaxDist()*((t||0)/this.maxValue))}}])&&yu(e.prototype,n),r&&yu(e,r),i}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&su(t,e)}(i,t);var e,n,r,o=fu(i);function i(){return cu(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){}},{key:"refreshColorUI",value:function(t){}},{key:"changeColor",value:function(t){this.dispatch("changeColor",t||{})}},{key:Do("document"),value:function(t){this.onDragEnd(t)}},{key:Bo("document"),value:function(t){this.onDragMove(t)}},{key:Io("$bar"),value:function(t){t.preventDefault(),this.isDown=!0}},{key:Io("$container"),value:function(t){this.isDown=!0,this.onDragStart(t)}},{key:"onDragStart",value:function(t){this.isDown=!0,this.refreshColorUI(t)}},{key:"onDragMove",value:function(t){this.isDown&&this.refreshColorUI(t)}},{key:"onDragEnd",value:function(t){this.isDown=!1}},{key:Mi("changeColor"),value:function(){this.refresh()}},{key:Mi("initColor"),value:function(){this.refresh()}}])&&lu(e.prototype,n),r&&lu(e,r),i}(Ai));function $u(t){return($u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ju(t,e,n){return(ju="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ru(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Su(t,e){return(Su=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ru(t);if(e){var o=Ru(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _u(this,n)}}function _u(t,e){return!e||"object"!==$u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ru(t){return(Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Su(t,e)}(i,t);var e,n,r,o=Pu(i);function i(){return xu(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){ju(Ru(i.prototype),"initialize",this).call(this),this.minValue=0,this.maxValue=1}},{key:"template",value:function(){return'\n            <div class="value">\n                <div ref="$container" class="value-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"setBackgroundColor",value:function(){this.refs.$container.css("background-color",this.read("toRGB"))}},{key:"refresh",value:function(){ju(Ru(i.prototype),"refresh",this).call(this),this.setBackgroundColor()}},{key:"getDefaultValue",value:function(){return this.$store.hsv.v}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({type:"hsv",v:e/100*this.maxValue})}}])&&Cu(e.prototype,n),r&&Cu(e,r),i}(Ou);function Tu(t){return(Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Iu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Du(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Au(t,e,n){return(Au="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Vu(t,e){return(Vu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hu(t);if(e){var o=Hu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uu(this,n)}}function Uu(t,e){return!e||"object"!==Tu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hu(t){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vu(t,e)}(i,t);var e,n,r,o=Lu(i);function i(){return Du(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){Au(Hu(i.prototype),"initialize",this).call(this),this.minValue=0,this.maxValue=1}},{key:"template",value:function(){return'\n        <div class="opacity">\n            <div ref="$container" class="opacity-container">\n                <div ref="$colorbar" class="color-bar"></div>\n                <div ref="$bar" class="drag-bar2"></div>\n            </div>\n        </div>\n        '}},{key:"refresh",value:function(){Au(Hu(i.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Iu(Object(n),!0).forEach((function(e){Bu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.$store.rgb);t.a=0;var e=Rr.format(t,"rgb");t.a=1;var n=Rr.format(t,"rgb");this.refs.$colorbar.css("background","linear-gradient(to right, "+e+", "+n+")")}},{key:"getDefaultValue",value:function(){return this.$store.alpha}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({a:Math.floor(e)/100*this.maxValue})}}])&&Mu(e.prototype,n),r&&Mu(e,r),i}(Ou);function Fu(t){return(Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xu(t,e){return(Xu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qu(t);if(e){var o=qu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wu(this,n)}}function Wu(t,e){return!e||"object"!==Fu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qu(t){return(qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ku=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xu(t,e)}(i,t);var e,n,r,o=Yu(i);function i(){return Gu(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'<div class="color"></div>'}},{key:"setBackgroundColor",value:function(){this.refs.$el.css("background-color",this.read("toRGB"))}},{key:"refresh",value:function(){this.setBackgroundColor()}},{key:Mi("changeColor"),value:function(){this.refresh()}},{key:Mi("initColor"),value:function(){this.refresh()}}])&&zu(e.prototype,n),r&&zu(e,r),i}(Ai);function Ju(t){return(Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Qu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qu(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ec(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nc(t,e,n){return(nc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ac(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function rc(t,e){return(rc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ac(t);if(e){var o=ac(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ic(this,n)}}function ic(t,e){return!e||"object"!==Ju(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ac(t){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var uc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rc(t,e)}(i,t);var e,n,r,o=oc(i);function i(){return tc(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){nc(ac(i.prototype),"initialize",this).call(this),this.width=214,this.height=214,this.thinkness=0,this.half_thinkness=0}},{key:"template",value:function(){return'\n        <div class="wheel">\n            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>\n            <div class="wheel-canvas" ref="$valuewheel" ></div>\n            <div class="drag-pointer" ref="$drag_pointer"></div>\n        </div>\n        '}},{key:"refresh",value:function(t){this.setColorUI(t)}},{key:"setColorUI",value:function(t){this.renderCanvas(),this.renderValue(),this.setHueColor(null,t)}},{key:"renderValue",value:function(){var t=1-this.$store.hsv.v;this.refs.$valuewheel.css("background-color","rgba(0, 0, 0, ".concat(t,")"))}},{key:"renderWheel",value:function(t,e){this.width&&!t&&(t=this.width),this.height&&!e&&(e=this.height);var n=new no("canvas"),r=n.el.getContext("2d");n.el.width=t,n.el.height=e,n.px("width",t),n.px("height",e);for(var o=r.getImageData(0,0,t,e),i=o.data,a=Math.floor(t/2),u=Math.floor(e/2),c=t>e?u:a,l=a,s=u,f=0;f<e;f++)for(var h=0;h<t;h++){var p=h-l+1,v=f-s+1,d=p*p+v*v,y=rt(p,v),g=Rr.HSVtoRGB(y,Math.min(Math.sqrt(d)/c,1),1),b=4*(f*t+h);i[b]=g.r,i[b+1]=g.g,i[b+2]=g.b,i[b+3]=255}return r.putImageData(o,0,0),this.thinkness>0&&(r.globalCompositeOperation="destination-out",r.fillStyle="black",r.beginPath(),r.arc(l,s,c-this.thinkness,0,2*Math.PI),r.closePath(),r.fill()),n}},{key:"renderCanvas",value:function(){if(!this.$store.createdWheelCanvas){var t=this.refs.$colorwheel,e=t.el.getContext("2d"),n=Zu(t.size(),2),r=n[0],o=n[1];this.width&&!r&&(r=this.width),this.height&&!o&&(o=this.height),t.el.width=r,t.el.height=o,t.px("width",r),t.px("height",o);var i=this.renderWheel(r,o);e.drawImage(i.el,0,0),this.$store.createdWheelCanvas=!0}}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"getDefaultSaturation",value:function(){return this.$store.hsv.s}},{key:"getCurrentXY",value:function(t,e,n,r,o){return t?t.xy:et(e,n,r,o)}},{key:"getRectangle",value:function(){var t=this.$el.width(),e=this.$el.height(),n=this.refs.$colorwheel.width()/2,r=this.$el.offsetLeft(),o=r+t/2,i=this.$el.offsetTop();return{minX:r,minY:i,width:t,height:e,radius:n,centerX:o,centerY:i+e/2}}},{key:"setHueColor",value:function(t,e){var n=this.getRectangle(),r=n.minX,o=n.minY,i=n.radius,a=n.centerX,u=n.centerY,c=this.getCurrentXY(t,this.getDefaultValue(),this.getDefaultSaturation()*i,a,u),l=(v=c.x)-a,s=(d=c.y)-u,f=l*l+s*s,h=rt(l,s);if(f>i*i)var p=this.getCurrentXY(null,h,i,a,u),v=p.x,d=p.y;var y=Math.min(Math.sqrt(f)/i,1);this.refs.$drag_pointer.px("left",v-r),this.refs.$drag_pointer.px("top",d-o),e||this.changeColor({type:"hsv",h:h,s:y})}},{key:"changeColor",value:function(t){this.dispatch("changeColor",t||{})}},{key:Mi("changeColor"),value:function(){this.refresh(!0)}},{key:Mi("initColor"),value:function(){this.refresh(!0)}},{key:Do("document"),value:function(t){this.isDown=!1}},{key:Bo("document"),value:function(t){this.isDown&&this.setHueColor(t)}},{key:Io("$drag_pointer"),value:function(t){t.preventDefault(),this.isDown=!0}},{key:Io(),value:function(t){this.isDown=!0,this.setHueColor(t)}}])&&ec(e.prototype,n),r&&ec(e,r),i}(Ai);function cc(t){return(cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fc(t,e){return(fc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vc(t);if(e){var o=vc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pc(this,n)}}function pc(t,e){return!e||"object"!==cc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vc(t){return(vc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dc,yc,gc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fc(t,e)}(i,t);var e,n,r,o=hc(i);function i(){return lc(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n        <div class="information hex">\n            <div ref="$informationChange" class="information-change">\n                <button ref="$formatChangeButton" type="button" class="format-change-button arrow-button"></button>\n            </div>\n\n            <div class="information-item-container">\n                <div class="information-item hex">\n                    <div class="input-field hex">\n                        <input ref="$hexCode" class="input" type="text" />\n                        <div class="title">HEX</div>\n                    </div>\n                </div>\n                <div class="information-item rgb">\n                    <div class="input-field rgb-r">\n                        <input ref="$rgb_r" class="input" type="number" step="1" min="0" max="255" />\n                        <div class="title">R</div>\n                    </div>\n                    <div class="input-field rgb-g">\n                        <input ref="$rgb_g" class="input" type="number" step="1" min="0" max="255" />\n                        <div class="title">G</div>\n                    </div>\n                    <div class="input-field rgb-b">\n                        <input ref="$rgb_b" class="input" type="number" step="1" min="0" max="255" />\n                        <div class="title">B</div>\n                    </div>          \n                    <div class="input-field rgb-a">\n                        <input ref="$rgb_a" class="input" type="number" step="0.01" min="0" max="1" />\n                        <div class="title">A</div>\n                    </div>                                                            \n                </div>\n\n            </div>\n            <div class="information-item-container">\n                <div>\n                \n                </div>\n                <div class="information-item hsl">\n                    <div class="input-field hsl-h">\n                        <input ref="$hsl_h" class="input" type="number" step="1" min="0" max="360" />\n                        <div class="title">H</div>\n                    </div>\n                    <div class="input-field hsl-s">\n                        <input ref="$hsl_s" class="input" type="number" step="1" min="0" max="100" />\n                        <div class="postfix">%</div>\n                        <div class="title">S</div>\n                    </div>\n                    <div class="input-field hsl-l">\n                        <input ref="$hsl_l" class="input" type="number" step="1" min="0" max="100" />\n                        <div class="postfix">%</div>                        \n                        <div class="title">L</div>\n                    </div>\n                    <div class="input-field hsl-a">\n                        <input ref="$hsl_a" class="input" type="number" step="0.01" min="0" max="1" />\n                        <div class="title">A</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        '}},{key:"setCurrentFormat",value:function(t){this.format=t,this.initFormat()}},{key:"initFormat",value:function(){var t=this.format||"hex";this.$el.removeClass("hex"),this.$el.removeClass("rgb"),this.$el.removeClass("hsl"),this.$el.addClass(t)}},{key:"nextFormat",value:function(){var t=this.format||"hex",e="hex";"hex"==t?e="rgb":"rgb"==t?e="hsl":"hsl"==t&&(e=1==this.$store.alpha?"hex":"rgb"),this.$el.removeClass(t),this.$el.addClass(e),this.format=e,this.dispatch("changeFormat",this.format)}},{key:"getFormat",value:function(){return this.format||"hex"}},{key:"checkNumberKey",value:function(t){return Zo.checkNumberKey(t)}},{key:"checkNotNumberKey",value:function(t){return!Zo.checkNumberKey(t)}},{key:"changeRgbColor",value:function(){this.dispatch("changeColor",{type:"rgb",r:this.refs.$rgb_r.int(),g:this.refs.$rgb_g.int(),b:this.refs.$rgb_b.int(),a:this.refs.$rgb_a.float()})}},{key:"changeHslColor",value:function(){this.dispatch("changeColor",{type:"hsl",h:this.refs.$hsl_h.int(),s:this.refs.$hsl_s.int(),l:this.refs.$hsl_l.int(),a:this.refs.$hsl_a.float()})}},{key:Mi("changeColor"),value:function(){this.refresh()}},{key:Mi("initColor"),value:function(){this.refresh()}},{key:Po("$rgb_r"),value:function(t){this.changeRgbColor()}},{key:Po("$rgb_g"),value:function(t){this.changeRgbColor()}},{key:Po("$rgb_b"),value:function(t){this.changeRgbColor()}},{key:Po("$rgb_a"),value:function(t){this.changeRgbColor()}},{key:Po("$hsl_h"),value:function(t){this.changeHslColor()}},{key:Po("$hsl_s"),value:function(t){this.changeHslColor()}},{key:Po("$hsl_l"),value:function(t){this.changeHslColor()}},{key:Po("$hsl_a"),value:function(t){this.changeHslColor()}},{key:wo("$hexCode"),value:function(t){if(t.which<65||t.which>70)return this.checkNumberKey(t)}},{key:Oo("$hexCode"),value:function(t){var e=this.refs.$hexCode.val();"#"==e.charAt(0)&&7==e.length&&this.dispatch("changeColor",e)}},{key:bo("$formatChangeButton"),value:function(t){this.nextFormat()}},{key:"setRGBInput",value:function(){this.refs.$rgb_r.val(this.$store.rgb.r),this.refs.$rgb_g.val(this.$store.rgb.g),this.refs.$rgb_b.val(this.$store.rgb.b),this.refs.$rgb_a.val(this.$store.alpha)}},{key:"setHSLInput",value:function(){this.refs.$hsl_h.val(this.$store.hsl.h),this.refs.$hsl_s.val(this.$store.hsl.s),this.refs.$hsl_l.val(this.$store.hsl.l),this.refs.$hsl_a.val(this.$store.alpha)}},{key:"setHexInput",value:function(){this.refs.$hexCode.val(this.read("toHEX"))}},{key:"refresh",value:function(){this.setCurrentFormat(this.$store.format),this.setRGBInput(),this.setHSLInput(),this.setHexInput()}}])&&sc(e.prototype,n),r&&sc(e,r),i}(Ai);function bc(t){return(bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function kc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oc(t,e,n){return(Oc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $c(t,e){return($c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jc(t);if(e){var o=jc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cc(this,n)}}function Cc(t,e){return!e||"object"!==bc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jc(t){return(jc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sc,Pc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$c(t,e)}(i,t);var e,n,r,o=xc(i);function i(){return kc(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'<div class="color-chooser">\n            <div class="color-chooser-container">\n                <div class="colorsets-item colorsets-item-header">\n                    <h1 class="title">Color Palettes</h1>\n                    <span ref="$toggleButton" class="items">&times;</span>\n                </div>\n                <div ref="$colorsetsList" class="colorsets-list"></div>\n            </div>\n        </div>'}},{key:"refresh",value:function(){this.load()}},{key:Mi("changeCurrentColorSets"),value:function(){this.refresh()}},{key:Mi("toggleColorChooser"),value:function(){this.toggle()}},{key:Xo("$colorsetsList"),value:function(){var t=this.read("getColorSetsList");return Je(dc||(dc=mc(["\n            <div>\n                ","\n            </div>\n        "])),t.map((function(t,e){return Je(yc||(yc=mc(['\n                        <div class="colorsets-item" data-colorsets-index="','" >\n                            <h1 class="title">','</h1>\n                            <div class="items">\n                                <div>\n                                    ',"\n                                </div>\n                            </div>\n                        </div>"])),e,t.name,t.colors.filter((function(t,e){return e<5})).map((function(t){return'<div class="color-item" title="'.concat(t=t||"rgba(255, 255, 255, 1)",'">\n                                                <div class="color-view" style="background-color: ').concat(t,'"></div>\n                                            </div>')})))})))}},{key:"show",value:function(){this.$el.addClass("open")}},{key:"hide",value:function(){this.$el.removeClass("open")}},{key:"toggle",value:function(){this.$el.toggleClass("open")}},{key:bo("$toggleButton"),value:function(t){this.toggle()}},{key:bo("$colorsetsList .colorsets-item"),value:function(t,e){if(e){var n=parseInt(e.attr("data-colorsets-index"));this.dispatch("setCurrentColorSets",n),this.hide()}}},{key:"destroy",value:function(){Oc(jc(i.prototype),"destroy",this).call(this),this.hide()}}])&&wc(e.prototype,n),r&&wc(e,r),i}(Ai);function _c(t){return(_c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ec(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tc(t,e){return(Tc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ic(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Dc(t);if(e){var o=Dc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bc(this,n)}}function Bc(t,e){return!e||"object"!==_c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dc(t){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tc(t,e)}(i,t);var e,n,r,o=Ic(i);function i(){return Rc(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n            <div class="colorsets">\n                <div class="menu" title="Open Color Palettes">\n                    <button ref="$colorSetsChooseButton" type="button" class="color-sets-choose-btn arrow-button"></button>\n                </div>\n                <div ref="$colorSetsColorList" class="color-list"></div>\n            </div>\n        '}},{key:Xo("$colorSetsColorList"),value:function(){var t,e,n=this.read("getCurrentColorSets"),r=this.read("getCurrentColors");return Je(Sc||(t=['<div class="current-color-sets">\n            ',"   \n            ","         \n            </div>"],e||(e=t.slice(0)),Sc=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),r.map((function(t,e){return'<div class="color-item" title="'.concat(t,'" data-index="').concat(e,'" data-color="').concat(t,'">\n                    <div class="empty"></div>\n                    <div class="color-view" style="background-color: ').concat(t,'"></div>\n                </div>')})),n.edit?'<div class="add-color-item">+</div>':fe)}},{key:"refresh",value:function(){this.load()}},{key:"addColor",value:function(t){this.dispatch("addCurrentColor",t),this.refresh()}},{key:Mi("changeCurrentColorSets"),value:function(){this.refresh()}},{key:Mi("initColor"),value:function(){this.refresh()}},{key:bo("$colorSetsChooseButton"),value:function(t){this.emit("toggleColorChooser")}},{key:jo("$colorSetsColorList"),value:function(t){if(t.preventDefault(),this.read("getCurrentColorSets").edit){var e=new no(t.target).closest("color-item");if(e){var n=parseInt(e.attr("data-index"));this.emit("showContextMenu",t,n)}else this.emit("showContextMenu",t)}}},{key:bo("$colorSetsColorList .add-color-item"),value:function(t){this.addColor(this.read("toColor"))}},{key:bo("$colorSetsColorList .color-item"),value:function(t,e){this.dispatch("changeColor",e.attr("data-color"))}}])&&Ec(e.prototype,n),r&&Ec(e,r),i}(Ai);function Ac(t){return(Ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uc(t,e){return(Uc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fc(t);if(e){var o=Fc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nc(this,n)}}function Nc(t,e){return!e||"object"!==Ac(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fc(t){return(Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uc(t,e)}(i,t);var e,n,r,o=Hc(i);function i(){return Vc(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n            <ul class="colorsets-contextmenu">\n                <li class="menu-item small-hide" data-type="remove-color">Remove color</li>\n                <li class="menu-item small-hide" data-type="remove-all-to-the-right">Remove all to the right</li>\n                <li class="menu-item" data-type="clear-palette">Clear palette</li>\n            </ul>\n        '}},{key:"show",value:function(t,e){var n=Zo.pos(t);this.$el.px("top",n.clientY-10),this.$el.px("left",n.clientX),this.$el.addClass("show"),this.selectedColorIndex=e,De(this.selectedColorIndex)?this.$el.addClass("small"):this.$el.removeClass("small")}},{key:"hide",value:function(){this.$el.removeClass("show")}},{key:"runCommand",value:function(t){switch(t){case"remove-color":this.dispatch("removeCurrentColor",this.selectedColorIndex);break;case"remove-all-to-the-right":this.dispatch("removeCurrentColorToTheRight",this.selectedColorIndex);break;case"clear-palette":this.dispatch("clearPalette")}}},{key:Mi("showContextMenu"),value:function(t,e){this.show(t,e)}},{key:bo("$el .menu-item"),value:function(t,e){t.preventDefault(),this.runCommand(e.attr("data-type")),this.hide()}}])&&Lc(e.prototype,n),r&&Lc(e,r),i}(Ai);function zc(t){return(zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wc(t,e){return(Wc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jc(t);if(e){var o=Jc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kc(this,n)}}function Kc(t,e){return!e||"object"!==zc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jc(t){return(Jc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wc(t,e)}(i,t);var e,n,r,o=qc(i);function i(){return Xc(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <ColorWheel />\n                <div class="control">\n                    <Value />\n                    <Opacity />\n                    <div class="empty"></div>\n                    <ColorView />\n                </div>\n                <Information />\n                <CurrentColorSets />\n                <ColorSetsChooser >\n                <ContextMenu />\n            </div> \n        '}},{key:"components",value:function(){return{Value:Eu,Opacity:Nu,ColorView:Ku,ColorWheel:uc,Information:gc,CurrentColorSets:Mc,ColorSetsChooser:Pc,ContextMenu:Gc}}}])&&Yc(e.prototype,n),r&&Yc(e,r),i}(au);function Qc(t){return(Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function el(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nl(t,e,n){return(nl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=al(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function rl(t,e){return(rl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ol(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=al(t);if(e){var o=al(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return il(this,n)}}function il(t,e){return!e||"object"!==Qc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function al(t){return(al=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ul=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rl(t,e)}(i,t);var e,n,r,o=ol(i);function i(){return tl(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){nl(al(i.prototype),"initialize",this).call(this),this.minValue=0,this.maxValue=360}},{key:"template",value:function(){return'\n            <div class="hue">\n                <div ref="$container" class="hue-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);!0!==this.setColorUI(e/100*this.maxValue)&&this.changeColor({h:e/100*this.maxValue,type:"hsv"})}}])&&el(e.prototype,n),r&&el(e,r),i}(Ou);function cl(t){return(cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ll(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fl(t,e){return(fl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vl(t);if(e){var o=vl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pl(this,n)}}function pl(t,e){return!e||"object"!==cl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vl(t){return(vl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fl(t,e)}(i,t);var e,n,r,o=hl(i);function i(){return ll(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n        <div class="color-panel">\n            <div ref="$saturation" class="saturation">\n                <div ref="$value" class="value">\n                    <div ref="$drag_pointer" class="drag-pointer" data-axis-value="all">\n                      <div ref="$left_saturation" class="left-saturation" data-axis-value="saturation"></div>\n                      <div ref="$right_saturation" class="right-saturation" data-axis-value="saturation"></div>\n                      <div ref="$top_value" class="top-value" data-axis-value="value"></div>\n                      <div ref="$bottom_value" class="bottom-value" data-axis-value="value"></div>\n                    </div>\n                </div>\n            </div>        \n        </div>        \n        '}},{key:"setBackgroundColor",value:function(t){this.$el.css("background-color",t)}},{key:"refresh",value:function(){this.setColorUI()}},{key:"calculateSV",value:function(){var t=this.drag_pointer_pos||{x:0,y:0},e=this.$el.width(),n=this.$el.height(),r=t.x/e,o=(n-t.y)/n;this.dispatch("changeColor",{type:"hsv",s:r,v:o})}},{key:"setColorUI",value:function(){var t=this.$el.width()*this.$store.hsv.s,e=this.$el.height()*(1-this.$store.hsv.v);this.refs.$drag_pointer.px("left",t),this.refs.$drag_pointer.px("top",e),this.drag_pointer_pos={x:t,y:e},this.setBackgroundColor(this.read("getHueColor"))}},{key:"setMainColor",value:function(t){var e=this.$el.offset(),n=this.$el.contentWidth(),r=this.$el.contentHeight(),o=Zo.pos(t).pageX-e.left,i=Zo.pos(t).pageY-e.top;o<0?o=0:o>n&&(o=n),i<0?i=0:i>r&&(i=r),this.refs.$drag_pointer.px("left",o),this.refs.$drag_pointer.px("top",i),this.drag_pointer_pos={x:o,y:i},this.calculateSV()}},{key:"setSubColor",value:function(t){var e=t.pageX,n=t.pageY,r=e-this.x,o=n-this.y,i=this.$el.contentWidth(),a=this.$el.contentHeight(),u=Kr.parse(this.refs.$drag_pointer.css("left")).value,c=Kr.parse(this.refs.$drag_pointer.css("top")).value;"saturation"===this.axis?u+=r:"value"===this.axis&&(c+=o),u<0?u=0:u>i&&(u=i),c<0?c=0:c>a&&(c=a),this.refs.$drag_pointer.px("left",u),this.refs.$drag_pointer.px("top",c),this.drag_pointer_pos={x:u,y:c},this.x=e,this.y=n,this.calculateSV()}},{key:Mi("changeColor"),value:function(){this.refresh()}},{key:Mi("initColor"),value:function(){this.refresh()}},{key:Do("document"),value:function(t){this.isDown=!1}},{key:Bo("document"),value:function(t){this.isDown&&("saturation"===this.axis||"value"===this.axis?this.setSubColor(t):this.setMainColor(t))}},{key:Io(),value:function(t){this.isDown=!0,this.axis=new no(t.target).attr("data-axis-value"),this.x=t.pageX,this.y=t.pageY,"saturation"===this.axis||"value"===this.axis?this.setSubColor(t):this.setMainColor(t)}},{key:Do(),value:function(t){this.isDown=!1}}])&&sl(e.prototype,n),r&&sl(e,r),i}(Ai),yl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return function(n){var r=1/t;return"start"==e?r*Math.ceil(n/r):"end"==e?r*Math.floor(n/r):void 0}},gl={"ease-out-elastic":function(t,e,n,r){return Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},"cubic-bezier":function(t,e,n,r){return st(0,e,0,r)},step:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return yl(t,e)},"step-start":function(t){return yl(1,"start")(t)},"step-end":function(t){return yl(1,"end")(t)}};[[0,0,1,1,"linear"],[.25,.1,.25,1,"ease"],[.42,0,1,1,"ease-in"],[.47,0,.745,.715,"ease-in-sine"],[.55,.085,.68,.53,"ease-in-quad"],[.55,.055,.675,.19,"ease-in-cubic"],[.895,.03,.685,.22,"ease-in-quart"],[.755,.05,.855,.06,"ease-in-quint"],[.95,.05,.795,.035,"ease-in-expo"],[.6,.04,.98,.335,"ease-in-circ"],[.6,-.28,.735,.045,"ease-in-back"],[.42,0,.58,1,"ease-in-out"],[.445,.05,.55,.95,"ease-in-out-sine"],[.455,.03,.515,.955,"ease-in-out-quad"],[.645,.045,.355,1,"ease-in-out-cubic"],[.77,0,.175,1,"ease-in-out-quart"],[.86,0,.07,1,"ease-in-out-quint"],[1,0,0,1,"ease-in-out-expo"],[.785,.135,.15,.86,"ease-in-out-circ"],[.68,-.55,.265,1.55,"ease-in-out-back"],[0,0,.58,1,"ease-out"],[.39,.575,.565,1,"ease-out-sine"],[.25,.46,.45,.94,"ease-out-quad"],[.215,.61,.355,1,"ease-out-cubic"],[.165,.84,.44,1,"ease-out-quart"],[.23,1,.32,1,"ease-out-quint"],[.19,1,.22,1,"ease-out-expo"],[.075,.82,.165,1,"ease-out-circ"],[.175,.885,.32,1.275,"ease-out-back"]].forEach((function(t){gl[t[4]]=st(t[0],t[1],t[2],t[3])}));var bl;function ml(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kl(t){var e=t;return"normal"==e["background-blend-mode"]&&delete e["background-blend-mode"],"normal"==e["mix-blend-mode"]&&delete e["mix-blend-mode"],"auto"==e["background-size"]&&delete e["background-size"],"center center"==e["background-position"]&&delete e["background-position"],1==It(e.opacity)&&delete e.opacity,0==It(e.left)&&delete e.left,0==It(e.top)&&delete e.top,"none"==e.transform&&delete e.transform,"float"==e["transform-style"]&&delete e["transform-style"],"none"==e["clip-path"]&&delete e["clip-path"],e}var wl={position:1,left:2,top:2,right:2,bottom:2,width:3,height:3,"font-size":4,"font-family":4,opacity:10,"border-radius":10,"box-shadow":15,"text-shadow":15,filter:15,"background-clip":50,"-webkit-background-clip":50,"background-repeat":100,"background-blend-mode":100,"background-image":100,"background-size":100,"background-position":100,transform:1e3},Ol=function(t,e){var n=wl[t]||Number.MAX_SAFE_INTEGER,r=wl[e]||Number.MAX_SAFE_INTEGER;return n==r?0:n<r?-1:1};function $l(t){t=kl(t);var e=Object.keys(t);e.sort(Ol);var n={};return e.forEach((function(e){n[e]=t[e]})),n}function xl(t){var e=$l(t);return Object.keys(e).filter((function(t){return!!e[t]})).map((function(t){return"".concat(t,": ").concat(e[t])})).join(";")}ml(bl={},"center",!0),ml(bl,"top",!0),ml(bl,"left",!0),ml(bl,"right",!0),ml(bl,"bottom",!0);function Cl(t){return(Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pl(t,e){return(Pl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=El(t);if(e){var o=El(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rl(this,n)}}function Rl(t,e){return!e||"object"!==Cl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function El(t){return(El=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pl(t,e)}(i,t);var e,n,r,o=_l(i);function i(){return jl(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"isAttribute",value:function(){return!0}},{key:"toCSS",value:function(){return{}}},{key:"toString",value:function(){return xl(this.toCSS())}}])&&Sl(e.prototype,n),r&&Sl(e,r),i}(Xi);function Il(t){return(Il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bl(Object(n),!0).forEach((function(e){Ml(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ml(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Al(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ll(t,e,n){return(Ll="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ul(t,e){return(Ul=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fl(t);if(e){var o=Fl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nl(this,n)}}function Nl(t,e){return!e||"object"!==Il(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fl(t){return(Fl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ul(t,e)}(i,t);var e,n,r,o=Hl(i);function i(){return Al(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ll(Fl(i.prototype),"getDefaultObject",this).call(this,Dl({itemType:"image-resource",type:"image"},t))}},{key:"isGradient",value:function(){return!1}},{key:"isLinear",value:function(){return!1}},{key:"isRadial",value:function(){return!1}},{key:"isConic",value:function(){return!1}},{key:"isStatic",value:function(){return!1}},{key:"isImage",value:function(){return!1}},{key:"hasAngle",value:function(){return!1}},{key:"isUrl",value:function(){return!1}},{key:"isFile",value:function(){return!1}},{key:"isAttribute",value:function(){return!0}},{key:"toString",value:function(){return"none"}}])&&Vl(e.prototype,n),r&&Vl(e,r),i}(Tl);function zl(t){return(zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wl(t,e,n){return(Wl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ql(t,e){return(ql=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zl(t);if(e){var o=Zl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jl(this,n)}}function Jl(t,e){return!e||"object"!==zl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zl(t){return(Zl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ql=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ql(t,e)}(i,t);var e,n,r,o=Kl(i);function i(){return Xl(this,i),o.apply(this,arguments)}return e=i,r=[{key:"createByPercent",value:function(t,e){if(t.length)if(e<t[0].percent)t[0].index=1,t.push(new i({index:0,color:t[0].color,percent:e}));else{var n=t.length-1;if(t[n].percent<e){var r=t[n].color,o=t[n].index+1;t.push(new i({index:o,color:r,percent:e}))}else for(var a=0,u=t.length-1;a<u;a++){var c=t[a],l=t[a+1];c.percent<=e&&e<=l.percent&&(r=Rr.mix(c.color,l.color,(e-c.percent)/(l.percent-c.percent),"rgb"),t.push(new i({index:c.index+1,color:r,percent:e})))}}else t.push(new i({color:"rgba(216,216,216, 0)",percent:e,index:0})),t.push(new i({color:"rgba(216,216,216, 0)",percent:100,index:100}));i.sort(t)}},{key:"randomColor",value:function(t){t.forEach((function(t,e){t.color=Rr.randomRGBA()}))}},{key:"random",value:function(t){t.forEach((function(t,e){t.color=Rr.random()}))}},{key:"shuffle",value:function(t){var e=t.map((function(t){return t.color}));e.sort((function(){return Math.random()-.5})),t.forEach((function(t,n){t.color=e[n]}))}},{key:"moveRight",value:function(t){var e=t.map((function(t){return t.color})),n=e.length;t.forEach((function(t,r){var o=r-1;o<0&&(o+=n),t.color=e[o%n]}))}},{key:"moveLeft",value:function(t){var e=t.map((function(t){return t.color})),n=e.length;t.forEach((function(t,r){var o=r+1;t.color=e[o%n]}))}},{key:"reverse",value:function(t){var e=t.map((function(t){return t.color})),n=e.length;t.forEach((function(t,r){var o=n-r-1;t.color=e[o%n]}))}},{key:"space",value:function(t){var e=100/(t.length-1);t.forEach((function(t,n){t.percent=n*e,t.unit="%"}))}},{key:"round",value:function(t){var e=100/(t.length+1);t.forEach((function(t,n){t.percent=(n+1)*e,t.unit="%"}))}},{key:"roundLeft",value:function(t){var e=100/t.length;t.forEach((function(t,n){t.percent=n*e,t.unit="%"}))}},{key:"roundRight",value:function(t){var e=100/t.length;t.forEach((function(t,n){t.percent=(n+1)*e,t.unit="%"}))}},{key:"roundRightRepeat",value:function(t){var e=t.length,n=50/e;t.forEach((function(t,e){t.percent=50+e*n,t.unit="%"}))}},{key:"roundLeftRepeat",value:function(t){var e=50/t.length;t.forEach((function(t,n){t.percent=(n+1)*e,t.unit="%"}))}},{key:"sort",value:function(t){t.sort((function(t,e){return t.percent===e.percent?t.index===e.index?0:t.index>e.index?1:-1:t.percent>e.percent?1:-1})),t.forEach((function(t,e){t.index=100*e}))}},{key:"select",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;e&&t.forEach((function(t){t.selected=t.id===e}));var n=t.filter((function(t){return t.selected}));n.length||t[0]&&(t[0].selected=!0)}}],(n=[{key:"getDefaultObject",value:function(){return Wl(Zl(i.prototype),"getDefaultObject",this).call(this,{cut:!1,percent:0,unit:"%",px:0,em:0,color:"rgba(0, 0, 0, 0)",selected:!1,prevColorStep:null})}},{key:"copy",value:function(){var t=this.json;return new i({cut:t.cut,percent:t.percent,unit:t.unit,px:t.px,em:t.em,color:t.color,prevColorStep:t.prevColorStep})}},{key:"toJSON",value:function(){return this.attrs("color","cut","em","index","lock","percent","prevColorStep","px","selected","unit","visible")}},{key:"on",value:function(){this.json.cut=!0}},{key:"off",value:function(){this.json.cut=!1}},{key:"toggle",value:function(){this.json.cut=!this.json.cut}},{key:"changeUnit",value:function(t,e,n){this.json.unit=t,this.json[t]=e,this.reset(this.getUnitValue(n))}},{key:"getUnit",value:function(){return"%"==this.json.unit?"percent":this.json.unit}},{key:"getUnitValue",value:function(t){return this.isPX?{px:this.json.px,percent:+Kr.px(this.json.px).toPercent(t),em:+Kr.px(this.json.px).toEm(t)}:this.isEm?{em:this.json.em,percent:+Kr.em(this.json.em).toPercent(t),px:+Kr.em(this.json.em).toPx(t)}:{percent:this.json.percent,px:+Kr.percent(this.json.percent).toPx(t),em:+Kr.percent(this.json.percent).toEm(t)}}},{key:"add",value:function(t){var e=this.getUnit();return this.json[e]+=+t,this}},{key:"sub",value:function(t){var e=this.getUnit();return this.json[e]-=+t,this}},{key:"mul",value:function(t){var e=this.getUnit();return this.json[e]*=+t,this}},{key:"div",value:function(t){var e=this.getUnit();return this.json[e]/=+t,this}},{key:"mod",value:function(t){var e=this.getUnit();return this.json[e]%=+t,this}},{key:"isPx",get:function(){return"px"==this.json.unit}},{key:"isPercent",get:function(){return"%"==this.json.unit||"percent"===this.json.unit}},{key:"isEm",get:function(){return"em"==this.json.unit}},{key:"toLength",value:function(t){return Kr.parse(this.json)}},{key:"getPrevLength",value:function(){return this.json.prevColorStep?this.json.prevColorStep.toLength():fe}},{key:"toString",value:function(){return"".concat(this.json.color," ").concat(this.json.cut?this.getPrevLength():fe," ").concat(this.toLength())}},{key:"reset",value:function(t){Wl(Zl(i.prototype),"reset",this).call(this,t),this.parent()&&this.parent().sortColorStep()}}])&&Yl(e.prototype,n),r&&Yl(e,r),i}(Xi);function ts(t){return(ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function es(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ns(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?es(Object(n),!0).forEach((function(e){rs(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):es(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function os(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function is(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function as(t,e,n){return(as="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ss(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function us(t,e){return(us=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ss(t);if(e){var o=ss(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ls(this,n)}}function ls(t,e){return!e||"object"!==ts(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ss(t){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fs={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},hs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&us(t,e)}(i,t);var e,n,r,o=cs(i);function i(){return os(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"isGradient",value:function(){return!0}},{key:"toString",value:function(){return"none"}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return as(ss(i.prototype),"getDefaultObject",this).call(this,ns({type:"gradient",colorsteps:[]},t))}},{key:"toJSON",value:function(){return this.attrs("itemType","type","lock","visible","colorsteps")}},{key:"convert",value:function(t){return(t=as(ss(i.prototype),"convert",this).call(this,t)).colorsteps=t.colorsteps.map((function(t){return new Ql(t)})),t}},{key:"calculateAngle",value:function(){var t=this.json.angle;return De(fs[t])?t:fs[t]||0}},{key:"addColorStep",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.json.colorsteps.push(t),e&&this.sortColorStep(),t}},{key:"insertColorStep",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(216,216,216,0)",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(216,216,216,1)",r=this.colorsteps;if(r.length){if(t<r[0].percent)return r[0].index=1,void this.addColorStep(new Ql({index:0,color:r[0].color,percent:t}));var o=r.length-1;if(r[o].percent<t){var i=r[o].color,a=r[o].index+1;this.addColorStep(new Ql({index:a,color:i,percent:t}))}else for(var u=0,c=r.length-1;u<c;u++){var l=r[u],s=r[u+1];if(l.percent<=t&&t<=s.percent)return i=Rr.mix(l.color,s.color,(t-l.percent)/(s.percent-l.percent),"rgb"),void this.addColorStep(new Ql({index:l.index+1,color:i,percent:t}))}}else this.addColorStepList([new Ql({color:e,percent:t,index:0}),new Ql({color:n,percent:100,index:100})])}},{key:"sortColorStep",value:function(){var t=this.colorsteps;t.sort((function(t,e){return t.percent>e.percent?1:t.percent<e.percent?-1:t.percent==e.percent?t.index===e.index?0:t.index>e.index?1:-1:void 0})),t.forEach((function(t,e){t.index=100*e}))}},{key:"addColorStepList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){t.addColorStep(e,!1)})),this.sortColorStep()}},{key:"getColorStep",value:function(t){return this.json.colorsteps.filter((function(e){return e.id==t}))[0]}},{key:"copyColorSteps",value:function(){return this.json.colorsteps.map((function(t){return t.copy()}))}},{key:"clear",value:function(){arguments.length?this.json.colorsteps.splice(+(arguments.length<=0?void 0:arguments[0]),1):this.json.colorsteps=[]}},{key:"colorsteps",get:function(){return this.json.colorsteps}},{key:"getColorString",value:function(){var t=this.colorsteps;return t.length?t.map((function(e,n){return e.prevColorStep=e.cut&&n>0?t[n-1]:null,e})).map((function(t){return"".concat(t)})).join(","):fe}}])&&is(e.prototype,n),r&&is(e,r),i}(Gl);function ps(t){return(ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ds(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vs(Object(n),!0).forEach((function(e){ys(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ys(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ms(t,e,n){return(ms="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ks(t,e){return(ks=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ws(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$s(t);if(e){var o=$s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Os(this,n)}}function Os(t,e){return!e||"object"!==ps(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $s(t){return($s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xs={0:"to top",45:"to top right",90:"to right",135:"to bottom right",180:"to bottom",225:"to bottom left",270:"to left",315:"to top left"},Cs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ks(t,e)}(i,t);var e,n,r,o=ws(i);function i(){return gs(this,i),o.apply(this,arguments)}return e=i,r=[{key:"toLinearGradient",value:function(t){return 0===t.length?"none":new i({angle:"to right",colorsteps:t})+""}}],(n=[{key:"getDefaultObject",value:function(t){return ms($s(i.prototype),"getDefaultObject",this).call(this,ds({type:"linear-gradient",angle:0,colorsteps:[new Ql({color:"yellow",percent:0,index:0,selected:!0}),new Ql({color:"red",percent:100,index:1})]},t))}},{key:"toJSON",value:function(){return ds(ds({},ms($s(i.prototype),"toJSON",this).call(this)),this.attrs("angle"))}},{key:"isLinear",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"copy",value:function(){return new i({angle:this.json.angle,colorsteps:this.copyColorSteps()})}},{key:"toString",value:function(){var t=this.getColorString(),e=fe;return Fe(e=this.json.angle)&&(e=xs["".concat(e)]||e),Fe(e)&&(e="".concat(e=e>360?e%360:e,"deg")),"".concat(this.json.type,"(").concat(e,", ").concat(t,")")}}])&&bs(e.prototype,n),r&&bs(e,r),i}(hs);function js(t){return(js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ss(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ps(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _s(t,e,n){return(_s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Is(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Rs(t,e){return(Rs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Es(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Is(t);if(e){var o=Is(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ts(this,n)}}function Ts(t,e){return!e||"object"!==js(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Is(t){return(Is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rs(t,e)}(i,t);var e,n,r,o=Es(i);function i(){return Ss(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){_s(Is(i.prototype),"initialize",this).call(this),this.minValue=0,this.maxValue=360,this.hueScaleDist=.05}},{key:"template",value:function(){return'\n            <div class="hue-scale">\n                <div ref="$container" class="hue-scale-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"getCalculatedDist",value:function(t){var e=t?this.getMousePosition(t):this.getCurrent(this.getDefaultValue()/this.maxValue);return this.getDist(e)}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);!0!==this.setColorUI(e/100)&&this.changeColor({h:360*(this.minValue+this.fullDist*(e/100)),type:"hsv"})}},{key:"setColorUI",value:function(t){var e;if(t){if(e=this.minValue+t*this.fullDist,this.lastP===e)return!0;this.lastP=e}else{if(e=this.getDefaultValue()/360,this.lastP===e)return!0;this.lastP=e;var n=e+.05,r=e-.05;if(n>1)n=1,r=1-2*this.hueScaleDist;else if(r<0){var o=Math.abs(r);r=0,n+=o}var i=Ir.getHueScale(e,r,n);this.list=i;var a=i[0].start,u=i[i.length-1].start;this.minValue=a,this.maxValue=u;var c=this.maxValue-this.minValue;this.fullDist=c;var l=i.map((function(t){return{color:t.rgb,percent:(t.start-a)/c*100,unit:"%"}}));this.refs.$container.css("background-image",Cs.toLinearGradient(l))}e<=this.minValue?(e=this.minValue,this.refs.$bar.addClass("first").removeClass("last")):e>=this.maxValue?(e=this.maxValue,this.refs.$bar.addClass("last").removeClass("first")):this.refs.$bar.removeClass("last").removeClass("first"),this.setMousePosition(this.getMaxDist()*((e-this.minValue)/this.fullDist))}}])&&Ps(e.prototype,n),r&&Ps(e,r),i}(Ou);function Ds(t){return(Ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ms(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function As(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vs(t,e){return(Vs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ls(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hs(t);if(e){var o=Hs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Us(this,n)}}function Us(t,e){return!e||"object"!==Ds(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hs(t){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ns=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vs(t,e)}(i,t);var e,n,r,o=Ls(i);function i(){return Ms(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'<div class=\'colorpicker-body\'>\n            <Palette />\n            <div class="control">\n                <Hue />\n                <HueScale />\n                <Opacity />\n                <div class="empty"></div>\n                <ColorView />\n            </div>\n            <Information />\n            <CurrentColorSets />\n            <ColorSetsChooser />\n            <ContextMenu />\n        </div>'}},{key:"components",value:function(){return{Hue:ul,HueScale:Bs,Opacity:Nu,ColorView:Ku,Palette:dl,Information:gc,CurrentColorSets:Mc,ColorSetsChooser:Pc,ContextMenu:Gc}}}])&&As(e.prototype,n),r&&As(e,r),i}(au);function Fs(t){return(Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xs(t,e){return(Xs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ys(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qs(t);if(e){var o=qs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ws(this,n)}}function Ws(t,e){return!e||"object"!==Fs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qs(t){return(qs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ks=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xs(t,e)}(i,t);var e,n,r,o=Ys(i);function i(){return Gs(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <Palette />\n                <div class=\"control\">\n                    <Hue />\n                    <Opacity />\n                </div>\n            </div>\n        "}},{key:"components",value:function(){return{Hue:ul,Opacity:Nu,Palette:dl}}}])&&zs(e.prototype,n),r&&zs(e,r),i}(au);function Js(t){return(Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tf(t,e){return(tf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ef(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rf(t);if(e){var o=rf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nf(this,n)}}function nf(t,e){return!e||"object"!==Js(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rf(t){return(rf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var of=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tf(t,e)}(i,t);var e,n,r,o=ef(i);function i(){return Zs(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getMaxDist",value:function(){return this.refs.$container.height()}},{key:"setMousePosition",value:function(t){this.refs.$bar.px("top",t)}},{key:"getMousePosition",value:function(t){return Zo.pos(t).pageY}},{key:"getMinPosition",value:function(){return this.refs.$container.offset().top}},{key:"getCalculatedDist",value:function(t){var e=t?this.getMousePosition(t):this.getCurrent(this.getDefaultValue()/this.maxValue);return 100-this.getDist(e)}},{key:"setColorUI",value:function(t){(t=t||this.getDefaultValue())<=this.minValue?this.refs.$bar.addClass("first").removeClass("last"):t>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first");var e=1-(t||0)/this.maxValue;this.setMousePosition(this.getMaxDist()*e)}}])&&Qs(e.prototype,n),r&&Qs(e,r),i}(Ou);function af(t){return(af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lf(t,e,n){return(lf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pf(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function sf(t,e){return(sf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ff(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pf(t);if(e){var o=pf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hf(this,n)}}function hf(t,e){return!e||"object"!==af(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pf(t){return(pf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sf(t,e)}(i,t);var e,n,r,o=ff(i);function i(){return uf(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){lf(pf(i.prototype),"initialize",this).call(this),this.minValue=0,this.maxValue=360}},{key:"template",value:function(){return'\n            <div class="hue">\n                <div ref="$container" class="hue-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({h:e/100*this.maxValue,type:"hsv"})}}])&&cf(e.prototype,n),r&&cf(e,r),i}(of);function df(t){return(df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kf(t,e,n){return(kf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xf(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function wf(t,e){return(wf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Of(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xf(t);if(e){var o=xf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $f(this,n)}}function $f(t,e){return!e||"object"!==df(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xf(t){return(xf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wf(t,e)}(i,t);var e,n,r,o=Of(i);function i(){return bf(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n        <div class="opacity">\n            <div ref="$container" class="opacity-container">\n                <div ref="$colorbar" class="color-bar"></div>\n                <div ref="$bar" class="drag-bar2"></div>\n            </div>\n        </div>\n        '}},{key:"refresh",value:function(){kf(xf(i.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yf(Object(n),!0).forEach((function(e){gf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.$store.rgb);t.a=0;var e=Rr.format(t,"rgb");t.a=1;var n=Rr.format(t,"rgb");this.refs.$colorbar.css("background","linear-gradient(to top, "+e+", "+n+")")}},{key:"getDefaultValue",value:function(){return this.$store.alpha}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({a:Math.floor(e)/100*this.maxValue})}}])&&mf(e.prototype,n),r&&mf(e,r),i}(of);function jf(t){return(jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _f(t,e){return(_f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tf(t);if(e){var o=Tf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ef(this,n)}}function Ef(t,e){return!e||"object"!==jf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tf(t){return(Tf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var If=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_f(t,e)}(i,t);var e,n,r,o=Rf(i);function i(){return Sf(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <Palette /><div class=\"control\"><Hue /><Opacity /></div>\n            </div>\n        "}},{key:"components",value:function(){return{Hue:vf,Opacity:Cf,Palette:dl}}}])&&Pf(e.prototype,n),r&&Pf(e,r),i}(au);function Bf(t){return(Bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Df(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Af(t,e,n){return(Af="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hf(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Vf(t,e){return(Vf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hf(t);if(e){var o=Hf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uf(this,n)}}function Uf(t,e){return!e||"object"!==Bf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hf(t){return(Hf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vf(t,e)}(i,t);var e,n,r,o=Lf(i);function i(){return Df(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){Af(Hf(i.prototype),"initialize",this).call(this),this.width=214,this.height=214,this.thinkness=16,this.half_thinkness=this.thinkness/2}},{key:"template",value:function(){return'<div class="wheel" data-type="ring">\n            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>\n            <div class="drag-pointer" ref="$drag_pointer"></div>\n        </div>'}},{key:"setColorUI",value:function(t){this.renderCanvas(),this.setHueColor(null,t)}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"setHueColor",value:function(t,e){var n=this.getRectangle(),r=n.minX,o=n.minY,i=n.radius,a=n.centerX,u=n.centerY,c=this.getCurrentXY(t,this.getDefaultValue(),i,a,u),l=rt((f=c.x)-a,(h=c.y)-u),s=this.getCurrentXY(null,l,i-this.half_thinkness,a,u),f=s.x,h=s.y;this.refs.$drag_pointer.px("left",f-r),this.refs.$drag_pointer.px("top",h-o),e||this.changeColor({type:"hsv",h:l})}}])&&Mf(e.prototype,n),r&&Mf(e,r),i}(uc);function Ff(t){return(Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xf(t,e){return(Xf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qf(t);if(e){var o=qf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wf(this,n)}}function Wf(t,e){return!e||"object"!==Ff(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qf(t){return(qf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xf(t,e)}(i,t);var e,n,r,o=Yf(i);function i(){return Gf(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <ColorRing />\n                <Palette />\n                <div class="control">\n                    <Value />\n                    <Opacity />\n                    <div class="empty"></div>\n                    <ColorView />\n                </div>\n                <Information />\n                <CurrentColorSets />\n                <ColorSetsChooser />\n                <ContextMenu />\n            </div>\n        '}},{key:"components",value:function(){return{Value:Eu,Opacity:Nu,ColorView:Ku,ColorRing:Nf,Palette:dl,Information:gc,CurrentColorSets:Mc,ColorSetsChooser:Pc,ContextMenu:Gc}}}])&&zf(e.prototype,n),r&&zf(e,r),i}(au);function Jf(t){return(Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function th(t,e){return(th=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function eh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rh(t);if(e){var o=rh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nh(this,n)}}function nh(t,e){return!e||"object"!==Jf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rh(t){return(rh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&th(t,e)}(i,t);var e,n,r,o=eh(i);function i(){return Zf(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <palette />\n                <div class=\"control\">\n                    <Hue />\n                    <Opacity />\n                </div>\n                <information />\n                <currentColorSets />\n                <colorSetsChooser />\n                <contextMenu />\n            </div>\n        "}},{key:"components",value:function(){return{Hue:vf,Opacity:Cf,Palette:dl,Information:gc,CurrentColorSets:Mc,ColorSetsChooser:Pc,ContextMenu:Gc}}}])&&Qf(e.prototype,n),r&&Qf(e,r),i}(au);function ih(t){return(ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ah(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ch(t,e){return(ch=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fh(t);if(e){var o=fh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sh(this,n)}}function sh(t,e){return!e||"object"!==ih(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fh(t){return(fh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ch(t,e)}(i,t);var e,n,r,o=lh(i);function i(){return ah(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <div class='color-tab' ref=\"$tab\">\n                    <div class='color-tab-header' ref=\"$tabHeader\">\n                        <div class='color-tab-item active' item-id=\"color\"><span >".concat(this.opt.tabTitle,'</span> Color</div>\n                        <div class=\'color-tab-item\' item-id="swatch">Swatch</div>\n                        <div class=\'color-tab-item\' item-id="colorset">Color Set</div>\n                    </div>\n                    <div class=\'color-tab-body\' ref="$tabBody">\n                        <div class=\'color-tab-content active\'  item-id="color">\n                            <ColorRing />\n                            <Palette />\n                            <div class="control">\n                                <Value />\n                                <Opacity />\n                                <div class="empty"></div>\n                                <ColorView />\n                            </div>\n                            <Information />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="swatch">\n                            <CurrentColorSets />\n                            <ContextMenu />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="colorset">\n                            <ColorSetsChooser />\n                        </div>                        \n                    </div>\n            </div>\n        ')}},{key:bo("$tabHeader .color-tab-item"),value:function(t,e){if(!e.hasClass("active")){var n;(n=this.refs.$tabHeader.$(".active"))&&n.removeClass("active"),e.addClass("active"),(n=this.refs.$tabBody.$(".active"))&&n.removeClass("active");var r=this.refs.$tabBody.$("[item-id='".concat(e.attr("item-id"),"']"));r&&r.addClass("active")}}},{key:"components",value:function(){return{Value:Eu,Opacity:Nu,ColorView:Ku,ColorRing:Nf,Palette:dl,Information:gc,CurrentColorSets:Mc,ColorSetsChooser:Pc,ContextMenu:Gc}}}])&&uh(e.prototype,n),r&&uh(e,r),i}(au);function ph(t){return(ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yh(t,e){return(yh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mh(t);if(e){var o=mh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bh(this,n)}}function bh(t,e){return!e||"object"!==ph(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mh(t){return(mh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yh(t,e)}(i,t);var e,n,r,o=gh(i);function i(){return vh(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <div class='color-tab xd' ref=\"$tab\">\n                    <div class='color-tab-header' ref=\"$tabHeader\">\n                        <div class='color-tab-item active' item-id=\"color\"><span >".concat(this.opt.tabTitle,'</span> Color</div>\n                        <div class=\'color-tab-item\' item-id="swatch">Swatch</div>\n                        <div class=\'color-tab-item\' item-id="colorset">Color Set</div>\n                    </div>\n                    <div class=\'color-tab-body\' ref="$tabBody">\n                        <div class=\'color-tab-content active\'  item-id="color">\n                            <palette />\n                            <div class="control">\n                                <Hue />\n                                <Opacity />\n                            </div>\n                            <information />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="swatch">\n                            <CurrentColorSets />\n                            <ContextMenu />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="colorset">\n                            <ColorSetsChooser />\n                        </div>                        \n                    </div>\n\n            </div>\n        ')}},{key:bo("$tabHeader .color-tab-item"),value:function(t,e){if(!e.hasClass("active")){var n;(n=this.refs.$tabHeader.$(".active"))&&n.removeClass("active"),e.addClass("active"),(n=this.refs.$tabBody.$(".active"))&&n.removeClass("active");var r=this.refs.$tabBody.$("[item-id='".concat(e.attr("item-id"),"']"));r&&r.addClass("active")}}},{key:"components",value:function(){return{Hue:vf,Opacity:Cf,Palette:dl,Information:gc,CurrentColorSets:Mc,ColorSetsChooser:Pc,ContextMenu:Gc}}}])&&dh(e.prototype,n),r&&dh(e,r),i}(au),wh={create:function(t){switch(t.type){case"macos":return new Zc(t);case"xd":return new oh(t);case"xd-tab":return new kh(t);case"ring":return new Kf(t);case"ring-tab":return new hh(t);case"mini":return new Ks(t);case"mini-vertical":return new If(t);case"sketch":case"palette":default:return new Ns(t)}},ColorPicker:Ns,ChromeDevToolColorPicker:Ns,MacOSColorPicker:Zc,RingColorPicker:Kf,MiniColorPicker:Ks,MiniVerticalColorPicker:If,XDColorPicker:oh};function Oh(t){return(Oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ch(t,e){return(Ch=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ph(t);if(e){var o=Ph(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sh(this,n)}}function Sh(t,e){return!e||"object"!==Oh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ph(t){return(Ph=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _h={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},Rh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ch(t,e)}(i,t);var e,n,r,o=jh(i);function i(){return $h(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n            <div class="predefined-angluar-group">\n                <button type="button" data-value="to right"></button>                          \n                <button type="button" data-value="to left"></button>                                                  \n                <button type="button" data-value="to top"></button>                            \n                <button type="button" data-value="to bottom"></button>                                        \n                <button type="button" data-value="to top right"></button>                                \n                <button type="button" data-value="to bottom right"></button>                                    \n                <button type="button" data-value="to bottom left"></button>\n                <button type="button" data-value="to top left"></button>\n            </div>\n        '}},{key:bo("$el button")+Uo,value:function(t){this.emit("changeGradientAngle",_h[t.$delegateTarget.attr("data-value")])}},{key:Mi("showGradientAngle"),value:function(){this.$el.show()}},{key:Mi("hideGradientAngle"),value:function(){this.$el.hide()}}])&&xh(e.prototype,n),r&&xh(e,r),i}(Ai);function Eh(t){return(Eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Th(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ih(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bh(t,e,n){return(Bh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vh(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Dh(t,e){return(Dh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Vh(t);if(e){var o=Vh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ah(this,n)}}function Ah(t,e){return!e||"object"!==Eh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vh(t){return(Vh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dh(t,e)}(i,t);var e,n,r,o=Mh(i);function i(){return Th(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){Bh(Vh(i.prototype),"initialize",this).call(this),this.angle=0}},{key:"template",value:function(){return'\n            <div class=\'drag-angle-rect\'>\n                <div class="drag-angle" ref="$dragAngle">\n                    <div class="angle-text">\n                      <span contenteditable=\'true\' ref="$angleText"></span>°\n                    </div>\n                    <div ref="$dragPointer" class="drag-pointer"></div>\n                </div>\n            </div>\n        '}},{key:"getCurrentXY",value:function(t,e,n,r,o){return t?fa.config.get("pos"):et(e,n,r,o)}},{key:"getRectangle",value:function(){var t=this.refs.$dragAngle.width(),e=this.refs.$dragAngle.height(),n=Math.floor(t/2*.7),r=this.refs.$dragAngle.offset(),o=r.left,i=r.top;return{minX:o,minY:i,width:t,height:e,radius:n,centerX:o+t/2,centerY:i+e/2}}},{key:"getDefaultValue",value:function(){return this.angle-90}},{key:"refreshAngleText",value:function(t){this.refs.$angleText.text(t)}},{key:"refreshUI",value:function(t){var e=this.getRectangle(),n=e.minX,r=e.minY,o=e.radius,i=e.centerX,a=e.centerY,u=this.getCurrentXY(t,this.getDefaultValue(),o,i,a),c=rt((s=u.x)-i,(f=u.y)-a),l=this.getCurrentXY(null,c,o,i,a),s=l.x,f=l.y;this.refs.$dragPointer.px("left",s-n),this.refs.$dragPointer.px("top",f-r);var h=K((c+90)%360,1e3);this.refreshAngleText(h),t&&this.setAngle(h)}},{key:"getKeyTarget",value:function(t){switch(t){case"ArrowDown":return"sub";case"ArrowUp":return"add"}}},{key:"modifyAngle",value:function(t,e){var n=this.getKeyTarget(t.key||t.code),r=Kr.deg(+e.text());return r.calculate(n,1),r}},{key:"updateAngle",value:function(t){this.angle=t,this.refreshUI(),this.setAngle(this.angle)}},{key:wo("$angleText")+Lo+Vo+Go+zo,value:function(t){var e=this.modifyAngle(t,this.refs.$angleText);return this.updateAngle(e.value),!1}},{key:Po("$angleText"),value:function(t){this.updateAngle(+this.refs.$angleText.text().trim())}},{key:"setAngle",value:function(t){this.emit("changeGradientAngle",t)}},{key:"move",value:function(){this.refreshUI(!0)}},{key:Io("$dragAngle")+No(),value:function(t){}},{key:Mi("showGradientAngle"),value:function(t){this.angle=t,this.refreshUI(),this.$el.show()}},{key:Mi("hideGradientAngle"),value:function(){this.$el.hide()}},{key:Mi("changeGradientAngle"),value:function(t){this.angle=t,this.refreshUI()}}])&&Ih(e.prototype,n),r&&Ih(e,r),i}(Ai);function Uh(t){return(Uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fh(t,e){return(Fh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xh(t);if(e){var o=Xh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zh(this,n)}}function zh(t,e){return!e||"object"!==Uh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xh(t){return(Xh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Yh,Wh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fh(t,e)}(i,t);var e,n,r,o=Gh(i);function i(){return Hh(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return' \n            <div class="predefined-angluar-group radial-position">\n                <button type="button" data-value="top"></button>                          \n                <button type="button" data-value="left"></button>                                                  \n                <button type="button" data-value="bottom"></button>                            \n                <button type="button" data-value="right"></button>                                        \n            </div>\n        '}},{key:bo("$el button"),value:function(t){var e=Kr.string(t.$delegateTarget.attr("data-value"));this.emit("changeGradientPosition",{radialPosition:e})}},{key:Mi("showGradientPosition"),value:function(){this.$el.show()}},{key:Mi("hideGradientPosition"),value:function(){this.$el.hide()}}])&&Nh(e.prototype,n),r&&Nh(e,r),i}(Ai);function qh(t){return(qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Jh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tp(t,e){return(tp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ep(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rp(t);if(e){var o=rp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return np(this,n)}}function np(t,e){return!e||"object"!==qh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rp(t){return(rp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function op(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ip=(op(Yh={},Wr.CENTER,[Wr.CENTER,Wr.CENTER]),op(Yh,Wr.RIGHT,[Wr.RIGHT,Wr.CENTER]),op(Yh,Wr.TOP,[Wr.CENTER,Wr.TOP]),op(Yh,Wr.LEFT,[Wr.LEFT,Wr.CENTER]),op(Yh,Wr.BOTTOM,[Wr.CENTER,Wr.BOTTOM]),Yh),ap=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tp(t,e)}(i,t);var e,n,r,o=ep(i);function i(){return Zh(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n        <div class="drag-position">\n            <div ref="$dragPointer" class="drag-pointer"></div>\n        </div>\n    '}},{key:"refresh",value:function(){this.refreshUI()}},{key:"getCurrentXY",value:function(t,e){if(t){var n=fa.config.get("pos");return[n.x,n.y]}var r=this.getRectangle(),o=r.minX,i=r.minY,a=r.maxX,u=r.maxY,c=r.width,l=r.height,s=e;return Le(s)&&ip[s]?s=ip[s]:Le(s)&&(s=s.split(he)),s=s.map((function(t,e){if(t==Wr.CENTER){if(0==e)return o+c/2;if(1==e)return i+l/2}else{if(t===Wr.LEFT)return o;if(t===Wr.RIGHT)return a;if(t===Wr.TOP)return i;if(t===Wr.BOTTOM)return u;if(0==e)return o+c*(+t/100);if(1==e)return i+l*(+t/100)}}))}},{key:"getRectangle",value:function(){var t=this.$el.width(),e=this.$el.height(),n=this.$el.offsetLeft(),r=this.$el.offsetTop();return{minX:n,minY:r,maxX:n+t,maxY:r+e,width:t,height:e}}},{key:"getDefaultValue",value:function(){return this.radialPosition||Wr.CENTER}},{key:"refreshUI",value:function(t){var e=this.getRectangle(),n=e.minX,r=e.minY,o=e.maxX,i=e.maxY,a=e.width,u=e.height,c=Kh(this.getCurrentXY(t,this.getDefaultValue()),2),l=c[0],s=c[1],f=(l=Math.max(Math.min(o,l),n))-n,h=(s=Math.max(Math.min(i,s),r))-r;this.refs.$dragPointer.px("left",f),this.refs.$dragPointer.px("top",h),t&&this.setRadialPosition([Kr.percent(Math.floor(f/a*100)),Kr.percent(Math.floor(h/u*100))])}},{key:"setRadialPosition",value:function(t){this.emit("changeGradientPosition",t)}},{key:"move",value:function(){this.refreshUI(!0)}},{key:Io()+No(),value:function(t){}},{key:Mi("showGradientPosition"),value:function(t){this.radialPosition=t,this.$el.show(),this.refresh()}},{key:Mi("hideGradientPosition"),value:function(){this.$el.hide()}}])&&Qh(e.prototype,n),r&&Qh(e,r),i}(Ai),up='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>',cp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2z"/></svg>',lp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>',sp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>',fp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>';function hp(t){return(hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pp(Object(n),!0).forEach((function(e){dp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yp(t){return function(t){if(Array.isArray(t))return mp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||bp(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||bp(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bp(t,e){if(t){if("string"==typeof t)return mp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mp(t,e):void 0}}function mp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Op(t,e,n){return(Op="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jp(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $p(t,e){return($p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jp(t);if(e){var o=jp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cp(this,n)}}function Cp(t,e){return!e||"object"!==hp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jp(t){return(jp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$p(t,e)}(i,t);var e,n,r,o=xp(i);function i(){return kp(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){Op(jp(i.prototype),"initialize",this).call(this),this.colorsteps=[new Ql({color:"yellow",percent:0,index:0}),new Ql({color:"red",percent:100,index:100})]}},{key:"components",value:function(){return{GradientAngle:Lh,PredefinedLinearGradientAngle:Rh,PredefinedRadialGradientPosition:Wh,GradientPosition:ap}}},{key:"template",value:function(){return'\n            <div class=\'vertical-colorstep-container\'>\n                <div class="sort-tools">\n                  <button type="button" ref="$left" title="move left"><-</button>                \n                  <button type="button" ref="$right" title="move right">-></button>\n                  <button type="button" ref="$reverse" title="reverse"><-></button>\n                  <button type="button" ref="$shuffle" title="shuffle">.o.</button>\n                  <button type="button" ref="$space" title="space">O--O</button>\n                  <button type="button" ref="$round" title="round">-OO-</button>\n                  <button type="button" ref="$roundLeft" title="round left">O-</button>\n                  <button type="button" ref="$roundLeftRepeat" title="round left for repeat">OO-</button>\n                  <button type="button" ref="$roundRight" title="round right">-O</button>\n                  <button type="button" ref="$roundRightRepeat" title="round right for repeat">-OO</button>\n                  <button type="button" ref="$random" title="change random rgb color">R</button>\n                  <button type="button" ref="$randomColor" title="change random rgb color with alpha">RA</button>\n                </div>\n                <div class=\'vertical-colorstep\' ref="$verticalColorstep">\n                    <div class=\'gradient-steps\'>\n                        <div class="hue-container" ref="$back"></div>            \n                        <div class="hue" ref="$steps">\n                            <div class=\'step-list\' ref="$stepList"></div>\n                        </div>\n                        <div class="color-list" ref="$colorList"></div>                        \n                    </div>\n                </div>\n                <div class=\'gradient-tools\'>\n                    <button type="button" class=\'guide-button\' ref="$cutOff"></button>\n                    <button type="button" class=\'guide-button cut\' ref="$cutOn"></button>\n                    <span ref="$radialGradientTool">\n                      <button type="button" class="radial-gradient-shape circle" data-value=\'circle\' ref=\'$circle\'></button>\n                      <button type="button" class="radial-gradient-shape ellipse" data-value=\'ellipse\' ref=\'$ellipse\'></button>\n                      <select ref="$selectRadialExtent">\n                        <option value="">none</option>\n                        <option value="closest-side">closest-side</option>\n                        <option value="closest-corner">closest-corner\t</option>\n                        <option value="farthest-side">farthest-side\t</option>\n                        <option value="farthest-corner">farthest-corner\t</option>\n                      </select>\n                    </span>\n                </div>           \n                <div class=\'gradient-editor\'>\n                  <div class=\'angle-editor\' ref=\'$angleEditor\'>\n                    <PredefinedLinearGradientAngle />     \n                    <GradientAngle />\n                  </div>\n                  <div class=\'position-editor\' ref=\'$positionEditor\'>\n                    <PredefinedRadialGradientPosition />\n                    <GradientPosition />\n                  </div>\n                </div>              \n            </div>\n        '}},{key:bo("$shuffle"),value:function(){Ql.shuffle(this.colorsteps),this.setColorUI(),this.updateColorStep()}},{key:bo("$space"),value:function(){Ql.space(this.colorsteps),this.setColorUI(),this.updateColorStep()}},{key:bo("$randomColor"),value:function(){Ql.randomColor(this.colorsteps),this.setColorUI(),this.updateColorStep()}},{key:bo("$random"),value:function(){Ql.random(this.colorsteps),this.setColorUI(),this.updateColorStep()}},{key:bo("$round"),value:function(){Ql.round(this.colorsteps),this.setColorUI(),this.updateColorStep()}},{key:bo("$roundLeft"),value:function(){Ql.roundLeft(this.colorsteps),this.setColorUI(),this.updateColorStep()}},{key:bo("$roundRight"),value:function(){Ql.roundRight(this.colorsteps),this.setColorUI(),this.updateColorStep()}},{key:bo("$roundLeftRepeat"),value:function(){Ql.roundLeftRepeat(this.colorsteps),this.setColorUI(),this.updateColorStep()}},{key:bo("$roundRightRepeat"),value:function(){Ql.roundRightRepeat(this.colorsteps),this.setColorUI(),this.updateColorStep()}},{key:bo("$reverse"),value:function(){Ql.reverse(this.colorsteps),this.setColorUI(),this.updateColorStep()}},{key:bo("$right"),value:function(){Ql.moveRight(this.colorsteps),this.setColorUI(),this.updateColorStep()}},{key:bo("$left"),value:function(){Ql.moveLeft(this.colorsteps),this.setColorUI(),this.updateColorStep()}},{key:"setColorSteps",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.colorsteps=t}},{key:"refresh",value:function(){this.refs.$verticalColorstep.px("width",fa.config.get("step.width")),this.setColorUI()}},{key:Mi("CHANGE_EDITOR","CHANGE_SELECTION"),value:function(){this.refresh()}},{key:"updateRadialShape",value:function(t){var e=gp(t.split(" "),2),n=e[0],r=e[1];"circle"===n?(this.refs.$circle.addClass("selected"),this.refs.$ellipse.removeClass("selected")):(this.refs.$circle.removeClass("selected"),this.refs.$ellipse.addClass("selected")),this.refs.$selectRadialExtent.val(r)}},{key:Mi("showGradientEditor"),value:function(t,e){if(this.$el.show(),"static-gradient"===this.gradientType&&"static-gradient"!==t.type?this.setColorSteps([new Ql({color:"yellow",percent:0,index:0,selected:!0}),new Ql({color:"red",percent:100,index:1})]):"static-gradient"!==this.gradientType&&"static-gradient"==t.type&&this.setColorSteps([new Ql({color:"red",percent:0,index:0,selected:!0})]),!this.colorsteps&&t.colorsteps&&this.setColorSteps(t.colorsteps),t.refresh&&(this.setColorSteps(t.colorsteps),this.refresh()),Ql.select(this.colorsteps,t.selectColorStepId),this.currentColorStep=this.colorsteps.filter((function(t){return t.selected}))[0],this.currentColorStep){switch(this.emit("selectColorStep",this.currentColorStep.color),this.gradientType=t.type,void 0!==t.angle&&(this.angle=t.angle),void 0!==t.radialPosition&&(this.radialPosition=t.radialPosition),this.gradientType){case"linear":case"linear-gradient":case"repeating-linear":case"repeating-linear-gradient":this.$el.show(),this.refs.$angleEditor.show("inline-block"),this.refs.$positionEditor.hide(),this.refs.$radialGradientTool.hide(),this.emit("showGradientAngle",this.angle);break;case"radial":case"radial-gradient":case"repeating-radial":case"repeating-radial-gradient":this.$el.show(),this.refs.$angleEditor.hide(),this.refs.$positionEditor.show("inline-block"),this.updateRadialShape(t.radialType||"ellipse"),this.refs.$radialGradientTool.show("inline-block"),this.emit("showGradientPosition",t.radialPosition||this.radialPosition||Wr.CENTER);break;case"conic":case"conic-gradient":case"repeating-conic":case"repeating-conic-gradient":this.$el.show(),this.refs.$angleEditor.show("inline-block"),this.refs.$positionEditor.show("inline-block"),this.refs.$radialGradientTool.hide(),this.emit("showGradientAngle",this.angle),this.emit("showGradientPosition",t.radialPosition||this.radialPosition||Wr.CENTER);break;default:this.$el.hide(),this.refs.$angleEditor.hide(),this.refs.$positionEditor.hide(),this.refs.$radialGradientTool.hide()}this.refresh(),e&&this.updateColorStep()}}},{key:Mi("selectFillPickerTab"),value:function(t){this.updateColorStep()}},{key:Mi("hideGradientEditor","hideBackgroundPropertyPopup","CHANGE_EDITOR","CHANGE_SELECTION"),value:function(){this.$el.hide()}},{key:"getStepPosition",value:function(t){var e=this.getMinMax(),n=e.min,r=e.max,o=this.refs.$steps.offset().left;return n-=o,r-=o,t.isPx?t.px:n+(r-n)*(t.percent/100)}},{key:"getUnitName",value:function(t){var e=t.unit||"percent";return[pe,ve].includes(e)?e:"percent"}},{key:"getUnitSelect",value:function(t){return"\n    <select class='unit' data-colorstep-id=\"".concat(t.id,"\">\n        <option value='percent' ").concat(t.isPercent?"selected":fe,">%</option>\n        <option value='px' ").concat(t.isPx?"selected":fe,">px</option>\n        <option value='em' ").concat(t.isEm?"selected":fe,">em</option>\n    </select>\n    ")}},{key:"getMaxValue",value:function(){return fa.config.get("step.width")||400}},{key:Xo("$stepList"),value:function(){var t=this;return this.colorsteps.map((function(e,n){var r=e.cut?"cut":fe;return"\n            <div \n                class='drag-bar ".concat(e.selected?"selected":fe,"' \n                id=\"").concat(e.id,'"\n                style="left: ').concat(t.getStepPosition(e),'px;"\n            >   \n                <div class="guide-step step ').concat(r,'" data-index="').concat(n,'" style=" border-color: ').concat(e.color,";background-color: ").concat(e.color,';"></div>\n            </div>\n        ')}))}},{key:Xo("$colorList"),value:function(){var t=this;return this.colorsteps.map((function(e,n){var r=e.cut?"cut":fe,o=e.getUnitValue(t.getMaxValue()),i=Math.floor(1e6*o.percent);return"\n            <div class='color-list-item ".concat(e.selected?"selected":fe,"' data-step-index=\"").concat(n,'" style="order: ').concat(i,'">   \n                <div class="guide-change ').concat(r,'" data-index="').concat(n,'"></div>            \n                <div class="guide-step step" data-index="').concat(n,'" >\n                  <div class="preview" style=" border-color: ').concat(e.color,";background-color: ").concat(e.color,';"></div>\n                </div>\n                <div class="guide-unit ').concat(e.getUnit(),'">\n                    <input type="number" class="percent" min="-100" max="100" step="0.1"  value="').concat(o.percent,'" data-index="').concat(n,'"  />\n                    <input type="number" class="px" min="-100" max="1000" step="1"  value="').concat(o.px,'" data-index="').concat(n,'"  />\n                    <input type="number" class="em" min="-100" max="500" step="0.1"  value="').concat(o.em,'" data-index="').concat(n,'"  />\n                    ').concat(t.getUnitSelect(e),'\n                </div>       \n                <div class=\'guide-tools\'>\n                  <button type="button" class="remove">').concat(fp,"</button>\n                </div>\n            </div>\n        ")}))}},{key:"refresh",value:function(){this.load(),this.setColorUI()}},{key:"setColorUI",value:function(){var t=yp(this.colorsteps);Ql.sort(t),this.refs.$stepList.css("background-image",Cs.toLinearGradient(t)),this.load("$stepList")}},{key:"getMinMax",value:function(){var t=this.refs.$steps.offsetLeft(),e=this.refs.$steps.width();return{min:t,max:t+e,width:e}}},{key:"getCurrent",value:function(){var t=this.getMinMax(),e=t.min,n=t.max,r=fa.config.get("pos").x;return Math.min(Math.max(e,r),n)}},{key:"refreshColorUI",value:function(t){var e=this.getMinMax(),n=e.min,r=e.max,o=this.getCurrent();if(this.currentStep){var i=Math.max(n,o)-this.refs.$steps.offsetLeft();fa.config.get("bodyEvent").ctrlKey&&(i=Math.floor(i)),this.currentStepBox.px("left",i);var a=r-n,u=Kr.px(i).toPercent(a).value,c=Kr.px(i).toEm(a).value;this.currentColorStep.reset({px:i,percent:u,em:c}),this.currentUnitPercent.val(u),this.currentUnitPx.val(i),this.currentUnitEm.val(c),this.updateColorStep(),this.setColorUI()}}},{key:bo("$back"),value:function(t){this.addStep(t)}},{key:"removeStep",value:function(t){var e=t.$delegateTarget.closest("drag-bar").attr("id");this.colorsteps=this.colorsteps.filter((function(t){return t.id!=e})),this.refresh(),this.updateColorStep()}},{key:"addStep",value:function(t){var e=this.getMinMax(),n=e.min,r=e.max,o=this.getCurrent(t),i=Math.floor((o-n)/(r-n)*100);Ql.createByPercent(this.colorsteps,i),this.refresh(),this.updateColorStep()}},{key:"getSortedStepList",value:function(){var t=this.refs.$stepList.$$(".drag-bar").map((function(t){return{id:t.attr("id"),x:t.cssFloat("left")}}));return t.sort((function(t,e){return t.x==e.x?0:t.x>e.x?1:-1})),t.map((function(t){return t.id}))}},{key:"selectStep",value:function(t){var e=this;if(this.currentColorStep){var n=t.$delegateTarget.parent();this.currentStepBox=this.currentStepBox||n;var r=this.refs.$stepList.$(".selected");r&&!r.is(this.currentStepBox)&&r.removeClass("selected"),this.colorsteps.forEach((function(t){t.selected=t.id===e.currentColorStep.id})),this.currentStepBox.addClass("selected"),this.setColorUI(),this.emit("selectColorStep",this.currentColorStep.color)}}},{key:"selectColorStep",value:function(t){var e=this;this.currentColorStep=this.colorsteps[t],this.currentColorStep&&(this.colorsteps.forEach((function(t){t.selected=t.id===e.currentColorStep.id})),this.setColorUI(),this.emit("selectColorStep",this.currentColorStep.color))}},{key:"getRadialType",value:function(){var t=this.refs.$circle.hasClass("selected")?"circle":"ellipse",e=this.refs.$selectRadialExtent.value;return"".concat(t," ").concat(e)}},{key:"updateColorStep",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=yp(this.colorsteps);Ql.sort(e),this.emit("changeColorStep",vp({colorsteps:e,angle:this.angle,radialPosition:this.radialPosition,radialType:this.getRadialType()},t))}},{key:bo("$steps .step"),value:function(t){t.shiftKey?this.removeStep(t):this.selectStep(t)}},{key:bo("$cutOff"),value:function(t){this.colorsteps.forEach((function(t){t.cut=!1})),this.setColorUI(),this.updateColorStep()}},{key:bo("$cutOn"),value:function(t){this.colorsteps.forEach((function(t){t.cut=!0})),this.setColorUI(),this.updateColorStep()}},{key:bo("$colorList .guide-change"),value:function(t){var e=+t.$delegateTarget.attr("data-index"),n=this.colorsteps[e];n&&(n.reset({cut:!n.cut}),t.$delegateTarget.toggleClass("cut",n.cut),this.setColorUI(),this.updateColorStep())}},{key:bo("$colorList .guide-step"),value:function(t){var e=+t.$delegateTarget.attr("data-index");this.selectColorStep(e)}},{key:So("$colorList .guide-unit select.unit"),value:function(t){var e=t.$delegateTarget.val(),n=t.$delegateTarget.attr("data-colorstep-id"),r=this.colorsteps.find((function(t){return t.id===n}));if(r){r.changeUnit(e,this.getMaxValue()),fa.send("CHANGE_COLORSTEP",r);var o=t.$delegateTarget.parent();console.log(o),o.removeClass("percent",pe,ve).addClass(r.getUnit())}}},{key:Po("$colorList input.percent"),value:function(t){var e=+t.$delegateTarget.val(),n=+t.$delegateTarget.attr("data-index"),r=this.colorsteps[n];r&&(r.changeUnit("percent",e,this.getMaxValue()),this.currentStepBox.px("left",r.px),this.currentUnitPx.val(r.px),this.currentUnitEm.val(r.em),this.updateColorStep(),this.setColorUI())}},{key:Po("$colorList input.px"),value:function(t){var e=+t.$delegateTarget.val(),n=+t.$delegateTarget.attr("data-index"),r=this.colorsteps[n];r&&(r.changeUnit("px",e,this.getMaxValue()),this.currentStepBox.px("left",r.px),this.currentUnitPercent.val(r.percent),this.currentUnitEm.val(r.em),this.updateColorStep(),this.setColorUI())}},{key:Po("$colorList input.em"),value:function(t){var e=+t.$delegateTarget.val(),n=+t.$delegateTarget.attr("data-index"),r=this.colorsteps[n];r&&(r.changeUnit("em",e,this.getMaxValue()),this.currentStepBox.px("left",r.px),this.currentUnitPercent.val(r.percent),this.currentUnitPx.val(r.px),this.updateColorStep(),this.setColorUI())}},{key:"end",value:function(){this.refs.$stepList&&this.refs.$stepList.removeClass("mode-drag")}},{key:"move",value:function(){this.refreshColorUI(!0),this.refs.$stepList.addClass("mode-drag")}},{key:Io("$steps .step")+Go+No()+Fo(),value:function(t){if(t.shiftKey)return this.removeStep(t),!1;this.xy=t.xy,this.currentStep=t.$delegateTarget;var e=+this.currentStep.attr("data-index");if(this.currentColorStep=this.colorsteps[e],this.currentColorStep){this.currentStepBox=this.currentStep.parent();var n=this.refs.$colorList.$('[data-step-index="'.concat(e,'"]'));this.currentUnit=n.$(".guide-unit"),this.currentUnitPercent=this.currentUnit.$(".percent"),this.currentUnitPx=this.currentUnit.$(".px"),this.currentUnitEm=this.currentUnit.$(".em"),this.currentStep&&this.selectStep(t)}}},{key:Mi("changeColorPicker"),value:function(t){this.currentColorStep&&(this.currentColorStep.reset({color:t}),this.refresh(),this.updateColorStep())}},{key:Mi("changeGradientAngle"),value:function(t){this.angle=t,this.updateColorStep()}},{key:Mi("changeGradientPosition"),value:function(t){this.radialPosition=t,this.updateColorStep()}},{key:bo("$circle"),value:function(t){this.refs.$circle.addClass("selected"),this.refs.$ellipse.removeClass("selected"),this.updateColorStep()}},{key:bo("$ellipse"),value:function(t){this.refs.$circle.removeClass("selected"),this.refs.$ellipse.addClass("selected"),this.updateColorStep()}},{key:So("$selectRadialExtent"),value:function(t){this.updateColorStep()}}])&&wp(e.prototype,n),r&&wp(e,r),i}(Ai);function Pp(t){return(Pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ep(t,e){return(Ep=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bp(t);if(e){var o=Bp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ip(this,n)}}function Ip(t,e){return!e||"object"!==Pp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bp(t){return(Bp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ep(t,e)}(i,t);var e,n,r,o=Tp(i);function i(){return _p(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"screenX",get:function(){return this.json.x}},{key:"screenY",get:function(){return this.json.y}},{key:"screenX2",get:function(){return Kr.px(this.screenX.value+this.json.width.value)}},{key:"screenY2",get:function(){return Kr.px(this.screenY.value+this.json.height.value)}},{key:"screenWidth",get:function(){return this.json.width}},{key:"screenHeight",get:function(){return this.json.height}},{key:"screenRect",get:function(){return{left:this.screenX,top:this.screenY,width:this.screenWidth,height:this.screenHeight}}},{key:"centerX",get:function(){var t=0;return 0!=this.json.width.value&&(t=Math.floor(this.json.width.value/2)),Kr.px(this.screenX.value+t)}},{key:"centerY",get:function(){var t=0;return 0!=this.json.height.value&&(t=Math.floor(this.json.height.value/2)),Kr.px(this.screenY.value+t)}},{key:"selected",get:function(){return fa.selection.check(this.id)}},{key:"selectedOne",get:function(){return fa.selection.checkOne(this.id)}},{key:"checkInArea",value:function(t){return!(0===t.width.value||0===t.height.value||t.x2.value<this.screenX.value||t.y2.value<this.screenY.value||t.x.value>this.screenX2.value||t.y.value>this.screenY2.value)}},{key:"toBoundCSS",value:function(){return{top:"".concat(this.json.y),left:"".concat(this.json.x),width:"".concat(this.json.width),height:"".concat(this.json.height)}}}])&&Rp(e.prototype,n),r&&Rp(e,r),i}(Xi);function Mp(t){return(Mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ap(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ap(Object(n),!0).forEach((function(e){Lp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ap(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Up(t){return function(t){if(Array.isArray(t))return Hp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Hp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Np(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gp(t,e,n){return(Gp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wp(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function zp(t,e){return(zp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wp(t);if(e){var o=Wp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yp(this,n)}}function Yp(t,e){return!e||"object"!==Mp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wp(t){return(Wp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zp(t,e)}(i,t);var e,n,r,o=Xp(i);function i(){return Np(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"add",value:function(t){if("artboard"==t.itemType)return Gp(Wp(i.prototype),"add",this).call(this,t);throw new Error("It is able to only artboard in project ")}},{key:"artboards",get:function(){return this.children.filter((function(t){return"artboard"===t.itemType}))}},{key:"artboard",get:function(){return this.artboards[0]}},{key:"layers",get:function(){var t=[];return this.artboards.forEach((function(e){t.push.apply(t,Up(e.allLayers))})),t}},{key:"allItems",get:function(){var t=[];return this.artboards.forEach((function(e){t.push.apply(t,[e].concat(Up(e.tree())))})),t}},{key:"traverse",value:function(t,e,n){var r=this;t.isAttribute()||(t.depth=e,n.push(t),t.children.forEach((function(t){r.traverse(t,e+1,n)})))}},{key:"tree",value:function(){var t=this,e=[];return this.artboards.forEach((function(n){t.traverse(n,1,e)})),e}},{key:"hasLayout",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"New Project"}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Gp(Wp(i.prototype),"getDefaultObject",this).call(this,Vp({itemType:"project"},t))}}])&&Fp(e.prototype,n),r&&Fp(e,r),i}(Dp);function Kp(t){return(Kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qp(t,e,n){return(Qp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function tv(t,e){return(tv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ev(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rv(t);if(e){var o=rv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nv(this,n)}}function nv(t,e){return!e||"object"!==Kp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rv(t){return(rv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ov=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tv(t,e)}(i,t);var e,n,r,o=ev(i);function i(){return Jp(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return Qp(rv(i.prototype),"getDefaultObject",this).call(this,{itemType:"display",type:"block",direction:"row",alignItems:"normal",alignCentent:"normal",flexWrap:"nowrap",justifyContent:"flex-start",gap:Kr.px(0),rowGap:Kr.percent(1),columnGap:Kr.percent(1),columns:[Kr.fr(1)],rows:[Kr.fr(1)],areas:[]})}},{key:"toCSS",value:function(){var t=this.json,e={display:t.type};return"flex"==e.display?("row"!=t.direction&&(e["flex-direction"]=t.direction),"normal"!=t.alignItems&&(e["align-items"]=t.alignItems),"normal"!=t.alignContent&&(e["align-content"]=t.alignContent),"nowrap"!=t.flexWrap&&(e["flex-wrap"]=t.flexWrap),"flex-start"!=t.justifyContent&&(e["justify-content"]=t.justifyContent)):"grid"==e.display&&(t.gap.value>0&&(e["grid-gap"]=t.gap),t.rowGap.value>0&&(e["grid-row-gap"]=t.rowGap),t.columnGap.value>0&&(e["grid-column-gap"]=t.columnGap),t.columns.length&&(e["grid-template-columns"]=t.columns.join(he)),t.rows.length&&(e["grid-template-rows"]=t.rows.join(he)),t.areas.length&&(e["grid-template-areas"]=t.areas.map((function(t){return'"'.concat(t.join(he),'"')})).join(he)),"normal"!=t.alignItems&&(e["align-items"]=t.alignItems),"normal"!=t.alignContent&&(e["align-content"]=t.alignContent),"flex-start"!=t.justifyContent&&(e["justify-content"]=t.justifyContent)),e}},{key:"isLayout",value:function(){return this.isGrid()||this.isFlex()}},{key:"isFlex",value:function(){return"flex"==this.json.type}},{key:"isGrid",value:function(){return"grid"==this.json.type}},{key:"isInline",value:function(){return"inline"==this.json.type}},{key:"isInlineBlock",value:function(){return"inline-block"==this.json.type}},{key:"isBlock",value:function(){return"block"==this.json.type}},{key:"changeColumn",value:function(t,e){var n=this.json.columns[t],r=this.json.columns[e];this.json.columns[e]=n,this.json.columns[t]=r}},{key:"removeColumn",value:function(t){this.json.columns.splice(t,1)}},{key:"updateColumn",value:function(t,e){this.json.columns[t]=e}},{key:"changeRow",value:function(t,e){var n=this.json.rows[t],r=this.json.rows[e];this.json.rows[e]=n,this.json.rows[t]=r}},{key:"removeRow",value:function(t){this.json.rows.splice(t,1)}},{key:"updateRow",value:function(t,e){this.json.rows[t]=e}}])&&Zp(e.prototype,n),r&&Zp(e,r),i}(Tl);function iv(t){return(iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function av(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cv(t,e){return(cv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fv(t);if(e){var o=fv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sv(this,n)}}function sv(t,e){return!e||"object"!==iv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fv(t){return(fv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}ov.parse=function(t){return new ov(t)},ov.isLayout=function(t){return"flex"==t||"grid"==t};var hv=function(t){return"flex"==t||"grid"==t},pv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cv(t,e)}(i,t);var e,n,r,o=lv(i);function i(){return av(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"layers",get:function(){return this.search({itemType:"layer"})}},{key:"isLayoutItem",value:function(){return!1}},{key:"changeDisplay",value:function(t){var e=this.json.display.type;hv(e)&&!hv(t)&&this.layers.forEach((function(t){return t.changeOffsetToPosition()})),this.json.display.type=t}},{key:"hasLayout",value:function(){return this.json.display.isLayout()}},{key:"refreshItem",value:function(t){t&&t(this),this.children.forEach((function(e){e.refreshItem(t)}))}}])&&uv(e.prototype,n),r&&uv(e,r),i}(Dp);function vv(t){return(vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dv(Object(n),!0).forEach((function(e){gv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kv(t,e,n){return e&&mv(t.prototype,e),n&&mv(t,n),t}function wv(t,e,n){return(wv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ov(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$v(t,e)}function $v(t,e){return($v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jv(t);if(e){var o=jv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cv(this,n)}}function Cv(t,e){return!e||"object"!==vv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jv(t){return(jv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sv=function(t){Ov(n,t);var e=xv(n);function n(){return bv(this,n),e.apply(this,arguments)}return kv(n,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wv(jv(n.prototype),"getDefaultObject",this).call(this,yv({itemType:"filter"},t))}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value||"",")")}},{key:"toJSON",value:function(){return this.attrs("itemType","lock","type","value","visible")}}]),n}(Tl),Pv=function(t){Ov(n,t);var e=xv(n);function n(){return bv(this,n),e.apply(this,arguments)}return kv(n,[{key:"getDefaultObject",value:function(){return wv(jv(n.prototype),"getDefaultObject",this).call(this,{type:"blur",value:n.spec.defaultValue})}}]),n}(Sv);Pv.spec={title:"Blur",inputType:"range",min:0,max:100,step:1,unit:pe,units:["px","em"],defaultValue:Kr.px(0)};var _v=function(t){Ov(n,t);var e=xv(n);function n(){return bv(this,n),e.apply(this,arguments)}return kv(n,[{key:"getDefaultObject",value:function(){return wv(jv(n.prototype),"getDefaultObject",this).call(this,{type:"grayscale",value:n.spec.defaultValue})}}]),n}(Sv);_v.spec={title:"Grayscale",inputType:"range",min:0,max:100,step:1,unit:"percent",units:["%"],defaultValue:Kr.percent(0)};var Rv=function(t){Ov(n,t);var e=xv(n);function n(){return bv(this,n),e.apply(this,arguments)}return kv(n,[{key:"getDefaultObject",value:function(){return wv(jv(n.prototype),"getDefaultObject",this).call(this,{type:"hue-rotate",value:n.spec.defaultValue})}}]),n}(Sv);Rv.spec={title:"Hue",inputType:"range",min:0,max:360,step:1,unit:"deg",units:["deg"],defaultValue:Kr.deg(0)};var Ev=function(t){Ov(n,t);var e=xv(n);function n(){return bv(this,n),e.apply(this,arguments)}return kv(n,[{key:"getDefaultObject",value:function(){return wv(jv(n.prototype),"getDefaultObject",this).call(this,{type:"invert",value:n.spec.defaultValue})}}]),n}(Sv);Ev.spec={title:"Invert",inputType:"range",min:0,max:100,step:1,unit:"percent",units:["%"],defaultValue:Kr.percent(0)};var Tv=function(t){Ov(n,t);var e=xv(n);function n(){return bv(this,n),e.apply(this,arguments)}return kv(n,[{key:"getDefaultObject",value:function(){return wv(jv(n.prototype),"getDefaultObject",this).call(this,{type:"brightness",value:n.spec.defaultValue})}}]),n}(Sv);Tv.spec={title:"Brightness",inputType:"range",min:0,max:200,step:1,unit:"percent",units:["%"],defaultValue:Kr.percent(100)};var Iv=function(t){Ov(n,t);var e=xv(n);function n(){return bv(this,n),e.apply(this,arguments)}return kv(n,[{key:"getDefaultObject",value:function(){return wv(jv(n.prototype),"getDefaultObject",this).call(this,{type:"contrast",value:n.spec.defaultValue})}}]),n}(Sv);Iv.spec={title:"Contrast",inputType:"range",min:0,max:200,step:1,unit:"percent",units:["%"],defaultValue:Kr.percent(100)};var Bv=function(t){Ov(n,t);var e=xv(n);function n(){return bv(this,n),e.apply(this,arguments)}return kv(n,[{key:"getDefaultObject",value:function(){return wv(jv(n.prototype),"getDefaultObject",this).call(this,{type:"opacity",value:n.spec.defaultValue})}}]),n}(Sv);Bv.spec={title:"Opacity",inputType:"range",min:0,max:100,step:1,unit:"percent",units:["%"],defaultValue:Kr.percent(100)};var Dv=function(t){Ov(n,t);var e=xv(n);function n(){return bv(this,n),e.apply(this,arguments)}return kv(n,[{key:"getDefaultObject",value:function(){return wv(jv(n.prototype),"getDefaultObject",this).call(this,{type:"saturate",value:n.spec.defaultValue})}}]),n}(Sv);Dv.spec={title:"Saturate",inputType:"range",min:0,max:100,step:1,unit:"percent",units:["%"],defaultValue:Kr.percent(100)};var Mv=function(t){Ov(n,t);var e=xv(n);function n(){return bv(this,n),e.apply(this,arguments)}return kv(n,[{key:"getDefaultObject",value:function(){return wv(jv(n.prototype),"getDefaultObject",this).call(this,{type:"sepia",value:n.spec.defaultValue})}}]),n}(Sv);Mv.spec={title:"Sepia",inputType:"range",min:0,max:100,step:1,unit:"percent",units:["%"],defaultValue:Kr.percent(0)};var Av=function(t){Ov(n,t);var e=xv(n);function n(){return bv(this,n),e.apply(this,arguments)}return kv(n,[{key:"getDefaultObject",value:function(){return wv(jv(n.prototype),"getDefaultObject",this).call(this,{type:"drop-shadow",multi:!0,offsetX:n.spec.offsetX.defaultValue,offsetY:n.spec.offsetY.defaultValue,blurRadius:n.spec.blurRadius.defaultValue,color:n.spec.color.defaultValue})}},{key:"toString",value:function(){var t=this.json;return"drop-shadow(".concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.color,")")}}]),n}(Sv);Av.spec={offsetX:{title:"Offset X",inputType:"range",min:-100,max:100,step:1,defaultValue:Kr.px(0),unit:pe,units:["px","em"]},offsetY:{title:"Offset Y",inputType:"range",min:-100,max:100,step:1,defaultValue:Kr.px(0),unit:pe,units:["px","em"]},blurRadius:{title:"Blur Radius",inputType:"range",min:0,max:100,step:1,defaultValue:Kr.px(0),unit:pe,units:["px","em","%"]},color:{title:"Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)",unit:"color"}};var Vv={blur:Pv,grayscale:_v,"hue-rotate":Rv,invert:Ev,brightness:Tv,contrast:Iv,opacity:Bv,saturate:Dv,sepia:Mv,"drop-shadow":Av};function Lv(t){return(Lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Uv(Object(n),!0).forEach((function(e){Nv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zv(t,e,n){return e&&Gv(t.prototype,e),n&&Gv(t,n),t}function Xv(t,e,n){return(Xv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Yv(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wv(t,e)}function Wv(t,e){return(Wv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jv(t);if(e){var o=Jv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kv(this,n)}}function Kv(t,e){return!e||"object"!==Lv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jv(t){return(Jv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Sv.parse=function(t){return new(0,Vv[t.type])(t)};var Zv=function(t){Yv(n,t);var e=qv(n);function n(){return Fv(this,n),e.apply(this,arguments)}return zv(n,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Xv(Jv(n.prototype),"getDefaultObject",this).call(this,Hv({itemType:"filter"},t))}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value||"",")")}}]),n}(Tl),Qv=function(t){Yv(n,t);var e=qv(n);function n(){return Fv(this,n),e.apply(this,arguments)}return zv(n,[{key:"getDefaultObject",value:function(){return Xv(Jv(n.prototype),"getDefaultObject",this).call(this,{type:"blur",value:n.spec.defaultValue})}}]),n}(Zv);Qv.spec={title:"Blur",inputType:"range",min:0,max:100,step:1,unit:pe,defaultValue:Kr.px(0)};var td=function(t){Yv(n,t);var e=qv(n);function n(){return Fv(this,n),e.apply(this,arguments)}return zv(n,[{key:"getDefaultObject",value:function(){return Xv(Jv(n.prototype),"getDefaultObject",this).call(this,{type:"grayscale",value:n.spec.defaultValue})}}]),n}(Zv);td.spec={title:"Grayscale",inputType:"range",min:0,max:100,step:1,unit:"percent",defaultValue:Kr.percent(0)};var ed=function(t){Yv(n,t);var e=qv(n);function n(){return Fv(this,n),e.apply(this,arguments)}return zv(n,[{key:"getDefaultObject",value:function(){return Xv(Jv(n.prototype),"getDefaultObject",this).call(this,{type:"hue-rotate",value:n.spec.defaultValue})}}]),n}(Zv);ed.spec={title:"Hue",inputType:"range",min:0,max:360,step:1,unit:"deg",defaultValue:Kr.deg(0)};var nd=function(t){Yv(n,t);var e=qv(n);function n(){return Fv(this,n),e.apply(this,arguments)}return zv(n,[{key:"getDefaultObject",value:function(){return Xv(Jv(n.prototype),"getDefaultObject",this).call(this,{type:"invert",value:n.spec.defaultValue})}}]),n}(Zv);nd.spec={title:"Invert",inputType:"range",min:0,max:100,step:1,unit:"percent",defaultValue:Kr.percent(0)};var rd=function(t){Yv(n,t);var e=qv(n);function n(){return Fv(this,n),e.apply(this,arguments)}return zv(n,[{key:"getDefaultObject",value:function(){return Xv(Jv(n.prototype),"getDefaultObject",this).call(this,{type:"brightness",value:n.spec.defaultValue})}}]),n}(Zv);rd.spec={title:"Brightness",inputType:"range",min:0,max:200,step:1,unit:"percent",defaultValue:Kr.percent(100)};var od=function(t){Yv(n,t);var e=qv(n);function n(){return Fv(this,n),e.apply(this,arguments)}return zv(n,[{key:"getDefaultObject",value:function(){return Xv(Jv(n.prototype),"getDefaultObject",this).call(this,{type:"contrast",value:n.spec.defaultValue})}}]),n}(Zv);od.spec={title:"Contrast",inputType:"range",min:0,max:200,step:1,unit:"percent",defaultValue:Kr.percent(100)};var id=function(t){Yv(n,t);var e=qv(n);function n(){return Fv(this,n),e.apply(this,arguments)}return zv(n,[{key:"getDefaultObject",value:function(){return Xv(Jv(n.prototype),"getDefaultObject",this).call(this,{type:"opacity",value:n.spec.defaultValue})}}]),n}(Zv);id.spec={title:"Opacity",inputType:"range",min:0,max:100,step:1,unit:"percent",defaultValue:Kr.percent(100)};var ad=function(t){Yv(n,t);var e=qv(n);function n(){return Fv(this,n),e.apply(this,arguments)}return zv(n,[{key:"getDefaultObject",value:function(){return Xv(Jv(n.prototype),"getDefaultObject",this).call(this,{type:"saturate",value:n.spec.defaultValue})}}]),n}(Zv);ad.spec={title:"Saturate",inputType:"range",min:0,max:100,step:1,unit:"percent",defaultValue:Kr.percent(100)};var ud=function(t){Yv(n,t);var e=qv(n);function n(){return Fv(this,n),e.apply(this,arguments)}return zv(n,[{key:"getDefaultObject",value:function(){return Xv(Jv(n.prototype),"getDefaultObject",this).call(this,{type:"sepia",value:n.spec.defaultValue})}}]),n}(Zv);ud.spec={title:"Sepia",inputType:"range",min:0,max:100,step:1,unit:"percent",defaultValue:Kr.percent(0)};var cd=function(t){Yv(n,t);var e=qv(n);function n(){return Fv(this,n),e.apply(this,arguments)}return zv(n,[{key:"getDefaultObject",value:function(){return Xv(Jv(n.prototype),"getDefaultObject",this).call(this,{type:"drop-shadow",multi:!0,offsetX:n.spec.offsetX.defaultValue,offsetY:n.spec.offsetY.defaultValue,blurRadius:n.spec.blurRadius.defaultValue,color:n.spec.color.defaultValue})}},{key:"toString",value:function(){var t=this.json;return"drop-shadow(".concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.color,")")}}]),n}(Zv);cd.spec={offsetX:{title:"Offset X",inputType:"range",min:-100,max:100,step:1,defaultValue:Kr.px(0),unit:pe},offsetY:{title:"Offset Y",inputType:"range",min:-100,max:100,step:1,defaultValue:Kr.px(0),unit:pe},blurRadius:{title:"Blur Radius",inputType:"range",min:0,max:100,step:1,defaultValue:Kr.px(0),unit:pe},color:{title:"Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 0)",unit:"color"}};var ld={blur:Qv,grayscale:td,"hue-rotate":ed,invert:nd,brightness:rd,contrast:od,opacity:id,saturate:ad,sepia:ud,"drop-shadow":cd};function sd(t){return(sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pd(t,e,n){return(pd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gd(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function vd(t,e){return(vd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gd(t);if(e){var o=gd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yd(this,n)}}function yd(t,e){return!e||"object"!==sd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gd(t){return(gd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Zv.parse=function(t){return new(0,ld[t.type])(t)};var bd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vd(t,e)}(i,t);var e,n,r,o=dd(i);function i(){return fd(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return pd(gd(i.prototype),"getDefaultObject",this).call(this,{type:"static-gradient",static:!0,colorsteps:[new Ql({color:"red",percent:0,index:0})]})}},{key:"copy",value:function(){return new i({angle:this.json.angle,colorsteps:this.copyColorSteps()})}},{key:"toString",value:function(){var t=this.json.colorsteps[0].color;return"linear-gradient(to right, ".concat(t,", ").concat(t,")")}},{key:"isStatic",value:function(){return!0}}])&&hd(e.prototype,n),r&&hd(e,r),i}(hs);function md(t){return(md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kd(Object(n),!0).forEach((function(e){Od(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Od(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cd(t,e,n){return e&&xd(t.prototype,e),n&&xd(t,n),t}function jd(t,e,n){return(jd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ed(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Sd(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pd(t,e)}function Pd(t,e){return(Pd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ed(t);if(e){var o=Ed(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rd(this,n)}}function Rd(t,e){return!e||"object"!==md(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ed(t){return(Ed=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Td=["jpg","jpeg","png","gif","svg"];var Id=function(t){Sd(n,t);var e=_d(n);function n(){return $d(this,n),e.apply(this,arguments)}return Cd(n,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jd(Ed(n.prototype),"getDefaultObject",this).call(this,wd({type:"url",url:"",datauri:""},t))}},{key:"isUrl",value:function(){return!0}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.json;return"url(".concat(t?fa.getFile(e.url):e.url,")")}}],[{key:"isImageFile",value:function(t){return Td.includes(t)}}]),n}(Gl);function Bd(t){return(Bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Md(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ad(t,e,n){return(Ad="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hd(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Vd(t,e){return(Vd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ld(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hd(t);if(e){var o=Hd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ud(this,n)}}function Ud(t,e){return!e||"object"!==Bd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hd(t){return(Hd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nd,Fd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vd(t,e)}(i,t);var e,n,r,o=Ld(i);function i(){return Dd(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return Ad(Hd(i.prototype),"getDefaultObject",this).call(this,{type:"repeating-linear-gradient",angle:0})}}])&&Md(e.prototype,n),r&&Md(e,r),i}(Cs);function Gd(t){return(Gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zd(Object(n),!0).forEach((function(e){ty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qd(t,e,n){return(qd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qd(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Kd(t,e){return(Kd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qd(t);if(e){var o=Qd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zd(this,n)}}function Zd(t,e){return!e||"object"!==Gd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qd(t){return(Qd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ey=(ty(Nd={},"center",!0),ty(Nd,"top",!0),ty(Nd,"left",!0),ty(Nd,"right",!0),ty(Nd,"bottom",!0),Nd),ny=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kd(t,e)}(i,t);var e,n,r,o=Jd(i);function i(){return Yd(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return qd(Qd(i.prototype),"getDefaultObject",this).call(this,Xd({type:"radial-gradient",radialType:"ellipse",radialPosition:[Wr.CENTER,Wr.CENTER]},t))}},{key:"toJSON",value:function(){return Xd(Xd({},qd(Qd(i.prototype),"toJSON",this).call(this)),this.attrs("radialType","radialPosition"))}},{key:"isRadial",value:function(){return!0}},{key:"convert",value:function(t){var e;return Le((t=qd(Qd(i.prototype),"convert",this).call(this,t)).radialPosition)&&(t.radialPosition=[t.radialPosition,t.radialPosition]),t.radialPosition=(null===(e=t.radialPosition)||void 0===e?void 0:e.map((function(t){return Kr.parse(t)})))||[],t}},{key:"copy",value:function(){return new i({radialType:this.json.radialType,radialPosition:this.json.radialPosition,colorsteps:this.copyColorSteps()})}},{key:"toString",value:function(){var t,e=this.getColorString(),n=this.json,r=n.radialType,o=n.radialPosition||["center","center"];return t=(o=ey[o]?o:o.join(he))?"".concat(r," at ").concat(o):r,"".concat(n.type,"(").concat(t,", ").concat(e,")")}}])&&Wd(e.prototype,n),r&&Wd(e,r),i}(hs);function ry(t){return(ry="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ay(t,e,n){return(ay="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sy(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function uy(t,e){return(uy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=sy(t);if(e){var o=sy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ly(this,n)}}function ly(t,e){return!e||"object"!==ry(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sy(t){return(sy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fy,hy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uy(t,e)}(i,t);var e,n,r,o=cy(i);function i(){return oy(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return ay(sy(i.prototype),"getDefaultObject",this).call(this,{type:"repeating-radial-gradient"})}}])&&iy(e.prototype,n),r&&iy(e,r),i}(ny);function py(t){return(py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vy(Object(n),!0).forEach((function(e){$y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function by(t,e,n){return(by="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Oy(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function my(t,e){return(my=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ky(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Oy(t);if(e){var o=Oy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wy(this,n)}}function wy(t,e){return!e||"object"!==py(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oy(t){return(Oy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}$y(fy={},"center",!0),$y(fy,"top",!0),$y(fy,"left",!0),$y(fy,"right",!0),$y(fy,"bottom",!0);var xy={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},Cy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&my(t,e)}(i,t);var e,n,r,o=ky(i);function i(){return yy(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return by(Oy(i.prototype),"getDefaultObject",this).call(this,dy({type:"conic-gradient",angle:0,radialPosition:[Wr.CENTER,Wr.CENTER]},t))}},{key:"toJSON",value:function(){return dy(dy({},by(Oy(i.prototype),"toJSON",this).call(this)),this.attrs("angle","radialPosition"))}},{key:"convert",value:function(t){var e;return Le((t=by(Oy(i.prototype),"convert",this).call(this,t)).radialPosition)&&(t.radialPosition=[t.radialPosition,t.radialPosition]),t.radialPosition=(null===(e=t.radialPosition)||void 0===e?void 0:e.map((function(t){return Kr.parse(t)})))||[],t}},{key:"isConic",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"getColorString",value:function(){var t=this.colorsteps;return t?(t.sort((function(t,e){return t.percent==e.percent?t.index>e.index?1:(t.index,e.index,0):t.percent>e.percent?1:-1})),t.map((function(e,n){return e.prevColorStep=e.cut&&n>0?t[n-1]:null,e})).map((function(t){var e=Math.floor(3.6*t.percent),n=fe;if(t.cut&&t.prevColorStep){var r=Math.floor(3.6*t.prevColorStep.percent);n="".concat(r,"deg")}return"".concat(t.color," ").concat(n," ").concat(e,"deg")})).join(",")):fe}},{key:"copy",value:function(){return new i({angle:this.json.angle,radialPosition:this.json.radialPosition,colorsteps:this.copyColorSteps()})}},{key:"toString",value:function(){var t=this.getColorString(),e=[],n=this.json,r=n.angle,o=n.radialPosition||[Wr.CENTER,Wr.CENTER];o=o,Me(r)&&(r=+(xy[r]||r),e.push("from ".concat(r,"deg"))),o&&e.push("at ".concat(o.join(" ")));var i=e.length?e.join(he)+",":fe;return"".concat(n.type,"(").concat(i," ").concat(t,")")}}])&&gy(e.prototype,n),r&&gy(e,r),i}(hs);function jy(t){return(jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Py(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _y(t,e,n){return(_y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Iy(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ry(t,e){return(Ry=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ey(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Iy(t);if(e){var o=Iy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ty(this,n)}}function Ty(t,e){return!e||"object"!==jy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Iy(t){return(Iy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var By=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ry(t,e)}(i,t);var e,n,r,o=Ey(i);function i(){return Sy(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return _y(Iy(i.prototype),"getDefaultObject",this).call(this,{type:"repeating-conic-gradient",angle:0,radialPosition:[Wr.CENTER,Wr.CENTER]})}}])&&Py(e.prototype,n),r&&Py(e,r),i}(Cy);function Dy(t){return(Dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function My(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ay(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?My(Object(n),!0).forEach((function(e){Vy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):My(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ly(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hy(t,e,n){return(Hy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zy(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ny(t,e){return(Ny=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zy(t);if(e){var o=zy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gy(this,n)}}function Gy(t,e){return!e||"object"!==Dy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zy(t){return(zy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xy=["repeat","no-repeat","repeat-x","repeat-y"],Yy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ny(t,e)}(i,t);var e,n,r,o=Fy(i);function i(){return Ly(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){return new i(t)}}],(n=[{key:"addImageResource",value:function(t){return this.clear("image-resource"),this.addItem("image-resource",t)}},{key:"addGradient",value:function(t){return this.addImageResource(t)}},{key:"setImageUrl",value:function(t){t.images&&t.images.length&&this.reset({type:"image",image:this.createImage(t.images[0])})}},{key:"createImage",value:function(t){return new Id({url:t})}},{key:"setGradient",value:function(t){return this.reset({type:t.type,image:this.createGradient(t,this.json.image)}),this}},{key:"createGradient",value:function(t,e){var n=t.colorsteps,r=t.angle,o=t.radialType,i=t.radialPosition;switch(t.type){case"linear-gradient":return new Cs({colorsteps:n,angle:r});case"repeating-linear-gradient":return new Fd({colorsteps:n,angle:r});case"radial-gradient":return new ny({colorsteps:n,radialType:o,radialPosition:i});case"repeating-radial-gradient":return new hy({colorsteps:n,radialType:o,radialPosition:i});case"conic-gradient":return new Cy({colorsteps:n,angle:r,radialPosition:i});case"repeating-conic-gradient":return new By({colorsteps:n,angle:r,radialPosition:i})}return new hs}},{key:"getDefaultObject",value:function(){return Hy(zy(i.prototype),"getDefaultObject",this).call(this,{itemType:"background-image",checked:!1,blendMode:"normal",size:"auto",repeat:"no-repeat",width:Kr.percent(100),height:Kr.percent(100),x:Kr.percent(0),y:Kr.percent(0),image:new Cs})}},{key:"toJSON",value:function(){return this.attrs("x","y","width","height","size","repeat","blendMode","checked","image","selected")}},{key:"convert",value:function(t){return t.x=Kr.parse(t.x),t.y=Kr.parse(t.y),t.width&&(t.width=Kr.parse(t.width)),t.height&&(t.height=Kr.parse(t.height)),t.image&&("image"===t.image.type?t.image=this.createImage(t.image.url):t.image=this.createGradient(t.image)),t}},{key:"image",get:function(){return this.json.image},set:function(t){this.json.image=t}},{key:"checkField",value:function(t,e){return"repeat"===t?Xy.includes(e):Hy(zy(i.prototype),"checkField",this).call(this,t,e)}},{key:"toBackgroundImageCSS",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.json.image?{"background-image":this.json.image.toString(t)}:{}}},{key:"toBackgroundPositionCSS",value:function(){var t=this.json;return{"background-position":"".concat(t.x," ").concat(t.y)}}},{key:"toBackgroundSizeCSS",value:function(){var t=this.json;return{"background-size":"contain"==t.size||"cover"==t.size?t.size:"".concat(t.width," ").concat(t.height)}}},{key:"toBackgroundRepeatCSS",value:function(){return{"background-repeat":this.json.repeat}}},{key:"toBackgroundBlendCSS",value:function(){return{"background-blend-mode":this.json.blendMode}}},{key:"toCSS",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=Ay(Ay(Ay(Ay(Ay({},this.toBackgroundImageCSS(t)),this.toBackgroundPositionCSS()),this.toBackgroundSizeCSS()),this.toBackgroundRepeatCSS()),this.toBackgroundBlendCSS());return e}},{key:"toString",value:function(){return Te(this.toCSS(),(function(t,e){return"".concat(t,": ").concat(e)})).join(";")}}])&&Uy(e.prototype,n),r&&Uy(e,r),i}(Tl);function Wy(t){return(Wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qy(t){return function(t){if(Array.isArray(t))return Ky(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Ky(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ky(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ky(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jy(Object(n),!0).forEach((function(e){Qy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ng(t,e,n){return(ng="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ag(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function rg(t,e){return(rg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function og(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ag(t);if(e){var o=ag(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ig(this,n)}}function ig(t,e){return!e||"object"!==Wy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ag(t){return(ag=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ug={topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right"},cg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rg(t,e)}(i,t);var e,n,r,o=og(i);function i(){return tg(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ng(ag(i.prototype),"getDefaultObject",this).call(this,Zy({itemType:"artboard",width:Kr.px(300),height:Kr.px(300),backgroundColor:"white",name:"New ArtBoard",x:Kr.px(100),y:Kr.px(100),filters:[],border:{},borderRadius:{},outline:{width:Kr.px(0),color:"white",style:"solid"},borderImage:{width:0,outset:0,slice:Kr.percent(100),repeat:"stretch",source:""},backdropFilters:[],backgroundImages:[],boxShadows:[],perspectiveOriginPositionX:Kr.percent(0),perspectiveOriginPositionY:Kr.percent(0),display:ov.parse({display:"block"})},t))}},{key:"init",value:function(){this.reset(Ge(this.getDefaultObject()))}},{key:"toJSON",value:function(){return this.attrs("itemType","width","height","backgroundColor","filters","border","borderRadius","outline","borderImage","backgroundImages")}},{key:"getArtBoard",value:function(){return this}},{key:"convert",value:function(t){return(t=ng(ag(i.prototype),"convert",this).call(this,t)).width=Kr.parse(t.width),t.height=Kr.parse(t.height),t.x=Kr.parse(t.x),t.y=Kr.parse(t.y),t.perspectiveOriginPositionX=Kr.parse(t.perspectiveOriginPositionX),t.perspectiveOriginPositionY=Kr.parse(t.perspectiveOriginPositionY),t.filters=t.filters.map((function(t){return Sv.parse(t)})),t.backdropFilters=t.backdropFilters.map((function(t){return Zv.parse(t)})),t.backgroundImages=t.backgroundImages.map((function(t){return Yy.parse(t)})),t.display&&(t.display=ov.parse(t.display)),t.outline&&(t.outline.width=Kr.parse(t.outline.width)),t.borderImage&&(t.borderImage.slice=Kr.parse(t.borderImage.slice)),t}},{key:"getDefaultTitle",value:function(){return"ArtBoard"}},{key:"directories",get:function(){return this.search({itemType:"directory"})}},{key:"allDirectories",get:function(){return this.tree().filter((function(t){return"directory"==t.itemType}))}},{key:"allLayers",get:function(){return this.tree().filter((function(t){return"layer"==t.itemType}))}},{key:"rootItems",get:function(){return this.tree().filter((function(t){return t.isRootItem()}))}},{key:"filters",get:function(){return this.json.filters}},{key:"backdropFilters",get:function(){return this.json.backdropFilters}},{key:"backgroundImages",get:function(){return this.json.backgroundImages||[]}},{key:"addBoxShadow",value:function(t){return this.json.boxShadows.push(t),t}},{key:"addBackgroundImage",value:function(t){return this.json.backgroundImages.push(t),t}},{key:"createBackgroundImage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addBackgroundImage(new Yy(Zy({checked:!0,parent:this.ref},t)))}},{key:"removeBackgroundImage",value:function(t){this.json.backgroundImages.splice(t,1),this.selectBackgroundImage(t)}},{key:"removeBoxShadow",value:function(t){this.json.boxShadows.splice(t,1)}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(qy(t.splice(e,1))))}},{key:"sortBackgroundImage",value:function(t,e){var n=this.json.backgroundImages[t];this.json.backgroundImages[t]=this.json.backgroundImages[e],this.json.backgroundImages[e]=n}},{key:"copyBackgroundImage",value:function(t){var e=[];this.json.backgroundImages.forEach((function(n,r){t===r?(e.push(n),e.push(new Yy(n.toJSON()))):e.push(n)})),this.json.backgroundImages=e}},{key:"getSelectedBackgroundIndex",value:function(){var t=this.backgroundImages.map((function(t,e){return[t.selected,e]})).find((function(t){return t[0]}));return null==t?void 0:t[1]}},{key:"selectedBackgroundImage",get:function(){return this.getSelectedBackgroundImage()}},{key:"getSelectedBackgroundImage",value:function(){return this.backgroundImages.find((function(t){return t.selected}))}},{key:"selectBackgroundImage",value:function(t){return this.backgroundImages.forEach((function(e,n){e.selected=n===t})),this}},{key:"sortFilter",value:function(t,e){this.sortItem(this.json.filters,t,e)}},{key:"addFilter",value:function(t){return this.json.filters.push(t),t}},{key:"makeFilter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Sv.parse(Zy(Zy({},e),{},{type:t}))}},{key:"createFilter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.addFilter(this.makeFilter(t,e))}},{key:"removeFilter",value:function(t){this.json.filters.splice(t,1)}},{key:"updateFilter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.filters[+t].reset(e)}},{key:"updateBoxShadow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.boxShadows[+t].reset(e)}},{key:"addBackdropFilter",value:function(t){return this.json.backdropFilters.push(t),t}},{key:"setSize",value:function(t){this.reset(t)}},{key:"setBorder",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.json.border;if("all"===t)n?this.json.border={all:n}:["top","right","bottom","left"].forEach((function(t){delete e.json.border[t]}));else{if(r.all&&De(n)){var o=Zy({},r.all);r.top=Zy({},o),r.bottom=Zy({},o),r.left=Zy({},o),r.right=Zy({},o)}r.all&&delete r.all,n&&(this.json.border[t]=n)}}},{key:"setOutline",value:function(t){this.json.outline=t}},{key:"setBorderImage",value:function(t){this.json.borderImage=Zy(Zy({},this.json.borderImage),t)}},{key:"setBorderRadius",value:function(t,e){this.json.borderRadius=e}},{key:"traverse",value:function(t,e,n){var r=this;t.isAttribute()||(n||!t.isLayoutItem()||t.isRootItem())&&(e.push(t),t.children.forEach((function(t){r.traverse(t,e)})))}},{key:"tree",value:function(t){var e=this,n=[];return this.children.forEach((function(r){e.traverse(r,n,t)})),n}},{key:"toPropertyCSS",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return t.forEach((function(t){Ee(t.toCSS(e),(function(t,e){n[t]||(n[t]=[]),n[t].push(e)}))})),Xe(n)}},{key:"toBackgroundImageCSS",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.toPropertyCSS(this.backgroundImages,t)}},{key:"getBorderString",value:function(t){return"".concat(t.width," ").concat(t.style," ").concat(t.color)}},{key:"toSizeCSS",value:function(){return{width:this.json.width+"",height:this.json.height+""}}},{key:"toBorderCSS",value:function(){var t=this,e={},n=this.json.border;return n.all?e={border:this.getBorderString(n.all)}:Ee(n,(function(n,r){e["border-".concat(n)]=t.getBorderString(r)})),e}},{key:"toBorderRadiusCSS",value:function(){var t={},e=this.json.borderRadius;return e.all?0===e.all.value||(t={"border-radius":e.all}):Ee(e,(function(e,n){0===n.value||(t["border-".concat(ug[e],"-radius")]=n)})),t}},{key:"toOutlineCSS",value:function(){var t={},e=this.json.outline;return t.outline="".concat(e.color," ").concat(e.style," ").concat(e.width),t}},{key:"toBorderImageCSS",value:function(){var t={},e=this.json.borderImage,n=this.json.border;return e.width>0&&(t.border=this.getBorderString(Zy(Zy({color:"black",style:"solid"},n.all),{},{width:Kr.px(1)}))),t["border-image-source"]=(new Yy).setGradient(e.source).image.toString(),t["border-image-slice"]=e.slice+"",t["border-image-width"]=e.width,t["border-image-outset"]=e.outset,t["border-image-repeat"]=e.repeat,t}},{key:"toFilterCSS",value:function(){return{filter:this.json.filters.join(he)}}},{key:"toBackdropFilterCSS",value:function(){return this.toPropertyCSS(this.json.backdropFilters)}},{key:"toBoxShadowCSS",value:function(){return this.toPropertyCSS(this.json.boxShadows)}},{key:"toString",value:function(){return xl(this.toCSS())}},{key:"toExport",value:function(){return xl(this.toCSS(!0))}},{key:"toCSS",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.json,n={"background-color":e.backgroundColor};return $l(Zy(Zy(Zy(Zy(Zy(Zy(Zy(Zy(Zy({},n),this.toSizeCSS()),this.toBorderCSS()),this.toBorderRadiusCSS()),this.toBorderImageCSS()),this.toOutlineCSS()),this.toFilterCSS()),this.toBackgroundImageCSS(t)),this.toBoxShadowCSS()))}},{key:"insertLast",value:function(t){var e=t.parent();t.parentId=this.id,t.index=Number.MAX_SAFE_INTEGER,e.sort(),this.sort()}},{key:"toGridString",value:function(){return""}}])&&eg(e.prototype,n),r&&eg(e,r),i}(pv);function lg(t){return(lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sg(Object(n),!0).forEach((function(e){hg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return vg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vg(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gg(t,e){return(gg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kg(t);if(e){var o=kg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mg(this,n)}}function mg(t,e){return!e||"object"!==lg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kg(t){return(kg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gg(t,e)}(i,t);var e,n,r,o=bg(i);function i(){return dg(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"afterRender",value:function(){var t=fa.addProject(new qp).add(new cg);fa.selection.select(t),this[Mi("refreshCanvas")]()}},{key:"initState",value:function(){return{showRotateTool:!0,showScaleTool:!0}}},{key:"template",value:function(){return'\n            <div class=\'page-view\'>\n                <div class="page-canvas" ref="$canvas"></div>         \n                <div class="helper-tools">\n                  <label><button type="button" ref="$toCenter">To Center</button></label>\n                  <label><input type="checkbox" '.concat(this.state.showRotateTool?"checked":"",' ref="$showRotateTool"/>Rotate</label>\n                  <label><input type="checkbox" ').concat(this.state.showScaleTool?"checked":"",' ref="$showScaleTool"/>Scale</label>\n                </div>\n                <div class="gradient-control" ref="$control"></div>       \n                <div class="gradient-transform" ref="$transform">\n                  <div class="control-layer" \n                      ref="$controlLayer" \n                      data-show-rotate-tool="').concat(this.state.showRotateTool,'"\n                      data-show-scale-tool="').concat(this.state.showScaleTool,'"\n                  >\n                    <div class="control-point" data-direction="bottom-right-rotate"></div>\n                    <div class="control-point" data-direction="bottom-left-rotate"></div>\n                    <div class="control-point" data-direction="top-right-rotate"></div>\n                    <div class="control-point" data-direction="top-left-rotate"></div>\n                    <div class="control-point" data-direction="top"></div>\n                    <div class="control-point" data-direction="right"></div>\n                    <div class="control-point" data-direction="left"></div>\n                    <div class="control-point" data-direction="bottom"></div>                                      \n                    <div class="control-point" data-direction="bottom-right"></div>   \n                    <div class="control-point" data-direction="bottom-left"></div>    \n                    <div class="control-point" data-direction="top-right"></div>   \n                    <div class="control-point" data-direction="top-left"></div>                                      \n                    <div class="control-point" data-direction="width"></div>\n                    <div class="control-point" data-direction="height"></div>\n                    <div class="control-point" data-direction="width-left"></div>\n                    <div class="control-point" data-direction="height-top"></div>  \n                    <div class="control-point" data-direction="rotate" ref="$rotate"></div>\n                  </div>\n\n                </div>\n                <div class="gradient-list-view">\n                  <div ref="$gradientListView"></div>\n                  <div class="add-button">\n                    <button type="button" ref="$add"> + </button>\n                  </div>\n                </div>\n\n            </div>\n        ')}},{key:bo("$showRotateTool"),value:function(){this.setState({showRotateTool:this.refs.$showRotateTool.checked()},!1),this.refs.$controlLayer.attr("data-show-rotate-tool",this.refs.$showRotateTool.checked())}},{key:bo("$showScaleTool"),value:function(){this.setState({showScaleTool:this.refs.$showScaleTool.checked()},!1),this.refs.$controlLayer.attr("data-show-scale-tool",this.refs.$showScaleTool.checked())}},{key:bo("$add"),value:function(){fa.selection.current.createBackgroundImage({selected:!0}),this.emit("selectGradient"),this.emit("refreshCanvas"),this.trigger("refreshCanvas")}},{key:Mi("caculateSize"),value:function(t){var e=this.refs.$canvas.rect(),n={width:Kr.px(e.width),height:Kr.px(e.height)};this.emit(t,n)}},{key:Mi("refreshCanvas"),value:function(t){var e=t||fa.selection.current;if(e){var n;this.refs.$canvas.cssText(e.toString());var r=this.refs.$canvas.rect();this.refs.$control.css({width:Kr.px(r.width),height:Kr.px(r.height)}),this.refs.$transform.css({width:Kr.px(r.width),height:Kr.px(r.height)});var o=null===(n=e.selectedBackgroundImage)||void 0===n?void 0:n.image;void 0!==(null==o?void 0:o.angle)&&this.refs.$rotate.css({transform:"translateX(-50%) translateY(-50%) rotate(".concat(o.angle,"deg)")}),this.load("$control"),this.updateControlLayer()}}},{key:Xo("$control"),value:function(){return fa.selection.current.backgroundImages.map((function(t,e){return[t,e]})).filter((function(t){return t[0].selected})).map((function(t){var e=pg(t,2),n=e[0],r=e[1],o=n.width,i=n.height,a=n.x,u=n.y,c="auto"===n.size?{width:o,height:i,left:a,top:u}:{};return"<div class='gradient-layer' data-selected=\"".concat(n.selected,'" data-index="').concat(r,'" style="').concat(xl(fg(fg({},c),{},{"z-index":r+1})),'"></div>')}))}},{key:Xo("$gradientListView"),value:function(){var t=fa.selection.current;return t?t.backgroundImages.map((function(t,e){t.image;var n=xl(t.toBackgroundImageCSS()),r=t.selected?"selected":"";return"\n        <div class='fill-item ".concat(r,"' data-index='").concat(e,"'>\n            <div class=\"fill-item-container\">\n              <div class='preview' data-index=\"").concat(e,"\">\n                  <div class='mini-view' style=\"").concat(n,'"></div>\n              </div>\n              <div class="tools">\n                <button type="button" class=\'copy\'  data-index="').concat(e,'">').concat(sp,'</button>\n                <button type="button" class=\'remove\'  data-index="').concat(e,'">').concat(cp,"</button>\n              </div>\n            </div>\n        </div>\n      ")})):EMPTY_STRING}},{key:"updateControlLayer",value:function(){var t=fa.selection.current;if(t){var e=t.getSelectedBackgroundImage();if(e){var n=e.width,r=e.height,o=e.x,i=e.y,a=e.size,u=fa.selection.current,c=u.width,l=u.height;o.isPercent()&&(o=Kr.px((c.value-n.toPx(c).value)*(o.value/100))),i.isPercent()&&(i=Kr.px((l.value-r.toPx(c).value)*(i.value/100)));var s="auto"===a?{width:n,height:r,left:o,top:i}:{};"none"===this.refs.$controlLayer.css("display")&&this.refs.$controlLayer.toggle(!0),this.refs.$controlLayer.css(s)}else this.refs.$controlLayer.toggle(!1)}}},{key:bo("$gradientListView .fill-item .preview"),value:function(t){var e=+t.$delegateTarget.attr("data-index");fa.selection.current.selectBackgroundImage(e),this.emit("selectGradient"),this.emit("refreshCanvas"),this.trigger("refreshCanvas")}},{key:bo("$gradientListView .fill-item .copy"),value:function(t){var e=+t.$delegateTarget.attr("data-index");fa.selection.current.copyBackgroundImage(e),fa.selection.current.selectBackgroundImage(e),this.emit("selectGradient"),this.emit("refreshCanvas"),this.trigger("refreshCanvas")}},{key:bo("$gradientListView .fill-item .remove"),value:function(t){var e=+t.$delegateTarget.attr("data-index");fa.selection.current.removeBackgroundImage(e),this.emit("selectGradient"),this.emit("refreshCanvas"),this.trigger("refreshCanvas")}},{key:bo("$controlLayer [data-direction]")+Go+zo,value:function(t){var e=t.$delegateTarget.attr("data-direction");this.selectedBackgroundImage=fa.selection.current.getSelectedBackgroundImage();var n=this.selectedBackgroundImage,r=n.x,o=n.y,i=n.width,a=n.height;switch(e){case"height":this.selectedBackgroundImage.reset({height:i.clone()});break;case"height-top":this.selectedBackgroundImage.reset({y:o.clone().add(a).sub(i.clone()),height:i.clone()});break;case"width":this.selectedBackgroundImage.reset({width:a.clone()});break;case"width-left":this.selectedBackgroundImage.reset({x:r.clone().add(i).sub(a.clone()),width:a.clone()});break;default:return}this.trigger("refreshCanvas"),this.emit("refreshCanvas"),this.emit("selectGradient")}},{key:"createSnapPointList",value:function(){var t=[];fa.selection.current.backgroundImages.filter((function(t){return!t.selected})).forEach((function(e){var n=e.x,r=e.y,o=e.width,i=e.height;t.push({x:+n,y:+r},{x:+n+ +o,y:+r},{x:+n+ +o,y:+r+ +i},{x:+n,y:+r+ +i},{x:+n+ +o/2,y:+r+ +i/2})}));var e=fa.selection.current,n=e.width,r=e.height;return t.push({x:0,y:0},{x:+n,y:0},{x:+n,y:+r},{x:0,y:+r},{x:+n/2,y:+r/2}),t}},{key:Io("$controlLayer [data-direction]")+No("moveDirection")+Fo("moveEndDirection")+Go+zo,value:function(t){this.direction=t.$delegateTarget.attr("data-direction"),this.selectedBackgroundImage=fa.selection.current.getSelectedBackgroundImage();var e=fa.selection.current.selectedBackgroundImage,n=e.x,r=e.y,o=e.width,i=e.height,a=e.image;this.oldX=n.clone(),this.oldY=r.clone(),this.oldW=o.clone(),this.oldH=i.clone(),void 0!==a.angle?this.angle=Kr.deg(a.angle):this.angle=void 0;var u=fa.selection.current,c=u.width,l=u.height;this.oldWidth=c.clone().value,this.oldHeight=l.clone().value,this.snapPoint=this.createSnapPointList(),this.rect=this.refs.$controlLayer.rect(),this.centerXY={x:this.rect.left+this.rect.width/2,y:this.rect.top+this.rect.height/2}}},{key:"moveDirection",value:function(t,e){var n=this.oldX.toPx(this.oldWidth),r=this.oldY.toPx(this.oldHeight),o=this.oldW.toPx(this.oldWidth),i=this.oldH.toPx(this.oldHeight),a=this.oldH/this.oldW;switch(this.direction){case"top":if(e>i.value){var u=e-i.value;r=r.add(i.value).clone().floor(),i=i.set(Math.abs(u)).clone().floor()}else r=r.add(e).clone().floor(),i=i.add(-e).clone().floor();break;case"right":if(o.value+t<0){var c=o.value+t;n=n.add(c).clone().floor(),o=o.set(Math.abs(c)).clone().floor()}else o=o.add(t).clone().floor();break;case"left":if(t>o.value){var l=t-o.value;n=n.add(o.value).clone().floor(),o=o.set(Math.abs(l)).clone().floor()}else n=n.add(t).clone().floor(),o=o.add(-t).clone().floor();break;case"bottom":if(i.value+e<0){var s=i.value+e;r=r.add(s).clone().floor(),i=i.set(Math.abs(s)).clone().floor()}else i=i.add(e).clone().floor();break;case"bottom-right":case"top-right":var f=+n+o/2;(p=o/2+t)>0?(o=Kr.px(2*p),n=Kr.px(f-o/2)):(o=Kr.px(2*Math.abs(p)),n=Kr.px(f+p));var h=+r+i/2;i=Kr.px(o*a),r=Kr.px(h-i/2);break;case"bottom-left":case"top-left":var p;f=+n+o/2,(p=o/2-t)>0?(o=Kr.px(2*p),n=Kr.px(f-o/2)):(o=Kr.px(2*Math.abs(p)),n=Kr.px(f+p)),h=+r+i/2,i=Kr.px(o*a),r=Kr.px(h-i/2);break;case"top-right-rotate":case"bottom-right-rotate":case"top-left-rotate":case"bottom-left-rotate":if(this.angle){var v={x:this.rect.width+this.rect.x,y:this.rect.height+this.rect.y};switch(this.direction){case"bottom-right-rotate":v={x:this.rect.width+this.rect.x,y:this.rect.height+this.rect.y};break;case"top-right-rotate":v={x:this.rect.width+this.rect.x,y:this.rect.y};break;case"bottom-left-rotate":v={x:this.rect.x,y:this.rect.height+this.rect.y};break;case"top-left-rotate":v={x:this.rect.x,y:this.rect.y}}var d={x:this.rect.left+this.rect.width/2,y:this.rect.top+this.rect.height/2},y=rt(v.x-d.x,v.y-d.y),g=rt(v.x+t-d.x,v.y+e-d.y)-y,b=this.angle.value+g;this.selectedBackgroundImage.image.reset({angle:b}),this.trigger("refreshCanvas"),this.emit("refreshCanvas")}return}var m=this.snapBackgroundImage(n,r,o,i),k=m.x,w=m.y,O=m.width,$=m.height;this.oldX.isPercent()?(k=Kr.percent(k.value/(this.oldWidth-O.value))).value<0&&(k.value=0):k=k.to(this.oldW.unit,this.oldWidth),this.oldY.isPercent()?(w=Kr.percent(w.value/(this.oldHeight-$.value))).value<0&&(w.value=0):w=w.to(this.oldH.unit,this.oldHeight),O=O.to(this.oldW.unit,this.oldWidth),$=$.to(this.oldH.unit,this.oldHeight),this.selectedBackgroundImage.reset({x:k,y:w,width:O,height:$}),this.trigger("refreshCanvas"),this.emit("refreshCanvas")}},{key:"snapBackgroundImage",value:function(t,e,n,r){return{x:t,y:e,width:n,height:r}}},{key:"moveEndDirection",value:function(){this.emit("selectGradient")}},{key:bo("$toCenter"),value:function(t){this[mo("$control .gradient-layer")].call(this)}},{key:mo("$control .gradient-layer"),value:function(t){this.selectedBackgroundImage=fa.selection.current.getSelectedBackgroundImage();var e=this.selectedBackgroundImage,n=e.x,r=e.y,o=e.width,i=e.height;this.oldX=n.clone(),this.oldY=r.clone(),this.oldW=o.clone(),this.oldH=i.clone();var a=fa.selection.current,u=a.width,c=a.height;this.oldWidth=u.clone().value,this.oldHeight=c.clone().value;var l=this.oldWidth/2-this.oldW.value/2,s=this.oldHeight/2-this.oldH.value/2;this.selectedBackgroundImage.reset({x:Kr.px(l),y:Kr.px(s)}),this.trigger("refreshCanvas"),this.emit("refreshCanvas")}},{key:Io("$control .gradient-layer")+No("moveGradientLayer")+Fo("moveEndGradientLayer")+Go+zo,value:function(t){var e=+t.$delegateTarget.attr("data-index");fa.selection.current.selectBackgroundImage(e),this.selectedBackgroundImage=fa.selection.current.getSelectedBackgroundImage(),this.selectedIndex=e,this.selectLayer(this.selectedIndex),this.emit("selectGradient");var n=fa.selection.current.selectedBackgroundImage,r=n.x,o=n.y,i=n.width,a=n.height;this.oldX=r.clone(),this.oldY=o.clone(),this.oldW=i.clone(),this.oldH=a.clone();var u=fa.selection.current,c=u.width,l=u.height;this.oldWidth=c.clone().value,this.oldHeight=l.clone().value,this.snapPoint=this.createSnapPointList()}},{key:"checkSnapPoint",value:function(t,e,n,r){var o=t.clone(),i=e.clone(),a=o.value+n.value,u=i.value+r.value,c=o.value+n.value/2,l=i.value+r.value/2,s=this.snapPoint.filter((function(t){return Math.abs(o.value-t.x)<=3})),f=this.snapPoint.filter((function(t){return Math.abs(c-t.x)<=3})),h=this.snapPoint.filter((function(t){return Math.abs(a-t.x)<=3})),p=t;s.length?p=Kr.px(s[0].x).clone():f.length?p=Kr.px(f[0].x-n.value/2).clone():h.length&&(p=Kr.px(h[0].x-n.value).clone());var v=this.snapPoint.filter((function(t){return Math.abs(i.value-t.y)<=3})),d=this.snapPoint.filter((function(t){return Math.abs(l-t.y)<=3})),y=this.snapPoint.filter((function(t){return Math.abs(u-t.y)<=3})),g=e;return v.length?g=Kr.px(v[0].y).clone():d.length?g=Kr.px(d[0].y-r.value/2).clone():y.length&&(g=Kr.px(y[0].y-r.value).clone()),{x:p.clone(),y:g.clone(),width:n.clone(),height:r.clone()}}},{key:"moveGradientLayer",value:function(t,e){var n=this.oldX.toPx(this.oldWidth).add(t).clone().floor(),r=this.oldY.toPx(this.oldHeight).add(e).clone().floor(),o=this.oldW.toPx(this.oldWidth).floor(),i=this.oldH.toPx(this.oldHeight).floor(),a=this.checkSnapPoint(n,r,o,i),u=a.x,c=a.y,l=a.width,s=a.height;u=u.to(this.oldW.unit,this.oldWidth),c=c.to(this.oldH.unit,this.oldHeight),u.value<0&&(u.value=0),c.value<0&&(c.value=0),l=l.to(this.oldW.unit,this.oldWidth),s=s.to(this.oldH.unit,this.oldHeight),fa.selection.current.selectedBackgroundImage.reset({x:u,y:c,width:l,height:s}),this.trigger("refreshCanvas"),this.emit("refreshCanvas")}},{key:"moveEndGradientLayer",value:function(){this.emit("selectGradient")}},{key:"selectLayer",value:function(t){this.refs.$control.$('[data-selected="true"]').removeAttr("data-selected"),this.refs.$control.$('[data-index="'.concat(t,'"]')).attr("data-selected","true"),this.updateControlLayer()}},{key:Mi("selectGradient"),value:function(){var t,e=fa.selection.current.selectedBackgroundImage,n=null==e||null===(t=e.image)||void 0===t?void 0:t.angle;void 0===n?this.refs.$rotate.hide():(console.log(n),this.refs.$rotate.show("inline-block")),this.load("$control"),this.updateControlLayer()}},{key:Mi("downloadCanvas"),value:function(){var t=fa.selection.current;if(t){var e=t.width.value,n=t.height.value,r='<?xml version="1.0" ?><svg xmlns="http://www.w3.org/2000/svg" width="'.concat(e,'" height="').concat(n,'">\n          <foreignObject width="100%" height="100%" x="0" y="0">\n            <div xmlns="http://www.w3.org/1999/xhtml" style="position:relative">\n              <div style="').concat(t.toString(),'"></div>\n            </div>\n          </foreignObject>\n        </svg>'),o=new Blob([r],{type:"image/svg+xml"}),i=new FileReader;i.onload=function(t){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var t=document.createElement("canvas"),o=t.getContext("2d");t.widht=e,t.height=n,o.drawImage(r,0,0,e,n);var i=t.toDataURL(),a=document.createElement("a");a.download="easylogic-gradient.png",a.style.opacity="0",a.href=i,a.click()},r.onerror=function(t){console.log(t)},r.src=t.target.result},i.readAsDataURL(o)}}}])&&yg(e.prototype,n),r&&yg(e,r),i}(Ai);function Og(t){return(Og="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jg(t,e){return(jg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Sg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_g(t);if(e){var o=_g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pg(this,n)}}function Pg(t,e){return!e||"object"!==Og(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _g(t){return(_g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rg=fe,Eg=fe,Tg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jg(t,e)}(i,t);var e,n,r,o=Sg(i);function i(){return xg(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n            <button type="button" class=\'menu-item\' checked="'.concat(this.getChecked()?"checked":fe,'">\n                <div class="icon ').concat(this.getIcon(),'">').concat(this.getIconString(),'</div>\n                <div class="title">').concat(this.getTitle(),"</div>\n            </button>\n        ")}},{key:"clickButton",value:function(t){}},{key:"getChecked",value:function(){return!1}},{key:"getTitle",value:function(){return Rg}},{key:"getIcon",value:function(){return Eg}},{key:"getIconString",value:function(){return Eg}},{key:bo(),value:function(t){this.clickButton(t)}}])&&Cg(e.prototype,n),r&&Cg(e,r),i}(Ai);function Ig(t){return(Ig="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mg(t,e){return(Mg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ag(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lg(t);if(e){var o=Lg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vg(this,n)}}function Vg(t,e){return!e||"object"!==Ig(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lg(t){return(Lg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ug=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mg(t,e)}(i,t);var e,n,r,o=Ag(i);function i(){return Bg(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIcon",value:function(){return"github"}},{key:"getTitle",value:function(){return"Github"}},{key:"clickButton",value:function(t){window.open("https://github.com/easylogic/gradient","github-window")}}])&&Dg(e.prototype,n),r&&Dg(e,r),i}(Tg);function Hg(t){return(Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ng(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gg(t,e){return(Gg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yg(t);if(e){var o=Yg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xg(this,n)}}function Xg(t,e){return!e||"object"!==Hg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yg(t){return(Yg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gg(t,e)}(i,t);var e,n,r,o=zg(i);function i(){return Ng(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n            <form class=\'codepen\' action="https://codepen.io/pen/define" method="POST" target="_code_pen">\n                <input type="hidden" name="data" ref="$codepen" value=\'\'>\n                <button type="submit">\n                    <div class=\'icon codepen\'></div>\n                    <div class=\'titie\'>CodePen</div>\n                </button>\n            </form>     \n        '}},{key:To(),value:function(){var t=fa.selection.current;return t&&this.refs.$codepen.val(JSON.stringify({html:'<div id="sample"></div>',css:"#sample { width: 300px; height:300px; ".concat(t.toExport(),"; } ")})),!1}}])&&Fg(e.prototype,n),r&&Fg(e,r),i}(Ai);function qg(t){return(qg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zg(t,e){return(Zg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=eb(t);if(e){var o=eb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tb(this,n)}}function tb(t,e){return!e||"object"!==qg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eb(t){return(eb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zg(t,e)}(i,t);var e,n,r,o=Qg(i);function i(){return Kg(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n            <form class=\'jsfiddle\' action="http://jsfiddle.net/api/post/library/pure/" method="POST" target="_blank">\n                <input type="hidden" name="title" ref="$title" value=\'\'>\n                <input type="hidden" name="description" ref="$description" value=\'\'>\n                <input type="hidden" name="html" ref="$html" value=\'\'>\n                <input type="hidden" name="css" ref="$css" value=\'\'>\n                <input type="hidden" name="dtd" value=\'html 5\'>\n                <button type="submit">\n                    <div class=\'icon jsfiddle\'></div>\n                    <div class=\'titie\'>JSFiddle</div>\n                </button>                \n            </form>     \n        '}},{key:To(),value:function(){var t=fa.selection.current;return t&&(this.refs.$title.val("Gradient - easylogic.studio"),this.refs.$description.val("https://gradient.easylogic.studio"),this.refs.$html.val('<div id="sample"></div>'),this.refs.$css.val("#sample { width:300px;height:300px; ".concat(t.toExport(),"; } "))),!1}}])&&Jg(e.prototype,n),r&&Jg(e,r),i}(Tg);function rb(t){return(rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ob(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ib(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ab(t,e){return(ab=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ub(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lb(t);if(e){var o=lb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cb(this,n)}}function cb(t,e){return!e||"object"!==rb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lb(t){return(lb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ab(t,e)}(i,t);var e,n,r,o=ub(i);function i(){return ob(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIcon",value:function(){return"download"}},{key:"getTitle",value:function(){return"Download"}},{key:"clickButton",value:function(t){this.emit("downloadCanvas")}}])&&ib(e.prototype,n),r&&ib(e,r),i}(Tg);function fb(t){return(fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vb(t,e){return(vb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function db(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gb(t);if(e){var o=gb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yb(this,n)}}function yb(t,e){return!e||"object"!==fb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gb(t){return(gb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vb(t,e)}(i,t);var e,n,r,o=db(i);function i(){return hb(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIcon",value:function(){return"save"}},{key:"getTitle",value:function(){return"+ Save"}},{key:"clickButton",value:function(t){fa.save(),this.emit("loadGradientList")}}])&&pb(e.prototype,n),r&&pb(e,r),i}(Tg);function mb(t){return(mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ob(t,e){return(Ob=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jb(t);if(e){var o=jb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cb(this,n)}}function Cb(t,e){return!e||"object"!==mb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jb(t){return(jb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ob(t,e)}(i,t);var e,n,r,o=xb(i);function i(){return kb(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n            <div class=\'gradient-list\'>\n                <div class="gradient-list-container" ref="$container">\n\n                </div>\n                <div class="gradient-list-tools">\n                    <button type="button" ref=\'$all\'>All Gradients</button>\n                </div>\n            </div>\n        '}},{key:Xo("$container"),value:function(){var t=fa.load();return t.reverse(),t.filter((function(t,e){return e<5})).map((function(t){return"<div class='gradient-list-item' data-id=\"".concat(t.id,'">\n                <div class="preview" style="').concat(t.preview,'"></div>\n            </div>')}))}},{key:"afterRender",value:function(){this.refresh()}},{key:"refresh",value:function(){this.load()}},{key:Mi("loadGradientList"),value:function(){this.refresh()}},{key:bo("$container .gradient-list-item"),value:function(t){var e=t.$delegateTarget.attr("data-id"),n=fa.load().find((function(t){return t.id===e}));n&&(fa.selection.current.reset(n.json),this.emit("refreshCanvas"),this.emit("selectGradient"),this.emit("hideGradientListView"))}},{key:bo("$all"),value:function(){this.emit("toggleGradientListView")}}])&&wb(e.prototype,n),r&&wb(e,r),i}(Ai);function Pb(t){return(Pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eb(t,e){return(Eb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bb(t);if(e){var o=Bb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ib(this,n)}}function Ib(t,e){return!e||"object"!==Pb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bb(t){return(Bb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Db=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Eb(t,e)}(i,t);var e,n,r,o=Tb(i);function i(){return _b(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIcon",value:function(){return"init"}},{key:"getTitle",value:function(){return"Initialize"}},{key:"clickButton",value:function(t){fa.selection.current.init(),this.emit("refreshCanvas"),this.emit("selectGradient"),this.emit("hideGradientListView")}}])&&Rb(e.prototype,n),r&&Rb(e,r),i}(Tg);function Mb(t){return(Mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ab(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lb(t,e){return(Lb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ub(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nb(t);if(e){var o=Nb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hb(this,n)}}function Hb(t,e){return!e||"object"!==Mb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nb(t){return(Nb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lb(t,e)}(i,t);var e,n,r,o=Ub(i);function i(){return Ab(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Export"}},{key:"clickButton",value:function(t){var e=fa.export(),n=new Blob([JSON.stringify(e,null,4)],{type:"application/json"}),r=new FileReader;r.onload=function(t){var e=document.createElement("a");e.download="easylogic-gradient.json",e.style.opacity="0",e.href=t.target.result,e.click()},r.readAsDataURL(n)}}])&&Vb(e.prototype,n),r&&Vb(e,r),i}(Tg);function Gb(t){return(Gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yb(t,e){return(Yb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kb(t);if(e){var o=Kb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qb(this,n)}}function qb(t,e){return!e||"object"!==Gb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kb(t){return(Kb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jb={LoadGradient:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yb(t,e)}(i,t);var e,n,r,o=Wb(i);function i(){return zb(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n        <div class=\'load-gradient\'>\n          <button type="button">Load Gradient</button> \n          <input type="file" ref="$file" />\n        </div>\n      '}},{key:bo("$el button"),value:function(){this.refs.$file.click()}},{key:So("$file"),value:function(t){var e=this;console.log(this.refs.$file.files[0]);var n=this.refs.$file.files[0],r=new FileReader;r.onload=function(t){var n=JSON.parse(t.target.result);n&&(fa.selection.current.reset(n.json),e.emit("hideGradientListView"),e.emit("refreshCanvas"),e.emit("selectGradient"))},r.readAsText(n,"utf-8")}}])&&Xb(e.prototype,n),r&&Xb(e,r),i}(Ai),ExportGradient:Fb,Initialize:Db,GradientList:Sb,ExportJSFiddle:nb,ExportCodePen:Wg,Github:Ug,Download:sb,Save:bb};function Zb(t){return(Zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function em(t,e){return(em=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=om(t);if(e){var o=om(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rm(this,n)}}function rm(t,e){return!e||"object"!==Zb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function om(t){return(om=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var im=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&em(t,e)}(i,t);var e,n,r,o=nm(i);function i(){return Qb(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return Jb}},{key:"template",value:function(){return"\n            <div class='tool-menu'>\n                <div class='items left'>\n                  <div class='logo'>\n                    <div class='text'>EasyLogic Gradient</div>\n                    <div class='site'>easylogic.studio</div>\n                  </div>\n                  <div class=\"menus\">\n                    <Initialize />\n                    <Save />                    \n                    <GradientList />\n                    <ExportGradient />\n                    <LoadGradient />\n                  </div>\n                </div>\n                <div class='items  right'>\n                    <Github />\n                    <Download />\n                </div>                \n            </div>\n        "}}])&&tm(e.prototype,n),r&&tm(e,r),i}(Ai);function am(t){return(am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function um(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lm(t,e){return(lm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hm(t);if(e){var o=hm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fm(this,n)}}function fm(t,e){return!e||"object"!==am(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hm(t){return(hm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lm(t,e)}(i,t);var e,n,r,o=sm(i);function i(){return um(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{label:this.props.label,value:this.props.value}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t),this.modifyColor()}},{key:"updateEndData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t),this.modifyEndColor()}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(t){this.changeColor(t)}},{key:"modifyColor",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:"modifyEndColor",value:function(){this.parent.trigger(this.props.onchangeend,this.props.key,this.state.value,this.props.params)}},{key:"changeColor",value:function(t){this.setState({value:t})}},{key:"refresh",value:function(){this.refs.$miniView.cssText("background-color: ".concat(this.state.value)),this.refs.$colorCode.val(this.state.value)}},{key:"template",value:function(){return"\n            <div class='color-view-editor'>    \n                <div class='color-code' ref=\"$container\">\n                    <div class='preview' ref='$preview'>\n                        <div class='mini-view'>\n                            <div class='color-view' style=\"background-color: ".concat(this.state.value,"\" ref='$miniView'></div>\n                        </div>\n                    </div>                \n                    <input type=\"text\" ref='$colorCode' value='").concat(this.state.value,'\' tabIndex="1" />\n                </div>\n            </div>\n        ')}},{key:_o("$colorCode"),value:function(t){this.refs.$container.addClass("focused")}},{key:Ro("$colorCode"),value:function(t){this.refs.$container.removeClass("focused")}},{key:bo("$preview"),value:function(t){this.viewColorPicker()}},{key:"viewColorPicker",value:function(){var t=this.$el.offset();this.emit("showColorPickerPopup",{target:this,left:t.left,top:t.top,changeEvent:"changeColorViewEditor",changeEndEvent:"changeEndColorViewEditor",color:this.state.value})}},{key:bo("$remove"),value:function(t){this.updateData({value:""})}},{key:Po("$el .color-code input"),value:function(t){var e=t.$dt.value;this.refs.$miniView.cssText("background-color: ".concat(e)),this.updateData({value:e})}},{key:Mi("changeColorViewEditor"),value:function(t){this.updateData({value:t}),this.refresh()}},{key:Mi("changeEndColorViewEditor"),value:function(t){this.updateEndData({value:t})}}])&&cm(e.prototype,n),r&&cm(e,r),i}(Ai);function vm(t){return(vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ym(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gm(t,e){return(gm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=km(t);if(e){var o=km(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mm(this,n)}}function mm(t,e){return!e||"object"!==vm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function km(t){return(km=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wm=["left","top","right","bottom",ke],Om=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gm(t,e)}(i,t);var e,n,r,o=bm(i);function i(){return dm(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"created",value:function(){this.min=this.props.min||0,this.max=this.props.max||1e3,this.step=this.props.step||1,this.value=this.props.value||0,this.unit=this.props.unit||pe,this.showClass="show",this.parent[this.props.maxvaluefunction]?this.maxValueFunction=this.parent[this.props.maxvaluefunction].bind(this.parent):this.maxValueFunction=function(){},this.parent[this.props.updatefunction]?this.updateFunction=this.parent[this.props.updatefunction].bind(this.parent):this.updateFunction=function(){}}},{key:"template",value:function(){var t=wm.includes(this.value)?"0px":this.value,e=Kr.parse(t);return"\n            <div class='unit-range'>\n                <div class='base-value'>\n                    <input ref=\"$range\" type=\"range\" class='range' min=\"".concat(this.min,'" max="').concat(this.max,'" step="').concat(this.step,'" value="').concat(e.value,'" />\n                    <input ref="$number" type="number" class=\'number\' min="').concat(this.min,'" max="').concat(this.max,'" step="').concat(this.step,'" value="').concat(e.value,"\"  />\n                    <select ref='$select'>\n                        <option value='px' ").concat(e.isPx()?"selected":"",">px</option>\n                        <option value='%' ").concat(e.isPercent()?"selected":"",">%</option>\n                        <option value='em' ").concat(e.isEm()?"selected":"",">em</option>\n                    </select>\n                </div>\n            </div>\n        ")}},{key:"refreshValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr.px(0);this.selectUnit(t)}},{key:"selectUnit",value:function(t){this.len=t,this.refs.$range.val(this.len.value),this.refs.$number.val(this.len.value),this.refs.$select.val(this.len.unit)}},{key:So("$select"),value:function(){var t=this.refs.$select.value;this.selectUnit(this.len.to(t,this.maxValueFunction()))}},{key:Po("$range"),value:function(t){var e=+this.refs.$range.val();this.refs.$number.val(this.len.value),this.len=new Kr(e,this.refs.$select.value),this.updateRange()}},{key:Po("$number"),value:function(t){var e=+this.refs.$number.val();this.refs.$range.val(this.len.value),this.len=new Kr(e,this.refs.$select.value),this.updateRange()}},{key:"updateRange",value:function(){this.updateFunction(this.len)}}])&&ym(e.prototype,n),r&&ym(e,r),i}(Ai);function $m(t){return($m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jm(t,e){return(jm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Sm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_m(t);if(e){var o=_m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pm(this,n)}}function Pm(t,e){return!e||"object"!==$m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _m(t){return(_m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jm(t,e)}(i,t);var e,n,r,o=Sm(i);function i(){return xm(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"onToggleShow",value:function(){}},{key:"components",value:function(){return{ColorViewEditor:pm,UnitRange:Om}}},{key:"template",value:function(){return"\n        <div class='property ".concat(this.getClassName()," show'>\n            ").concat(this.isHideHeader()?fe:"\n            <div class='property-title' ref=\"$title\">\n                <label>".concat(this.getTitle(),'</label>\n                <span class="tools">').concat(this.getTools(),"</span>\n            </div>"),"\n            <div class='property-body'>").concat(this.getBody(),"</div>\n        </div>\n        ")}},{key:"isHideHeader",value:function(){return!1}},{key:"getClassName",value:function(){return fe}},{key:"getTitle",value:function(){return fe}},{key:"getTools",value:function(){return fe}},{key:"getBody",value:function(){return fe}},{key:bo("$title label"),value:function(t){t.$delegateTarget.parent().hasClass("property-title")&&(this.$el.toggleClass("show"),this.onToggleShow())}},{key:"isPropertyShow",value:function(){return this.$el.hasClass("show")}},{key:"toggle",value:function(t){this.$el.toggle(t)}},{key:"hide",value:function(){this.$el.hide()}},{key:"show",value:function(){this.$el.show()}}])&&Cm(e.prototype,n),r&&Cm(e,r),i}(Ai);function Em(t){return(Em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tm(t){return function(t){if(Array.isArray(t))return Im(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Im(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Im(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Im(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bm(Object(n),!0).forEach((function(e){Mm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Am(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lm(t,e){return(Lm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Um(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nm(t);if(e){var o=Nm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hm(this,n)}}function Hm(t,e){return!e||"object"!==Em(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nm(t){return(Nm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fm={image:"Image",static:"Static","static-gradient":"Static",linear:"Linear","repeating-linear":"Repeating Linear",radial:"Radial","repeating-radial":"Repeating Radial",conic:"Conic","repeating-conic":"Repeating Conic","linear-gradient":"Linear","repeating-linear-gradient":"Repeating Linear","radial-gradient":"Radial","repeating-radial-gradient":"Repeating Radial","conic-gradient":"Conic","repeating-conic-gradient":"Repeating Conic"},Gm={image:"image",static:"gradient","static-gradient":"gradient",linear:"gradient","repeating-linear":"gradient",radial:"gradient","repeating-radial":"gradient",conic:"gradient","repeating-conic":"gradient","linear-gradient":"gradient","repeating-linear-gradient":"gradient","radial-gradient":"gradient","repeating-radial-gradient":"gradient","conic-gradient":"gradient","repeating-conic-gradient":"gradient"},zm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lm(t,e)}(i,t);var e,n,r,o=Um(i);function i(){return Am(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Gradients"}},{key:"getBody",value:function(){return"<div class='property-item fill-list' ref='$fillList'></div>"}},{key:"getTools",value:function(){return'\n        <button type="button" ref="$add" title="add Fill">'.concat(sp,"</button>\n    ")}},{key:"getClassName",value:function(){return"gradients"}},{key:"getColorStepList",value:function(t){switch(t.type){case"static-gradient":case"linear-gradient":case"repeating-linear-gradient":case"radial-gradient":case"repeating-radial-gradient":case"conic-gradient":case"repeating-conic-gradient":return this.getColorStepString(t.colorsteps)}return fe}},{key:"getColorStepString",value:function(t){return t.map((function(t){return"<div class='step' data-colorstep-id=\"".concat(t.id,"\" style='background-color:").concat(t.color,";' title=\"").concat(t.color,'"></div>')})).join(fe)}},{key:Xo("$fillList"),value:function(){var t=this,e=fa.selection.current;return e?e.backgroundImages.map((function(e,n){var r=e.image,o=Gm[r.type],i=Fm[r.type],a=xl(e.toBackgroundImageCSS()),u=e.selected?"selected":"";return e.selected&&(t.selectedIndex=n),"\n      <div class='fill-item ".concat(u,"' data-index='").concat(n,"' ref=\"fillIndex").concat(n,"\" draggable='true' data-fill-type=\"").concat(o,'" >\n          <div class="move-container">\n            <button type="button" data-type="up">▲</button>\n            <button type="button" data-type="down">▽</button>\n          </div>\n          <div class="fill-item-container">\n            <div class=\'preview\' data-index="').concat(n,'" ref="preview').concat(n,"\">\n                <div class='mini-view' style=\"").concat(a,'" ref="miniView').concat(n,"\"></div>\n            </div>\n            <div class='fill-info' title=\"Please drag to change order\">\n              <div class='gradient-info'>\n                <div class='fill-title' ref=\"fillTitle").concat(n,'">').concat(i,"</div>\n                <div class='tools'>\n                  <button type=\"button\" class='remove' data-index='").concat(n,"'>").concat(cp,"</button>\n                </div>\n              </div>\n              <div class='background-image-info'>\n                <div ref=\"size").concat(n,'">').concat(e.width,"/").concat(e.height,'</div>\n                <div ref="repeat').concat(n,'">').concat(e.repeat,"</div>\n                <div class='blend-mode' ref=\"blendMode").concat(n,'">').concat(e.blendMode,"</div>\n              </div>\n            </div>\n          </div>\n\n      </div>\n      ")})):fe}},{key:Mi("CHANGE_RECT","CHANGE_LAYER","CHANGE_ARTBOARD","CHANGE_SELECTION"),value:function(){this.refresh(),this.emit("hideFillPicker"),this.emit("hideBackgroundPropertyPopup")}},{key:"refresh",value:function(){this.load()}},{key:bo("$add"),value:function(t){var e=fa.selection.current;e&&(e.createBackgroundImage({selected:!0}),this.refresh(),this.selectedIndex=e.backgroundImages.length-1,this.selectItem(this.selectedIndex,!0),this.emit("refreshCanvas"),this.emit("CHANGE_INSPECTOR"),this.current=fa.selection.current,this.currentBackgroundImage=this.current.getSelectedBackgroundImage(),this.emit("showFillPicker",Dm(Dm({},this.getFillData(this.currentBackgroundImage)),{},{selectColorStepId:null,refresh:!0}),{id:this.source}),this.viewBackgroundPropertyPopup(),this.emit("selectGradient"))}},{key:Mi("selectGradient"),value:function(){var t=fa.selection.current;t&&(this.refresh(),this.selectedIndex=t.getSelectedBackgroundIndex(),this.selectItem(this.selectedIndex,!0),this.emit("CHANGE_INSPECTOR"),this.current=t,this.currentBackgroundImage=this.current.getSelectedBackgroundImage(),this.emit("showFillPicker",Dm(Dm({},this.getFillData(this.currentBackgroundImage)),{},{selectColorStepId:null,refresh:!0}),{id:this.source}),this.viewBackgroundPropertyPopup())}},{key:"getFillData",value:function(t){if(!t)return{};var e={type:t.type};switch(e.type){case"image":e.url=t.image?t.image.url:"";break;default:if(t.image){var n=t.image;e.type=n.type,e.colorsteps=Tm(n.colorsteps),e.angle=n.angle,e.radialType=n.radialType||"ellipse",e.radialPosition=n.radialPosition||Wr.CENTER}else e.colorsteps=[],e.angle=0,e.radialType="ellipse",e.radialPosition=Wr.CENTER}return e}},{key:bo("$fillList .colorsteps .step"),value:function(t){var e=t.$delegateTarget.attr("data-colorstep-id"),n=t.$delegateTarget.closest("fill-item").$(".preview");this.viewFillPicker(n,e)}},{key:bo("$fillList .move-container [data-type]")+Go,value:function(t){var e=+t.$delegateTarget.closest("fill-item").attr("data-index"),n=t.$delegateTarget.attr("data-type"),r=fa.selection.current,o=-1;if("up"===n){if(o=e-1,console.log(e,o),o<0)return}else if("down"===n&&(o=e+1)>=r.backgroundImages.length)return;r.sortBackgroundImage(e,o),this.emit("refreshCanvas"),this.refresh(),this.viewFillPicker(this.getRef("preview",o))}},{key:bo("$fillList .tools .remove"),value:function(t){var e=t.$delegateTarget.attr("data-index"),n=fa.selection.current;n&&n.backgroundImages[e]&&(n.removeBackgroundImage(e),this.emit("refreshCanvas"),this.refresh())}},{key:"selectItem",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.refs.$fillList.$$(".selected").forEach((function(t){return t.removeClass("selected")})),n&&(null===(e=this.refs["fillIndex".concat(t)])||void 0===e||e.addClass("selected")),this.current&&this.current.selectBackgroundImage(t)}},{key:"viewFillPicker",value:function(t,e){"number"==typeof this.selectedIndex&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t.attr("data-index"),this.selectItem(this.selectedIndex,!0),this.current=fa.selection.current,this.current&&(this.currentBackgroundImage=this.current.getSelectedBackgroundImage(),this.emit("showFillPicker",Dm(Dm({},this.getFillData(this.currentBackgroundImage)),{},{selectColorStepId:e,refresh:!0}),{id:this.source}),this.viewBackgroundPropertyPopup(),this.emit("selectGradient"))}},{key:"viewBackgroundPropertyPopup",value:function(){if(this.current=fa.selection.current,this.current){this.currentBackgroundImage=this.current.getSelectedBackgroundImage();var t=this.currentBackgroundImage||{},e=t.x,n=t.y,r=t.width,o=t.height,i=this.current.width,a=this.current.height,u=t.repeat,c=t.size,l=t.blendMode,s=t.image;this.emit("showBackgroundPropertyPopup",{image:s,x:e,y:n,width:r,height:o,maxWidth:i,maxHeight:a,repeat:u,size:c,blendMode:l})}}},{key:bo("$fillList .fill-item-container"),value:function(t){this.viewFillPicker(t.$delegateTarget.$(".preview"))}},{key:"viewChangeImage",value:function(t){var e,n=this.currentBackgroundImage;n&&((e=this.getRef("miniView",this.selectedIndex))&&e.css(Dm(Dm({},n.toBackgroundImageCSS()),{},{"background-size":"cover"})),(e=this.getRef("fillTitle",this.selectedIndex))&&e.html(Fm.image),(e=this.getRef("colorsteps",this.selectedIndex))&&e.empty())}},{key:"setImage",value:function(t){this.currentBackgroundImage&&(this.currentBackgroundImage.setImageUrl(t),this.viewChangeImage(t),this.current&&this.emit("refreshCanvas",this.current))}},{key:Mi("selectFillPickerTab"),value:function(t,e){var n=Gm[t];this.refs["fillIndex".concat(this.selectedIndex)].attr("data-fill-type",n)}},{key:"viewChangeGradient",value:function(t){var e,n=this.currentBackgroundImage;n&&((e=this.getRef("miniView",this.selectedIndex))&&e.cssText(xl(n.toBackgroundImageCSS())),(e=this.getRef("fillTitle",this.selectedIndex))&&e.html(Fm[t.type]))}},{key:"setGradient",value:function(t){this.currentBackgroundImage&&(this.currentBackgroundImage.setGradient(t),this.viewChangeGradient(t),this.emit("refreshCanvas"))}},{key:Mi("changeFillPicker"),value:function(t,e){if(e.id===this.source)switch(t.type){case"image":this.setImage(t);break;default:this.setGradient(t)}}},{key:"getRef",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.refs[e.join("")]}},{key:"refreshBackgroundPropertyInfo",value:function(t,e){if(e.blendMode)(n=this.getRef("blendMode",this.selectedIndex)).text(e.blendMode);else if(e.width||e.height||e.size){var n=this.getRef("size",this.selectedIndex);switch(t.size){case"contain":case"cover":var r=t.size;break;default:r="".concat(t.width,"/").concat(t.height)}n.text(r)}else e.repeat&&(n=this.getRef("repeat",this.selectedIndex)).text(e.repeat)}},{key:Mi("changeBackgroundPropertyPopup"),value:function(t){this.currentBackgroundImage&&(this.currentBackgroundImage.reset(Dm({},t)),this.current&&(this.emit("refreshCanvas",this.current),this.refreshBackgroundPropertyInfo(this.currentBackgroundImage,t)))}},{key:Mi("refreshCanvas"),value:function(){this.viewBackgroundPropertyPopup()}}])&&Vm(e.prototype,n),r&&Vm(e,r),i}(Rm);function Xm(t){return(Xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ym(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qm(t,e){return(qm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Km(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zm(t);if(e){var o=Zm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jm(this,n)}}function Jm(t,e){return!e||"object"!==Xm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zm(t){return(Zm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qm,tk,ek,nk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qm(t,e)}(i,t);var e,n,r,o=Km(i);function i(){return Ym(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Background Color"}},{key:"getClassName",value:function(){return"background-color"}},{key:"getBody",value:function(){var t=fa.selection.current||{backgroundColor:"white"};return"\n            <div class='property-item background-color'>\n              <ColorViewEditor ref='$color' key='background-color' value=\"".concat(t.backgroundColor,'" onchange="changeColor" />\n            </div>\n        ')}},{key:Mi("CHANGE_EDITOR","CHANGE_LAYER","CHANGE_ARTBOARD","CHANGE_SELECTION"),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=fa.selection.current;this.children.$color.setValue(t.backgroundColor)}},{key:Mi("changeColor"),value:function(t,e){var n=fa.selection.current;n&&(n.backgroundColor=e,this.emit("refreshCanvas",n))}}])&&Wm(e.prototype,n),r&&Wm(e,r),i}(Rm);function rk(t){return(rk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ok(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ik(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ak(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ck(t,e){return(ck=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lk(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fk(t);if(e){var o=fk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sk(this,n)}}function sk(t,e){return!e||"object"!==rk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fk(t){return(fk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hk,pk=["blur","grayscale","hue-rotate","invert","brightness","contrast","drop-shadow","opacity","saturate","sepia"],vk={blur:Pv.spec,grayscale:_v.spec,"hue-rotate":Rv.spec,invert:Ev.spec,brightness:Tv.spec,contrast:Iv.spec,"drop-shadow":Av.spec,opacity:Bv.spec,saturate:Dv.spec,sepia:Mv.spec},dk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ck(t,e)}(i,t);var e,n,r,o=lk(i);function i(){return ak(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Filters"}},{key:"getBody",value:function(){return"<div class='property-item filter-list' ref='$filterList'></div>"}},{key:"getClassName",value:function(){return"filter"}},{key:"getTools",value:function(){return Je(Qm||(Qm=ik(['\n      <select ref="$filterSelect" style="width:100px;">\n        ','\n      </select>\n      <button type="button" ref="$add" title="add Filter">',"</button>\n    "])),pk.map((function(t){return"<option value='".concat(t,"'>").concat(t,"</option>")})),sp)}},{key:"getSpec",value:function(t){return vk[t]}},{key:"makeDropShadowFilterTemplate",value:function(t,e,n){return Je(tk||(tk=ik(['\n      <div class="filter-item">\n        <div class="title" draggable="true" data-index="','">\n          <label>Drop Shadow</label>\n          <div class="filter-menu">\n            <button type="button" class="del" data-index="','">\n              ','\n            </button>\n          </div>\n        </div>\n\n        <div class="filter-ui drop-shadow-color">\n          <label>','</label>\n          <div class="preview">\n            <div\n              class="mini-view"\n              style="background-color: ','"\n              ref="$miniView','"\n              data-index="','"\n              data-key="color"\n            ></div>\n          </div>\n          <div class="color-code">\n            <input\n              type="text"\n              ref="$colorCode','"\n              value="','"\n              data-index="','"\n              data-key="color"\n            />\n          </div>\n        </div>\n\n        ',"\n      </div>\n    "])),n,n,cp,t.color.title,e.color,n,n,n,e.color,n,["offsetX","offsetY","blurRadius"].map((function(r){return'        \n            <div class="filter-ui drop-shadow">\n                <label>'.concat(t[r].title,'</label>\n                <div class="slider">\n                <input\n                    type="range"\n                    min="').concat(t[r].min,'"\n                    max="').concat(t[r].max,'"\n                    step="').concat(t[r].step,'"\n                    value="').concat(e[r].value.toString(),'"\n                    ref="$range').concat(r,'"\n                    data-key="').concat(r,'"\n                    data-index="').concat(n,'"\n                />\n                </div>\n                <div class="input">\n                <input\n                    class="unit-value"\n                    type="number"\n                    min="').concat(t[r].min,'"\n                    max="').concat(t[r].max,'"\n                    step="').concat(t[r].step,'"\n                    value="').concat(e[r].value.toString(),'"\n                    data-index="').concat(n,'"\n                    ref="$number').concat(r,'"\n                    data-key="').concat(r,'"\n                />\n                </div>\n                <div class="select">\n                <select class="unit" ref="$unit').concat(r,'" data-key="').concat(r,'" data-index="').concat(n,'">\n                    ').concat(t.offsetX.units.map((function(t){return"<option value='".concat(t,"' ").concat(e.offsetX.unit===t?"selected":"",">").concat(t,"</option>")})),"\n                </select>\n                </div>\n            </div>")})))}},{key:"makeOneFilterTemplate",value:function(t,e,n){return Je(ek||(ek=ik(['\n      <div class="filter-item" data-index="','">\n        <div class="title" draggable="true" data-index="','">\n          <label>','</label>\n          <div class="filter-menu">\n            <button type="button" class="del" data-index="','">\n              ','\n            </button>\n          </div>\n        </div>\n        <div class="filter-ui">\n          <div class="slider">\n            <input\n              type="range"\n              min="','"\n              max="','"\n              step="','"\n              value="','"\n              ref="$range','"\n              data-index="','"\n            />\n          </div>\n          <div class="input">\n            <input\n              class="unit-value"\n              type="number"\n              min="','"\n              max="','"\n              step="','"\n              value="','"\n              data-index="','"\n              ref="$number','"\n            />\n          </div>\n          <div class="select">\n            <select class="unit" ref="$unit','" data-index="','">\n              ',"\n            </select>\n          </div>\n        </div>\n      </div>\n    "])),n,n,t.title,n,cp,t.min,t.max,t.step,e.value.value.toString(),n,n,t.min,t.max,t.step,e.value.value.toString(),n,n,n,n,t.units.map((function(t){return"<option value='".concat(t,"' ").concat(e.value.unit===t?"selected":"",">").concat(t,"</option>")})))}},{key:"makeFilterTemplate",value:function(t,e){return"drop-shadow"===t.type?this.makeDropShadowFilterTemplate(this.getSpec(t.type),t,e):this.makeOneFilterTemplate(this.getSpec(t.type),t,e)}},{key:Xo("$filterList"),value:function(){var t=this,e=fa.selection.current;return e?e.filters.map((function(e,n){return t.makeFilterTemplate(e,n.toString())})):fe}},{key:$o("$filterList .filter-item .title"),value:function(t){this.startIndex=+t.$delegateTarget.attr("data-index")}},{key:Co("$filterList .filter-item")+Go,value:function(t){}},{key:xo("$filterList .filter-item")+Go,value:function(t){var e=+t.$delegateTarget.attr("data-index"),n=fa.selection.current;n&&(n.sortFilter(this.startIndex,e),this.emit("refreshCanvas"),this.refresh())}},{key:bo("$add"),value:function(){var t=this.refs.$filterSelect.value,e=fa.selection.current;e&&(e.createFilter(t),this.emit("refreshCanvas")),this.refresh()}},{key:bo("$filterList .filter-menu .del"),value:function(t){var e=+t.$delegateTarget.attr("data-index"),n=fa.selection.current;n&&(n.removeFilter(e),this.emit("refreshCanvas")),this.refresh()}},{key:bo("$filterList .filter-ui .mini-view"),value:function(t){var e=+t.$delegateTarget.attr("data-index"),n=t.$delegateTarget.attr("data-key");if(fa.selection.current){var r=t.$delegateTarget.css("background-color"),o=t.$delegateTarget.rect();this.emit("showColorPicker",{changeEvent:"changeDropShadowColor",color:r,left:o.left+90,top:o.top},{index:e,key:n})}}},{key:Mi("changeDropShadowColor"),value:function(t,e){var n=e.index,r=e.key,o=fa.selection.current;o&&(n=n.toString(),o.updateFilter(n,ok({},r,t)),this.getRef("$miniView",n).css("background-color",t),this.getRef("$colorCode",n).val(t),this.emit("refreshCanvas"))}},{key:"getRef",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.refs[e.join(fe)]}},{key:"modifyInputRange",value:function(t,e,n,r,o){r.val(n);var i=fa.selection.current;i&&(e=e||"value",i.updateFilter(t,ok({},e,new Kr(n.value,o.value))),this.emit("refreshCanvas"))}},{key:Po('$filterList .filter-item input[type="range"]'),value:function(t){var e=t.$delegateTarget,n=e.attr("data-index"),r=e.attr("data-key");this.modifyInputRange(n,r,e,this.getRef("$number",r||n),this.getRef("$unit",r||n))}},{key:Po('$filterList .filter-item input[type="number"]'),value:function(t){var e=t.$delegateTarget,n=e.attr("data-index"),r=e.attr("data-key");this.modifyInputRange(n,r,e,this.getRef("$range",r||n),this.getRef("$unit",r||n))}},{key:So("$filterList .filter-item select"),value:function(t){var e=t.$delegateTarget,n=e.attr("data-index"),r=e.attr("data-key");this.modifyInputRange(n,r,this.getRef("$number",r||n),this.getRef("$range",r||n),e)}},{key:"refresh",value:function(){this.load()}}])&&uk(e.prototype,n),r&&uk(e,r),i}(Rm);function yk(t){return(yk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mk(t,e){return(mk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kk(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ok(t);if(e){var o=Ok(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wk(this,n)}}function wk(t,e){return!e||"object"!==yk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ok(t){return(Ok=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $k,xk=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"],Ck=["all","top","right","bottom","left"],jk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mk(t,e)}(i,t);var e,n,r,o=kk(i);function i(){return gk(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Border"}},{key:"afterRender",value:function(){this.refresh()}},{key:"getClassName",value:function(){return"border"}},{key:Xo("$borderDirection"),value:function(){var t=fa.selection.current||{border:{}};return Ck.map((function(e){return'<button type="button" data-value="'.concat(e,'" ref="$').concat(e,"\" has-value='").concat(!!t.border[e],"'></button>")}))}},{key:"getTemplateForBorderProperty",value:function(){return Je(hk||(t=['\n      <div class="property-item border-item">\n        <div\n          class="border-direction"\n          ref="$borderDirection"\n          data-selected-value="all"\n        ></div>\n        <div class="input-group">\n          <div class="input-field">\n            <div class="slider">\n              <label>Width</label>\n            </div>\n            <div class="input-ui">\n              <div class="input">\n                <input type="number" min="0" max="100" value="0" ref="$width" />\n              </div>\n              <div class="select">\n                <select class="unit" ref="$unit">\n                  <option value="px">px</option>\n                  <option value="em">em</option>\n                </select>\n              </div>\n            </div>\n          </div>\n          <div class="input-field">\n            <div class="slider">\n              <label>Style</label>\n            </div>\n            <div class="input-ui">\n              <div class="style">\n                <select ref="$style">\n                  ','\n                </select>\n              </div>\n            </div>\n          </div>\n\n          <div class="input-field">\n            <div class="slider">\n              <label>Color</label>\n            </div>\n            <div class="input-ui color-ui">\n              <ColorViewEditor ref=\'$color\' key=\'borderColor\' value="black" onchange="changeColor" />\n            </div>\n          </div>\n        </div>\n      </div>\n    '],e||(e=t.slice(0)),hk=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),xk.map((function(t){return'<option value="'.concat(t,'">').concat(t,"</option>")})));var t,e}},{key:"getBody",value:function(){return"\n        ".concat(this.getTemplateForBorderProperty(),"\n    ")}},{key:"refresh",value:function(){this.load()}},{key:So("$unit"),value:function(t){this.refreshBorderInfo()}},{key:Po("$width"),value:function(t){this.refreshBorderInfo()}},{key:So("$style"),value:function(t){this.refreshBorderInfo()}},{key:"refreshBorderInfo",value:function(){var t=this.refs.$width.value,e=this.refs.$borderDirection.attr("data-selected-value"),n=this.refs.$unit.value,r=this.refs.$style.value,o=this.children.$color.getValue(),i=fa.selection.current;i&&(i.setBorder(e,{width:new Kr(t,n),style:r,color:o}),this.refresh(),this.emit("refreshCanvas"),this.emit("toggleBorderImage"))}},{key:bo("$borderDirection button"),value:function(t){var e=t.$delegateTarget.attr("data-value");this.refs.$borderDirection.attr("data-selected-value",e);var n=fa.selection.current;n&&n.setBorder(e),this.refresh()}},{key:Mi("changeColor"),value:function(t){this.refreshBorderInfo()}}])&&bk(e.prototype,n),r&&bk(e,r),i}(Rm);function Sk(t){return(Sk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rk(t,e){return(Rk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ek(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ik(t);if(e){var o=Ik(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tk(this,n)}}function Tk(t,e){return!e||"object"!==Sk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ik(t){return(Ik=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bk,Dk=[{key:"topLeft",title:"Top Left"},{key:"topRight",title:"Top Right"},{key:"bottomLeft",title:"Bottom Left"},{key:"bottomRight",title:"Bottom Right"}],Mk=Dk.map((function(t){return t.key})),Ak=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rk(t,e)}(i,t);var e,n,r,o=Ek(i);function i(){return Pk(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Radius"}},{key:"getClassName",value:function(){return"border-radius"}},{key:"getBody",value:function(){return Je($k||(t=['\n      <div class="property-item border-radius-item">\n        <div class="radius-selector" data-selected-value="all" ref="$selector">\n          <button type="button" data-value="all"></button>\n          <button type="button" data-value="partitial"></button>\n        </div>\n        <div class="radius-value">\n          <input type="range" min="0" max="100" ref="$range" value="0" />\n          <input type="number" min="0" max="100" ref="$number" value="0" />\n          <select ref="$unit">\n            <option value="px">px</option>\n            <option value="%">%</option>\n            <option value="em">em</option>\n          </select>\n        </div>\n      </div>\n      <div\n        class="property-item border-radius-item"\n        ref="$partitialSetting"\n        style="display: none;"\n      >\n        <label></label>\n        <div class="radius-setting-box" ref="$radiusSettingBox">\n          ',"\n        </div>\n      </div>\n    "],e||(e=t.slice(0)),$k=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),Dk.map((function(t){return"\n              <div>\n                <label class='".concat(t.key,'\'></label>\n                <input type="number" ref="$').concat(t.key,'Radius" min="0" value="0" data-key="').concat(t.key,'" /> \n                <select ref="$').concat(t.key,'Unit" data-key="').concat(t.key,"\">\n                  <option value='px'>px</option>\n                  <option value='%'>%</option>\n                  <option value='em'>em</option>\n                </select>\n              </div>  \n            ")})));var t,e}},{key:Po("$range"),value:function(t){var e=this,n=this.getRef("$range").value;this.getRef("$number").val(n),Mk.forEach((function(t){e.getRef("$",t,"Radius").val(n)})),this.setBorderRadius()}},{key:Po("$number"),value:function(t){var e=this,n=this.getRef("$number").value;this.getRef("$range").val(n),Mk.forEach((function(t){e.getRef("$",t,"Radius").val(n)})),this.setBorderRadius()}},{key:So("$unit"),value:function(t){var e=this,n=this.getRef("$unit").value;Mk.forEach((function(t){e.getRef("$",t,"Unit").val(n)})),this.setBorderRadius()}},{key:Po("$radiusSettingBox input"),value:function(t){this.setBorderRadius()}},{key:So("$radiusSettingBox select"),value:function(t){this.setBorderRadius()}},{key:"setBorderRadius",value:function(){var t=this,e=fa.selection.current;if(e){var n=this.refs.$selector.attr("data-selected-value");if("all"===n)e.setBorderRadius(n,{all:new Kr(this.getRef("$range").value,this.getRef("$unit").value)});else{var r={};Mk.forEach((function(e){r[e]=new Kr(t.getRef("$",e,"Radius").value,t.getRef("$",e,"Unit").value)})),e.setBorderRadius(n,r)}this.emit("refreshCanvas")}}},{key:bo("$selector button"),value:function(t){var e=t.$delegateTarget.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.setBorderRadius()}}])&&_k(e.prototype,n),r&&_k(e,r),i}(Rm);function Vk(t){return(Vk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hk(t,e){return(Hk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nk(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gk(t);if(e){var o=Gk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fk(this,n)}}function Fk(t,e){return!e||"object"!==Vk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gk(t){return(Gk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hk(t,e)}(i,t);var e,n,r,o=Nk(i);function i(){return Lk(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"isHideHeader",value:function(){return!0}},{key:"afterRender",value:function(){var t=this;setTimeout((function(){t.emit("caculateSize","caculateSizeProperty")}),1e3)}},{key:Mi("caculateSizeProperty"),value:function(t){this.refs.$width.val(t.width.value),this.refs.$height.val(t.height.value)}},{key:"getClassName",value:function(){return"size"}},{key:"getBody",value:function(){return Je(Bk||(t=['\n      <div class="property-item size-item">\n        <div class="width">\n          <input type="number" ref="$width" min="1" />\n          <label>Width</label>\n        </div>\n        <div class="tool">\n          <button type="button" data-value="fixed" ref="$fixSize" title="Same Size">\n            =\n          </button>\n        </div>\n        <div class="height">\n          <input type="number" ref="$height" min="1" />\n          <label>Height</label>\n        </div>\n      </div>\n    '],e||(e=t.slice(0)),Bk=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}},{key:Po("$width"),value:function(){this.setSize({width:Kr.px(+this.getRef("$width").value)})}},{key:Po("$height"),value:function(){this.setSize({height:Kr.px(+this.getRef("$height").value)})}},{key:bo("$fixSize"),value:function(){var t=Kr.px(+this.getRef("$width").value);this.getRef("$height").val(+t),this.setSize({width:t,height:t.clone()})}},{key:"setSize",value:function(t){var e=fa.selection.current;e&&(e.setSize(t),this.emit("refreshCanvas"))}}])&&Uk(e.prototype,n),r&&Uk(e,r),i}(Rm);function Xk(t){return(Xk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qk(t,e,n){return(qk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Kk(t,e){return(Kk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jk(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qk(t);if(e){var o=Qk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zk(this,n)}}function Zk(t,e){return!e||"object"!==Xk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qk(t){return(Qk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tw,ew,nw,rw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kk(t,e)}(i,t);var e,n,r,o=Jk(i);function i(){return Yk(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){return new i(t)}}],(n=[{key:"getDefaultObject",value:function(){return qk(Qk(i.prototype),"getDefaultObject",this).call(this,{itemType:"box-shadow",inset:!1,offsetX:Kr.px(0),offsetY:Kr.px(0),blurRadius:Kr.px(0),spreadRadius:Kr.px(0),color:"rgba(0, 0, 0, 1)"})}},{key:"toCSS",value:function(){return{"box-shadow":this.toString()}}},{key:"toString",value:function(){var t=this.json;return"".concat(t.inset?"inset ":fe).concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.spreadRadius," ").concat(t.color)}}])&&Wk(e.prototype,n),r&&Wk(e,r),i}(Tl);function ow(t){return(ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iw(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function aw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cw(t,e){return(cw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fw(t);if(e){var o=fw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sw(this,n)}}function sw(t,e){return!e||"object"!==ow(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fw(t){return(fw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hw,pw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cw(t,e)}(i,t);var e,n,r,o=lw(i);function i(){return aw(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Box Shadows"}},{key:"getBody",value:function(){return Je(tw||(tw=iw(['\n      <div class="property-item box-shadow-item" ref="$shadowList"></div>\n    '])))}},{key:"getTools",value:function(){return Je(ew||(ew=iw(['\n      <button type="button" ref="$add" title="add Box Shadow">\n        ',"\n      </button>\n    "])),sp)}},{key:Xo("$shadowList"),value:function(){var t=fa.selection.current;if(!t)return fe;var e=t.boxShadows.map((function(t,e){return Je(nw||(nw=iw(['\n        <div class="shadow-item real" data-index="','">\n          <div class="inset" data-value="','">','</div>\n          <div\n            class="color"\n            style="background-color: ','"\n            data-index="','"\n          ></div>\n          <div class="offset-x">','</div>\n          <div class="offset-y">','</div>\n          <div class="blur-radius">','</div>\n          <div class="spread-radius">','</div>\n          <div class="tools">\n            <button type="button" class="remove" data-index="','">\n              ',"\n            </button>\n          </div>\n        </div>\n      "])),e,t.inset,up,t.color,e,t.offsetX.toString(),t.offsetY.toString(),t.blurRadius.toString(),t.spreadRadius.toString(),e,cp)}));return e.push('\n    <div class="shadow-item desc">\n          <div class="inset" >Inset</div>\n          <div class="color"></div>\n          <div class="offset-x">X</div>\n          <div class="offset-y">Y</div>\n          <div class="blur-radius">Blur</div>\n          <div class="spread-radius">Spread</div>\n          <div class="tools">\n          </div>\n        </div>\n    '),e}},{key:Mi("CHANGE_RECT","CHANGE_LAYER","CHANGE_ARTBOARD","CHANGE_SELECTION"),value:function(){this.refresh()}},{key:"refresh",value:function(){this.load()}},{key:bo("$add"),value:function(){var t=fa.selection.current;t&&(t.addBoxShadow(new rw),this.emit("refreshCanvas"),this.refresh())}},{key:bo("$shadowList .remove"),value:function(t){var e=+t.$delegateTarget.attr("data-index"),n=fa.selection.current;n&&(n.removeBoxShadow(e),this.refresh(),this.emit("refreshCanvas"))}},{key:bo("$shadowList .shadow-item.real .color"),value:function(t){var e=+t.$delegateTarget.attr("data-index"),n=fa.selection.current;if(n){var r=n.boxShadows[e];this.viewShadowPopup(r,e)}}},{key:"viewShadowPopup",value:function(t,e){this.selectedIndex=e,this.emit("showColorPicker",{changeEvent:"changeBoxShadowColor",color:t.color,hasNotHide:!0}),this.viewBoxShadowPropertyPopup(t)}},{key:"viewBoxShadowPropertyPopup",value:function(t){this.emit("showBoxShadowPropertyPopup",t.clone())}},{key:Mi("changeBoxShadowColor"),value:function(t){var e=fa.selection.current;e&&(e.updateBoxShadow(this.selectedIndex,{color:t}),this.refresh(),this.emit("refreshCanvas"))}},{key:Mi("changeBoxShadowPropertyPopup"),value:function(t){var e=fa.selection.current;e&&(e.updateBoxShadow(this.selectedIndex,t),this.refresh(),this.emit("refreshCanvas"))}}])&&uw(e.prototype,n),r&&uw(e,r),i}(Rm);function vw(t){return(vw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gw(t,e){return(gw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kw(t);if(e){var o=kw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mw(this,n)}}function mw(t,e){return!e||"object"!==vw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kw(t){return(kw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ww,Ow=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"],$w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gw(t,e)}(i,t);var e,n,r,o=bw(i);function i(){return dw(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Outline"}},{key:"afterRender",value:function(){this.refresh()}},{key:"getClassName",value:function(){return"outline"}},{key:"getTemplateForOutlineProperty",value:function(){var t,e,n=fa.selection.current||{outline:{color:"white"}};return Je(hw||(t=['\n      <div class="property-item outline-item">\n        <div class="input-group">\n          <div class="input-field">\n            <div class="slider">\n              <label>Width</label>\n            </div>\n            <div class="input-ui">\n              <div class="input">\n                <input type="number" min="0" max="100" value="0" ref="$width" />\n              </div>\n              <div class="select">\n                <select class="unit" ref="$unit">\n                  <option value="px">px</option>\n                  <option value="em">em</option>\n                </select>\n              </div>\n            </div>\n          </div>\n          <div class="input-field">\n            <div class="slider">\n              <label>Style</label>\n            </div>\n            <div class="input-ui">\n              <div class="style">\n                <select ref="$style">\n                  ','\n                </select>\n              </div>\n            </div>\n          </div>\n\n          <div class="input-field">\n            <div class="slider">\n              <label>Color</label>\n            </div>\n            <div class="input-ui color-container">\n              <ColorViewEditor ref=\'$color\' key=\'outlineColor\' value="','" onchange="changeColor" />\n            </div>\n          </div>\n        </div>\n      </div>\n    '],e||(e=t.slice(0)),hw=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),Ow.map((function(t){return'<option value="'.concat(t,'">').concat(t,"</option>")})),n.outline.color)}},{key:"getBody",value:function(){return"\n        ".concat(this.getTemplateForOutlineProperty(),"\n    ")}},{key:"refresh",value:function(){this.load();var t=fa.selection.current;t&&(console.log(t.outline.color),this.children.$color.setValue(t.outline.color))}},{key:So("$unit"),value:function(t){this.refreshOutlineInfo()}},{key:Po("$width"),value:function(t){this.refreshOutlineInfo()}},{key:So("$style"),value:function(t){this.refreshOutlineInfo()}},{key:"refreshOutlineInfo",value:function(){var t=this.refs.$width.value,e=this.refs.$unit.value,n=this.refs.$style.value,r=this.children.$color.getValue(),o=fa.selection.current;o&&(o.setOutline({width:new Kr(t,e),style:n,color:r}),this.refresh(),this.emit("refreshCanvas"))}},{key:Mi("changeColor"),value:function(){this.refreshOutlineInfo()}}])&&yw(e.prototype,n),r&&yw(e,r),i}(Rm);function xw(t){return(xw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cw(Object(n),!0).forEach((function(e){Sw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rw(t,e){return(Rw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ew(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Iw(t);if(e){var o=Iw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tw(this,n)}}function Tw(t,e){return!e||"object"!==xw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Iw(t){return(Iw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bw,Dw=["stretch","repeat","round","space"],Mw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rw(t,e)}(i,t);var e,n,r,o=Ew(i);function i(){return Pw(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Border Image"}},{key:"getClassName",value:function(){return"border-image"}},{key:"afterRender",value:function(){this.refresh(),this.trigger("toggleBorderImage")}},{key:"getTemplateForBorderImageProperty",value:function(){var t,e,n=fa.selection.current||{borderImage:{width:Kr.px(0),outset:0,slice:Kr.percent(100)}};return Je(ww||(t=['\n      <div class="property-item border-image-item">\n        <div class="input-group">\n          <div class="input-field">\n            <div class="slider">\n              <label>gradient</label>\n            </div>\n            <div class="input-ui">\n              <div class=\'gradient-preview\' ref="$preview" style=\'border:1px solid #adadad;cursor:pointer;\'>\n                <div class=\'gradient-view\' ref=\'$gradientView\'></div>\n              </div>\n            </div>\n          </div>\n          <div class="input-field">\n            <div class="slider">\n              <label>Width</label>\n            </div>\n            <div class="input-ui">\n              <div class="input">\n                <input type="number" min="0" max="100" value="','" ref="$width" />\n              </div>\n              <div class="select">\n                <select class="unit" ref="$unit">\n                  <option value="px">px</option>\n                  <option value="%">%</option>\n                </select>\n              </div>\n            </div>\n          </div>\n          <div class="input-field">\n            <div class="slider">\n              <label>Slice</label>\n            </div>\n            <div class="input-ui">\n              <div class="input">\n                <input type="number" min="0" max="100" value="','" ref="$slice" />\n              </div>\n              <div class="select">\n                <select class="unit" ref="$sliceUnit">\n                  <option value="px" ','>px</option>\n                  <option value="%" ','>%</option>\n                </select>\n              </div>\n            </div>\n          </div>          \n          <div class="input-field">\n            <div class="slider">\n              <label>outset</label>\n            </div>\n            <div class="input-ui">\n              <div class="input">\n                <input type="number" min="0" max="100" value="','" ref="$outset" />\n              </div>\n              <div class="select">\n                <select class="unit" ref="$unit">\n                  <option value="px">px</option>\n                </select>\n              </div>\n            </div>\n          </div>          \n          <div class="input-field">\n            <div class="slider">\n              <label>Repeat</label>\n            </div>\n            <div class="input-ui">\n              <div class="style">\n                <select ref="$repeat">\n                  ',"\n                </select>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    "],e||(e=t.slice(0)),ww=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),n.borderImage.width.value,n.borderImage.slice.value,"px"===n.borderImage.slice.unit?"selected":"",["percent","%"].includes(n.borderImage.slice.unit)?"selected":"",n.borderImage.outset.value,Dw.map((function(t){return'<option value="'.concat(t,'">').concat(t,"</option>")})))}},{key:"getBody",value:function(){return"\n        ".concat(this.getTemplateForBorderImageProperty(),"\n    ")}},{key:"refresh",value:function(){this.load()}},{key:bo("$preview"),value:function(){var t=fa.selection.current,e=new bd;t&&(this.emit("showFillPicker",jw(jw({},t.borderImage.source||e.toJSON()),{},{refresh:!0}),{id:this.source}),this.emit("hideBackgroundPropertyPopup"))}},{key:So("$unit"),value:function(t){this.refreshBorderImageInfo()}},{key:Po("$width"),value:function(t){this.refreshBorderImageInfo({width:this.refs.$width.value})}},{key:Po("$outset"),value:function(t){this.refreshBorderImageInfo({outset:this.refs.$outset.value})}},{key:Po("$slice"),value:function(t){this.refreshBorderImageInfo({slice:new Kr(this.refs.$slice.value,this.refs.$sliceUnit.value)})}},{key:So("$repeat"),value:function(t){this.refreshBorderImageInfo({repeat:this.refs.$repeat.value})}},{key:"refreshBorderImageInfo",value:function(t){var e=fa.selection.current;e&&(e.setBorderImage(t),this.refresh(),this.emit("refreshCanvas"))}},{key:Mi("changeFillPicker"),value:function(t,e){if(e.id===this.source){var n=new Yy;n.setGradient(t),this.refreshBorderImageInfo({source:t}),this.refs.$gradientView.css("background-image",n.image.toString())}}}])&&_w(e.prototype,n),r&&_w(e,r),i}(Rm);function Aw(t){return(Aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uw(t,e){return(Uw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fw(t);if(e){var o=Fw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nw(this,n)}}function Nw(t,e){return!e||"object"!==Aw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fw(t){return(Fw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gw,zw={SaveProperty:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uw(t,e)}(i,t);var e,n,r,o=Hw(i);function i(){return Vw(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Save List"}},{key:"initState",value:function(){return{list:[]}}},{key:"getClassName",value:function(){return"save"}},{key:"getTools",value:function(){return'<button type="button" ref="$add">'.concat(sp,"</button>")}},{key:"getBody",value:function(){return Je(Bw||(t=['\n      <div class="property-item save-item" ref="$saveList">\n        \n      </div>\n    '],e||(e=t.slice(0)),Bw=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}},{key:Xo("$saveList"),value:function(){return this.state.list.map((function(t){var e=Kr.parse(t.css.width),n=Kr.parse(t.css.height),r=1,o=1;return e.value<n.value?r=o=150/n.value:e.value>n.value?o=r=200/e.value:r=o=150/n.value,'<div class=\'save-list-item\'>\n                <div class="preview-container">\n                  <div class="preview" style="'.concat(t.preview,"; transform: translate(-50%, -50%) scale(").concat(r,", ").concat(o,');"></div>\n                </div>\n                <pre class="codeview">').concat(JSON.stringify(t.css,null,2),"</pre>\n              </div>")}))}},{key:bo("$add"),value:function(){var t={json:fa.selection.current.toJSON(),css:fa.selection.current.toCSS(),preview:fa.selection.current.toString()};console.log(t.json),this.state.list.push(t),this.load("$saveList")}}])&&Lw(e.prototype,n),r&&Lw(e,r),i}(Rm),BorderImageProperty:Mw,OutlineProperty:$w,BoxShadowProperty:pw,SizeProperty:zk,BorderRadiusProperty:Ak,BorderProperty:jk,FilterProperty:dk,BackgroundColorProperty:nk,FillProperty:zm};function Xw(t){return(Xw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ww(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qw(t,e){return(qw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zw(t);if(e){var o=Zw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jw(this,n)}}function Jw(t,e){return!e||"object"!==Xw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zw(t){return(Zw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qw,tO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qw(t,e)}(i,t);var e,n,r,o=Kw(i);function i(){return Yw(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return Je(Gw||(t=['\n      <div class="feature-control">\n          <SizeProperty />\n          <BackgroundColorProperty />        \n          <FillProperty />        \n          <BorderRadiusProperty />        \n          <BorderProperty />\n          <BorderImageProperty />        \n          <OutlineProperty />\n          <FilterProperty />        \n      </div>\n    '],e||(e=t.slice(0)),Gw=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}},{key:"components",value:function(){return zw}}])&&Ww(e.prototype,n),r&&Ww(e,r),i}(Ai);function eO(t){return(eO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nO(Object(n),!0).forEach((function(e){oO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uO(t,e,n){return(uO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fO(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function cO(t,e){return(cO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fO(t);if(e){var o=fO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sO(this,n)}}function sO(t,e){return!e||"object"!==eO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fO(t){return(fO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hO,pO=[{type:"linear-gradient",title:"Linear Gradient"},{type:"repeating-linear-gradient",title:"Repeating Linear Gradient"},{type:"radial-gradient",title:"Radial Gradient"},{type:"repeating-radial-gradient",title:"Repeating Radial Gradient"},{type:"conic-gradient",title:"Conic Gradient"},{type:"repeating-conic-gradient",title:"Repeating Conic Gradient"},{type:"image",title:"Image",icon:lp}],vO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cO(t,e)}(i,t);var e,n,r,o=lO(i);function i(){return iO(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"afterRender",value:function(){var t=this;this.colorPicker=wh.create({type:"sketch",position:"inline",container:this.refs.$color.el,color:"rgba(0, 0, 0, 0)",localStorage:{prefix:"easylogic.gradient.colorpicker"},onChange:function(e){t.changeColor(e)}}),setTimeout((function(){t.colorPicker.dispatch("initColor","rgba(0, 0, 0, 0)")}),100)}},{key:"initialize",value:function(){uO(fO(i.prototype),"initialize",this).call(this),this.selectedTab="image"}},{key:"template",value:function(){return Je(Qw||(t=['\n      <div class="fill-picker">\n        <div class="picker-tab">\n          <div class="picker-tab-list" ref="$tab" data-value="linear-gradient">\n            ','\n          </div>\n        </div>\n        <div class="picker-tab-container" ref="$tabContainer">\n          <div\n            class="picker-tab-content"\n            data-content-type="color"\n            ref="$color"\n          ></div>\n          <div\n            class="picker-tab-content"\n            data-content-type="image"\n            ref="$image"\n          >\n            <div class="image-preview">\n              <figure>\n                <img src="" ref="$imagePreview" />\n                <div class="select-text">Select a image</div>\n              </figure>\n              <input type="file" ref="$imageFile" accept="image/*" />\n            </div>\n          </div>\n        </div>\n      </div>\n    '],e||(e=t.slice(0)),Qw=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),pO.map((function(t){return"\n                <span \n                    class='picker-tab-item ".concat(t.selected?"selected":fe,"' \n                    data-selected-value='").concat(t.type,"'\n                    title='").concat(t.title,"'\n                >\n                    <div class='icon'>").concat(t.icon||fe,"</div>\n                </span>")})));var t,e}},{key:So("$imageFile"),value:function(t){var e=this.refs.$imageFile.files.map((function(t){return fa.createUrl(t)}));e&&(this.refs.$imagePreview.attr("src",e[0]),this.emit("changeFillPicker",{type:"image",images:e},this.state.params))}},{key:bo("$tab .picker-tab-item"),value:function(t){var e=t.$delegateTarget.attr("data-selected-value");this.selectTabContent(e,{type:e,selectTab:!0})}},{key:"selectTabContent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(this.selectedTab=t,this.$el.attr("data-gradient-type",t),this.refs.$tab.attr("data-value",t),this.refs.$tabContainer.attr("data-value","image"===t?"image":"color"),t){case"image":e.url&&this.refs.$imagePreview.attr("src",e.url),this.emit("hideGradientEditor");break;default:var n={refresh:e.refresh||!1,type:e.type||"static-gradient",selectColorStepId:e.selectColorStepId,angle:e.angle||0,radialType:e.radialType,radialPosition:e.radialPosition};e.colorsteps&&(n.colorsteps=e.colorsteps),this.emit("showGradientEditor",n,e.selectTab)}}},{key:"changeColor",value:function(t){this.emit("changeColorPicker",t)}},{key:Mi("showFillPicker"),value:function(t,e){this.$el.show(),this.state.params=e,this.selectTabContent(t.type,t),this.emit("hidePicker")}},{key:Mi("hideFillPicker","hidePicker","CHANGE_SELECTION"),value:function(){this.$el.hide()}},{key:Mi("selectColorStep"),value:function(t){this.colorPicker.initColorWithoutChangeEvent(t)}},{key:Mi("changeColorStep"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.emit("changeFillPicker",rO({type:this.selectedTab},t),this.state.params)}}])&&aO(e.prototype,n),r&&aO(e,r),i}(Ai),dO=n(0),yO=n.n(dO);n(1);function gO(t){return(gO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kO(t,e){return(kO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$O(t);if(e){var o=$O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return OO(this,n)}}function OO(t,e){return!e||"object"!==gO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $O(t){return($O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kO(t,e)}(i,t);var e,n,r,o=wO(i);function i(){return bO(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"afterRender",value:function(){var t=this;this.colorPicker=yO.a.create({type:"sketch",position:"inline",container:this.refs.$color.el,color:"rgba(0, 0, 0, 0)",onChange:function(e){t.changeColor(e)}}),setTimeout((function(){t.colorPicker.initColorWithoutChangeEvent("rgba(0, 0, 0, 0)")}),100)}},{key:"template",value:function(){return Je(hO||(t=['\n      <div class="fill-picker" data-gradient-type="static-gradient">\n        <div class="picker-tab-container" ref="$tabContainer">\n          <div\n            class="picker-tab-content selected"\n            data-content-type="color"\n            ref="$color"\n          ></div>\n        </div>\n      </div>\n    '],e||(e=t.slice(0)),hO=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}},{key:"changeColor",value:function(t){this.emit(this.changeEvent,t,this.changeData)}},{key:Mi("showColorPicker"),value:function(t,e){this.$el.show(),this.changeEvent=t.changeEvent,this.changeData=e,this.colorPicker.initColorWithoutChangeEvent(t.color),this.emit("hidePicker")}},{key:Mi("hidePicker","hideColorPicker","CHANGE_EDITOR","CHANGE_SELECTION"),value:function(){this.$el.hide()}}])&&mO(e.prototype,n),r&&mO(e,r),i}(Ai);function CO(t){return(CO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PO(t,e){return(PO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=EO(t);if(e){var o=EO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RO(this,n)}}function RO(t,e){return!e||"object"!==CO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function EO(t){return(EO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var TO,IO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PO(t,e)}(i,t);var e,n,r,o=_O(i);function i(){return jO(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n            <div class='export-view'>\n              <div class=\"codeview\">\n                <textarea ref='$preview'></textarea>\n              </div>\n            </div>\n        "}},{key:"loadCode",value:function(){var t=fa.selection.current;t&&this.refs.$preview.text(t.toString().replace(/;/gi,";\n")+";")}},{key:"refresh",value:function(){this.loadCode()}},{key:Mi("refreshCanvas"),value:function(){this.refresh()}}])&&SO(e.prototype,n),r&&SO(e,r),i}(Ai);function BO(t){return(BO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?DO(Object(n),!0).forEach((function(e){AO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function AO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UO(t,e){return(UO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function HO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=FO(t);if(e){var o=FO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return NO(this,n)}}function NO(t,e){return!e||"object"!==BO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function FO(t){return(FO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var GO,zO=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],XO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UO(t,e)}(i,t);var e,n,r,o=HO(i);function i(){return VO(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{UnitRange:Om}}},{key:"initState",value:function(){return{size:"auto",repeat:"no-repeat",x:Kr.px(0),y:Kr.px(0),width:Kr.px(0),height:Kr.px(0),maxWidth:100,maxHeight:100,position:{left:0,bottom:0}}}},{key:"getMaxWidth",value:function(){return this.state.maxWidth}},{key:"getMaxHeight",value:function(){return this.state.maxHeight}},{key:"updateX",value:function(t){this.updateData({x:t})}},{key:"updateY",value:function(t){this.updateData({y:t})}},{key:"updateWidth",value:function(t){this.updateData({width:t})}},{key:"updateHeight",value:function(t){this.updateData({height:t})}},{key:"updateData",value:function(t){this.setState(t),this.emit("changeBackgroundPropertyPopup",t)}},{key:"templateForSize",value:function(){return'\n      <div class=\'popup-item\'>\n        <label>size</label>\n        <div class=\'size-list\' ref="$size" data-value="contain">\n            <button type="button" value="contain" >contain</button>\n            <button type="button" value="cover">cover</button>\n            <button type="button" value="auto">auto</button>\n        </div>\n      </div>\n    '}},{key:bo("$size button"),value:function(t){var e=t.$delegateTarget;this.refs.$size.attr("data-value",e.value),this.updateData({size:e.value})}},{key:"templateForX",value:function(){return'\n      <div class=\'popup-item\'>\n        <label>X</label>\n        <UnitRange \n            ref="$x" \n            min="-1000" max="1000" step="1" value="0" unit="px"\n            maxValueFunction="getMaxWidth"\n            updateFunction="updateX"\n        />\n      </div>\n    '}},{key:"templateForY",value:function(){return'\n      <div class=\'popup-item\'>\n        <label>y</label>\n        <UnitRange \n            ref="$y" \n            min="-1000" max="1000" step="1" value="0" unit="px"\n            maxValueFunction="getMaxHeight"\n            updateFunction="updateY"\n        />\n      </div>\n    '}},{key:"templateForWidth",value:function(){return'\n    <div class=\'popup-item\'>\n      <label>Width</label>\n      <UnitRange \n          ref="$width" \n          min="0" max="1000" step="1" value="0" unit="px"\n          maxValueFunction="getMaxWidth"\n          updateFunction="updateWidth"\n      />\n    </div>\n    '}},{key:"templateForHeight",value:function(){return'\n    <div class=\'popup-item\'>\n      <label>Height</label>\n      <UnitRange \n          ref="$height" \n          min="0" max="1000" step="1" value="0" unit="px"\n          maxValueFunction="getMaxHeight"\n          updateFunction="updateHeight"\n      />\n    </div>\n    '}},{key:"templateForRepeat",value:function(){return'\n    <div class=\'popup-item\'>\n      <label>Repeat</label>\n      <div class=\'repeat-list\' ref="$repeat" data-value=\'repeat\'>\n          <button type="button" value=\'no-repeat\' title="no-repeat"></button>\n          <button type="button" value=\'repeat\' title="repeat"></button>\n          <button type="button" value=\'repeat-x\' title="repeat-x"></button>\n          <button type="button" value=\'repeat-y\' title="repeat-y"></button>\n          <button type="button" value=\'space\' title="space"></button>\n          <button type="button" value=\'round\' title="round"></button>\n      </div>\n    </div>\n    '}},{key:bo("$repeat button"),value:function(t){var e=t.$delegateTarget;this.refs.$repeat.attr("data-value",e.value),this.updateData({repeat:e.value})}},{key:"templateForBlendMode",value:function(){return Je(TO||(t=["\n    <div class='popup-item'>\n      <label>Blend</label>\n      <div class='blend-list' \">\n        <select ref='$blend' class='full-size'>\n          ","\n        </select>\n      </div>\n    </div>\n    "],e||(e=t.slice(0)),TO=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),zO.map((function(t){return"<option value=".concat(t,">").concat(t,"</option>")})));var t,e}},{key:So("$blend"),value:function(){var t=this.refs.$blend.value;this.updateData({blendMode:t})}},{key:"template",value:function(){return"\n      <div class='popup background-property-popup' style=\"padding-top: 10px\">\n        <div class='popup-content'>\n          ".concat(this.templateForSize(),"        \n          ").concat(this.templateForX(),"\n          ").concat(this.templateForY(),"\n          ").concat(this.templateForWidth(),"\n          ").concat(this.templateForHeight(),"\n          ").concat(this.templateForRepeat(),"\n          ").concat(this.templateForBlendMode(),"\n        </div>\n      </div>\n    ")}},{key:"refreshUnitRange",value:function(){this.children.$x.refreshValue(this.data.x),this.children.$y.refreshValue(this.data.y),this.children.$width.refreshValue(this.data.width),this.children.$height.refreshValue(this.data.height),this.refs.$size.attr("data-value",this.data.size),this.refs.$repeat.attr("data-value",this.data.repeat),this.refs.$blend.val(this.data.blendMode)}},{key:Mi("showBackgroundPropertyPopup"),value:function(t){var e,n,r,o;this.data=MO(MO({},this.data),t),null!==(e=this.data.x)&&void 0!==e&&e.isString()&&(this.data.x=null===(r=this.data.x)||void 0===r?void 0:r.toPercent()),null!==(n=this.data.y)&&void 0!==n&&n.isString()&&(this.data.y=null===(o=this.data.y)||void 0===o?void 0:o.toPercent()),this.refreshUnitRange(),this.$el.css({position:"relative",right:"auto",bottom:"auto"}).show("inline-block")}},{key:Mi("hideBackgroundPropertyPopup","hidePropertyPopup","CHANGE_EDITOR","CHANGE_SELECTION"),value:function(){this.$el.hide()}}])&&LO(e.prototype,n),r&&LO(e,r),i}(Ai);function YO(t){return(YO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function WO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KO(t,e){return(KO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function JO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=QO(t);if(e){var o=QO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ZO(this,n)}}function ZO(t,e){return!e||"object"!==YO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function QO(t){return(QO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var t$,e$=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KO(t,e)}(i,t);var e,n,r,o=JO(i);function i(){return WO(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{inset:!1,offsetX:Kr.px(0),offsetY:Kr.px(0),blurRadius:Kr.px(0),spreadRadius:Kr.px(0)}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit("changeBoxShadowPropertyPopup",t)}},{key:"template",value:function(){return"<div class='popup box-shadow-property-popup' ref='$popup'></div>"}},{key:Xo("$popup"),value:function(){return Je(GO||(t=['\n      <div class="box">\n        <div class="type">\n          <label>Type</label>\n          <div\n            class="select"\n            data-selected-value="','"\n            ref="$type"\n          >\n            <button type="button" data-value="outset">Outset</button>\n            <button type="button" data-value="inset">Inset</button>\n          </div>\n        </div>\n        <div class="offset-x">\n          <label>Offset X</label>\n          <div class="input">\n            <input\n              type="number"\n              ref="$offsetX"\n              data-type="offsetX"\n              value="','"\n            />\n            <select ref="$offsetXUnit">\n              <option value="px">px</option>\n              <option value="em">em</option>\n              <option value="%">%</option>\n            </select>\n          </div>\n        </div>\n        <div class="offset-y">\n          <label>Offset Y</label>\n          <div class="input">\n            <input\n              type="number"\n              ref="$offsetY"\n              data-type="offsetY"\n              value="','"\n            />\n            <select ref="$offsetYUnit">\n              <option value="px">px</option>\n              <option value="em">em</option>\n              <option value="%">%</option>\n            </select>\n          </div>\n        </div>\n        <div class="blur-radius">\n          <label>Blur</label>\n          <div class="input">\n            <input\n              type="range"\n              ref="$blurRadiusRange"\n              data-type="blurRadius"\n              value="','"\n            />\n            <input\n              type="number"\n              ref="$blurRadiusNumber"\n              data-type="blurRadius"\n              value="','"\n            />\n            <select ref="$blurRadiusUnit">\n              <option value="px">px</option>\n              <option value="em">em</option>\n              <option value="%">%</option>\n            </select>\n          </div>\n        </div>\n        <div class="spread-radius">\n          <label>Spread</label>\n          <div class="input">\n            <input\n              type="range"\n              ref="$spreadRadiusRange"\n              data-type="spreadRadius"\n              value="','"\n            />\n            <input\n              type="number"\n              ref="$spreadRadiusNumber"\n              data-type="spreadRadius"\n              value="','"\n            />\n            <select ref="$spreadRadiusUnit">\n              <option value="px">px</option>\n              <option value="em">em</option>\n              <option value="%">%</option>\n            </select>\n          </div>\n        </div>\n        <div class="drag-board" ref="$dragBoard">\n          <div\n            class="pointer"\n            ref="$pointer"\n            style="left: ',";top: ",'"\n          ></div>\n        </div>\n      </div>\n    '],e||(e=t.slice(0)),GO=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),this.state.inset?"inset":"outset",this.state.offsetX.value.toString(),this.state.offsetY.value.toString(),this.state.blurRadius.value.toString(),this.state.blurRadius.value.toString(),this.state.spreadRadius.value.toString(),this.state.spreadRadius.value.toString(),this.state.offsetX.toString(),this.state.offsetY.toString());var t,e}},{key:Po('$popup input[data-type="offsetX"]'),value:function(t){this.updateData({offsetX:new Kr(+t.$delegateTarget.value,this.getRef("$offsetXUnit").value)}),this.refreshPointer()}},{key:Po('$popup input[data-type="offsetY"]'),value:function(t){this.updateData({offsetY:new Kr(+t.$delegateTarget.value,this.getRef("$offsetYUnit").value)}),this.refreshPointer()}},{key:Po('$popup input[data-type="blurRadius"]'),value:function(t){"range"===t.$delegateTarget.attr("type")?this.getRef("$blurRadiusNumber").val(t.$delegateTarget.value):this.getRef("$blurRadiusRange").val(t.$delegateTarget.value),this.updateData({blurRadius:new Kr(+t.$delegateTarget.value,this.getRef("$blurRadiusUnit").value)})}},{key:Po('$popup input[data-type="spreadRadius"]'),value:function(t){"range"===t.$delegateTarget.attr("type")?this.getRef("$spreadRadiusNumber").val(t.$delegateTarget.value):this.getRef("$spreadRadiusRange").val(t.$delegateTarget.value),this.updateData({spreadRadius:new Kr(+t.$delegateTarget.value,this.getRef("$spreadRadiusUnit").value)})}},{key:bo("$popup .select button"),value:function(t){var e=t.$delegateTarget.attr("data-value");this.getRef("$type").attr("data-selected-value",e),this.updateData({inset:"inset"===e})}},{key:"refresh",value:function(){this.load()}},{key:Io("$popup .drag-board")+No("movePointer"),value:function(t){this.offsetX=t.offsetX,this.offsetY=t.offsetY;var e=this.getRef("$dragBoard").rect();this.boardWidth=e.width,this.boardHeight=e.height}},{key:"refreshPointer",value:function(){this.getRef("$pointer").css({left:this.state.offsetX,top:this.state.offsetY})}},{key:"movePointer",value:function(t,e){var n=this.offsetX+t,r=this.offsetY+e,o=this.boardWidth/2,i=this.boardHeight/2,a=n-o,u=r-i;a<-o?a=-o:a>o&&(a=o),u<-i?u=-i:u>i&&(u=i),this.getRef("$offsetX").val(a),this.getRef("$offsetY").val(u),this.updateData({offsetX:Kr.px(a),offsetY:Kr.px(u)}),this.refreshPointer()}},{key:Mi("showBoxShadowPropertyPopup"),value:function(t){this.setState(t),this.refresh(),this.$el.css({top:Kr.px(450),right:Kr.px(10),bottom:Kr.auto}).show("inline-block"),this.emit("hidePropertyPopup")}},{key:Mi("hideBoxShadowPropertyPopup","hidePropertyPopup","CHANGE_EDITOR","CHANGE_SELECTION"),value:function(){this.$el.hide()}}])&&qO(e.prototype,n),r&&qO(e,r),i}(Ai);function n$(t){return(n$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i$(t,e){return(i$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a$(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c$(t);if(e){var o=c$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u$(this,n)}}function u$(t,e){return!e||"object"!==n$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c$(t){return(c$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l$=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i$(t,e)}(i,t);var e,n,r,o=a$(i);function i(){return r$(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"afterRender",value:function(){var t=this;this.colorPicker=yO.a.create({type:"sketch",position:"inline",container:this.refs.$el.el,color:"rgba(0, 0, 0, 0)",onChange:function(e){t.changeColor(e)}})}},{key:"template",value:function(){return Je(t$||(t=['\n      <div class="embed-color-picker"></div>\n    '],e||(e=t.slice(0)),t$=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}},{key:"getValue",value:function(){this.colorPicker.getColor()}},{key:"setValue",value:function(t){this.colorPicker.initColorWithoutChangeEvent(t)}},{key:"changeColor",value:function(t){this.parent.trigger(this.props.onchange,t,this.changeData)}}])&&o$(e.prototype,n),r&&o$(e,r),i}(Ai);function s$(t){return(s$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p$(t,e){return(p$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v$(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y$(t);if(e){var o=y$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d$(this,n)}}function d$(t,e){return!e||"object"!==s$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y$(t){return(y$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g$(t){return(g$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k$(t,e){return(k$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w$(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$$(t);if(e){var o=$$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O$(this,n)}}function O$(t,e){return!e||"object"!==g$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $$(t){return($$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x$={BoxShadowPropertyPopup:e$,BackgroundPropertyPopup:XO,ColorPickerPopup:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k$(t,e)}(i,t);var e,n,r,o=w$(i);function i(){return b$(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"ColorPicker"}},{key:"getClassName",value:function(){return"compact"}},{key:"initState",value:function(){return{color:"rgba(0, 0, 0, 1)"}}},{key:"components",value:function(){return{EmbedColorPicker:l$}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.state.target&&this.state.target.trigger(this.state.changeEvent,this.state.color,this.params)}},{key:"updateEndData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.state.target&&this.state.target.trigger(this.state.changeEndEvent,this.state.color,this.params)}},{key:"getBody",value:function(){return"\n      <div class=\"color-picker-popup\">\n        <div class='box'>\n          <EmbedColorPicker ref='$color' value='".concat(this.state.color,"' onchange='changeColor' onchangeend=\"changeEndColor\" />\n        </div>\n      </div>\n    ")}},{key:Mi("changeColor"),value:function(t){this.updateData({color:t})}},{key:Mi("changeEndColor"),value:function(t){this.updateEndData({color:t})}},{key:Mi("showColorPickerPopup"),value:function(t,e){t.changeEvent=t.changeEvent||"changeFillPopup",this.params=e,this.setState(t,!1),this.children.$color.setValue(this.state.color),this.show(232)}},{key:Mi("hideColorPickerPopup"),value:function(){this.hide()}}])&&m$(e.prototype,n),r&&m$(e,r),i}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p$(t,e)}(i,t);var e,n,r,o=v$(i);function i(){return f$(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n        <div class='popup ".concat(this.getClassName(),"'>\n            <div class='popup-title' ref=\"$title\">\n                <label>").concat(this.getTitle(),'</label>\n                <span class="tools">\n                  ').concat(this.getTools(),"\n                  <button type='button' class='close' ref='$close'>&times;</button>\n                </span>\n            </div>\n            <div class='popup-body'>").concat(this.getBody(),"</div>\n        </div>\n        ")}},{key:"getClassName",value:function(){return""}},{key:"getTitle",value:function(){return""}},{key:"getTools",value:function(){return""}},{key:"getBody",value:function(){return""}},{key:bo("$close"),value:function(){this.$el.hide()}},{key:Io("$title")+No("movePopupTitle")+Fo("endPopupTitle"),value:function(){this.x=Kr.parse(this.$el.css("left")),this.y=Kr.parse(this.$el.css("top"))}},{key:"movePopupTitle",value:function(t,e){var n=Kr.px(this.x.value+t),r=Kr.px(this.y.value+e);this.$el.css({left:n,top:r,right:"auto",bottom:"auto"})}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,e=28,n=320,r=this.$el.css("top"),o=this.$el.css("left"),i="auto"!==r?Kr.parse(r):Kr.px(110),a="auto"!==o?Kr.parse(o):Kr.px(document.body.clientWidth-n-e-t);this.$el.css({top:i,left:a}).show("inline-block")}},{key:"hide",value:function(){this.$el.hide()}},{key:Mi("hidePropertyPopup"),value:function(){this.hide()}}])&&h$(e.prototype,n),r&&h$(e,r),i}(Ai))};function C$(t){return(C$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P$(t,e){return(P$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _$(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E$(t);if(e){var o=E$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R$(this,n)}}function R$(t,e){return!e||"object"!==C$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E$(t){return(E$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T$=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P$(t,e)}(i,t);var e,n,r,o=_$(i);function i(){return j$(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n        <div class=\'saved-gradient-list-view\'>\n            <div class="gradient-list-container" ref="$container">\n\n            </div>\n        </div>\n    '}},{key:Xo("$container"),value:function(){var t=fa.load();return t.reverse(),t.map((function(t){return'<div class=\'gradient-list-item\'>\n              <div class="preview" data-id="'.concat(t.id,'" style="').concat(t.preview,'"></div>\n              <div class="tools">\n                <button type="button" class="export" data-id="').concat(t.id,'">export</button>\n              </div>\n          </div>')}))}},{key:"afterRender",value:function(){this.refresh()}},{key:"refresh",value:function(){this.load()}},{key:bo("$el"),value:function(){this.trigger("hideGradientListView")}},{key:Mi("showGradientListView"),value:function(){this.$el.toggleClass("show",!0)}},{key:Mi("hideGradientListView"),value:function(){this.$el.toggleClass("show",!1)}},{key:Mi("toggleGradientListView"),value:function(){this.$el.toggleClass("show")}},{key:Mi("loadGradientList"),value:function(){this.refresh()}},{key:bo("$container .gradient-list-item .preview")+zo,value:function(t){var e=t.$delegateTarget.attr("data-id"),n=fa.load().find((function(t){return t.id===e}));n&&(fa.selection.current.reset(n.json),this.trigger("hideGradientListView"),this.emit("refreshCanvas"),this.emit("selectGradient"))}},{key:bo("$container .gradient-list-item .export")+zo,value:function(t){var e=t.$delegateTarget.attr("data-id"),n=fa.load().find((function(t){return t.id===e}));if(n){var r=new Blob([JSON.stringify(n,null,4)],{type:"application/json"}),o=new FileReader;o.onload=function(t){var e=document.createElement("a");e.download="easylogic-gradient.json",e.style.opacity="0",e.href=t.target.result,e.click()},o.readAsDataURL(r)}}}])&&S$(e.prototype,n),r&&S$(e,r),i}(Ai);function I$(t){return(I$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B$(Object(n),!0).forEach((function(e){M$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L$(t,e){return(L$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function U$(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=N$(t);if(e){var o=N$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H$(this,n)}}function H$(t,e){return!e||"object"!==I$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N$(t){return(N$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var F$=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L$(t,e)}(i,t);var e,n,r,o=U$(i);function i(){return A$(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n            <div class="layout-main -show-timeline" ref="$layoutMain">\n                <div class="layout-header">\n                    <div class="page-tab-menu">\n                      <ToolMenu />\n                    </div>\n                </div>\n                <div class="layout-middle">\n                    <div class="layout-left">\n                        <Inspector />   \n                    </div>\n                    <div class="layout-right">\n                      <BackgroundPropertyPopup />\n                      <BoxShadowPropertyPopup />                          \n                      <VerticalColorStep />\n                      <FillPicker />\n                      <ColorPicker  />\n                    </div>                    \n                    <div class="layout-body">\n                        \x3c!-- LayerToolbar /--\x3e\n                        <CanvasView />\n                    </div>\n                </div>\n                <div class="layout-footer">\n                  <ExportWindow />   \n                  <div class="ad">\n                    <ins class="adsbygoogle"\n                        style="display:block; text-align:center;"\n                        data-ad-layout="in-article"\n                        data-ad-format="fluid"\n                        data-ad-client="ca-pub-9166386451361987"\n                        data-ad-slot="6703713722"></ins>\n                    <script>\n                        (adsbygoogle = window.adsbygoogle || []).push({});\n                    <\/script>\n                  </div>                                                    \n                </div>\n                <div class="layout-feature">\n                  <SavePanel />\n                </div>\n\n                <div class="layout-screen">\n                  <GradientListView />\n                </div>\n                <ColorPickerPopup />\n            </div>\n  \n        '}},{key:"components",value:function(){return D$(D$({},x$),{},{FillPicker:vO,GradientListView:T$,ColorPicker:xO,Inspector:tO,ToolMenu:im,VerticalColorStep:Sp,CanvasView:wg,ExportWindow:IO})}},{key:Mi("load/start"),value:function(t){console.log("최초 로딩은 어디서 할까요?")}},{key:Jo("$layoutMain"),value:function(){return{value:this.state.xxx,style:"".concat(this.state.xxx),class:"".concat(this.state.class)}}},{key:Eo("window")+Ho(100),value:function(t){this.emit("resize/window")}}])&&V$(e.prototype,n),r&&V$(e,r),i}(Ai),G$={createCSSEditor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"white"};return t.type,Oa({components:{CSSEditor:F$},template:"<CSSEditor />"})},CSSEditor:F$};function z$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function X$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z$(Object(n),!0).forEach((function(e){Y$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Y$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(new(X$(X$(X$({},xa),wh),G$).createCSSEditor)).emit("load/start",!0)}]);